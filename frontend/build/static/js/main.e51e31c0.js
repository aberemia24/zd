/*! For license information please see main.e51e31c0.js.LICENSE.txt */
(()=>{var e={341:(e,t,n)=>{"use strict";n.d(t,{N:()=>Ut});class r extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class a extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var s;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(s||(s={}));var l=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};class u{constructor(e){let{headers:t={},customFetch:r,region:a=s.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,318)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return l(this,void 0,void 0,(function*(){try{const{headers:r,method:s,body:l}=t;let u,c={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(c["x-region"]=d),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):"string"===typeof l?(c["Content-Type"]="text/plain",u=l):"undefined"!==typeof FormData&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:u}).catch((e=>{throw new a(e)})),f=h.headers.get("x-relay-error");if(f&&"true"===f)throw new i(h);if(!h.ok)throw new o(h);let p,g=(null!==(n=h.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return p="application/json"===g?yield h.json():"application/octet-stream"===g?yield h.blob():"text/event-stream"===g?h:"multipart/form-data"===g?yield h.formData():yield h.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}}))}}var c=n(340);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:f,PostgrestTransformBuilder:p,PostgrestBuilder:g,PostgrestError:m}=c,v={"X-Client-Info":"realtime-js/2.11.2"};var y,b,w,_,x,S;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(b||(b={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(w||(w={})),function(e){e.websocket="websocket"}(_||(_={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(x||(x={}));class k{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const s=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:o,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class C{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(S||(S={}));const E=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,a)=>(n[a]=R(a,e,t,r),n)),{})},R=(e,t,n,r)=>{const a=t.find((t=>t.name===e)),i=null===a||void 0===a?void 0:a.type,o=n[e];return i&&!r.includes(i)?T(i,o):N(o)},T=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return O(t,n)}switch(e){case S.bool:return A(t);case S.float4:case S.float8:case S.int2:case S.int4:case S.int8:case S.numeric:case S.oid:return P(t);case S.json:case S.jsonb:return j(t);case S.timestamp:return I(t);case S.abstime:case S.date:case S.daterange:case S.int4range:case S.int8range:case S.money:case S.reltime:case S.text:case S.time:case S.timestamptz:case S.timetz:case S.tsrange:case S.tstzrange:default:return N(t)}},N=e=>e,A=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},P=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},j=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},O=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map((e=>T(t,e)))}return e},I=e=>"string"===typeof e?e.replace(" ","T"):e,L=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ${constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D,M,F,z;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(D||(D={}));class U{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=U.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=U.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=U.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,((e,t)=>{i[e]||(s[e]=t)})),this.map(i,((e,t)=>{const n=a[e];if(n){const r=t.map((e=>e.presence_ref)),a=n.map((e=>e.presence_ref)),i=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(o[e]=i),l.length>0&&(s[e]=l)}else o[e]=t})),this.syncDiff(a,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,((t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let a=e[t];if(!a)return;const i=n.map((e=>e.presence_ref));a=a.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=a,r(t,a,n),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(M||(M={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(F||(F={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(z||(z={}));class V{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $(this,w.join,this.params,this.timeout),this.rejoinTimer=new C((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this._on(w.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new U(this),this.broadcastEndpointURL=L(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:o}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(z.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(z.CLOSED)));const s={},l={broadcast:a,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:o};this.socket.accessTokenValue&&(s.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},s)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:o,schema:s,table:l,filter:u}}=a,c=n&&n[r];if(!c||c.event!==o||c.schema!==s||c.table!==l||c.filter!==u)return this.unsubscribe(),void(null===e||void 0===e||e(z.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:c.id}))}return this.bindings.postgres_changes=i,void(e&&e(z.SUBSCRIBED))}null===e||void 0===e||e(z.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(z.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(z.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,a,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",(()=>n("ok"))),o.receive("error",(()=>n("error"))),o.receive("timeout",(()=>n("timed out")))}));{const{event:i,payload:o}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=b.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new $(this,w.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout((()=>r.abort()),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new $(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:u}=w;if(n&&[o,s,l,u].indexOf(i)>=0&&n!==this._joinRef())return;let c=this._onMessage(i,t,n);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(c,n))):null===(a=this.bindings[i])||void 0===a||a.filter((e=>{var n,r,a,o,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(s=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"===typeof c&&"ids"in c){const e=c.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};c=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(c,n)}))}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&V.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(w.close,{},e)}_onError(e){this._on(w.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=E(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=E(e.columns,e.old_record)),t}}const B=()=>{},H="undefined"!==typeof WebSocket;class G{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=B,this.conn=null,this.sendBuffer=[],this.serializer=new k,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,318)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${_.websocket}`,this.httpEndpoint=L(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new C((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(H)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new q(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(174).then(n.t.bind(n,174,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return x.Connecting;case y.open:return x.Open;case y.closing:return x.Closing;default:return x.Closed}}isConnected(){return this.connectionState()===x.Open}channel(e){const t=new V(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${a})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(w.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${a&&"("+a+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(w.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class q{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=y.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Z extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function W(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class K extends Z{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class J extends Z{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Q=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const Y=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,318)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},X=e=>{if(Array.isArray(e))return e.map((e=>X(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[a]=X(r)})),t};var ee=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const te=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ne=(e,t,r)=>ee(void 0,void 0,void 0,(function*(){const a=yield Q(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,318))).Response:Response}));e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new K(te(n),e.status||500))})).catch((e=>{t(new J(te(e),e))})):t(new J(te(e),e))}));function re(e,t,n,r,a,i){return ee(this,void 0,void 0,(function*(){return new Promise(((o,s)=>{e(n,((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))})(t,r,a,i)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>o(e))).catch((e=>ne(e,s,r)))}))}))}function ae(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"GET",t,n,r)}))}function ie(e,t,n,r,a){return ee(this,void 0,void 0,(function*(){return re(e,"POST",t,r,a,n)}))}function oe(e,t,n,r,a){return ee(this,void 0,void 0,(function*(){return re(e,"DELETE",t,r,a,n)}))}var se=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const le={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ue={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ce{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Y(r)}uploadOrUpdate(e,t,n,r){return se(this,void 0,void 0,(function*(){try{let a;const i=Object.assign(Object.assign({},ue),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s))):(a=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,s&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===r||void 0===r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:a,headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield c.json();if(c.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(W(a))return{data:null,error:a};throw a}}))}upload(e,t,n){return se(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return se(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ue.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const s=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:i}),l=yield s.json();if(s.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(s){if(W(s))return{data:null,error:s};throw s}}))}createSignedUploadUrl(e,t){return se(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield ie(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new Z("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}))}update(e,t,n){return se(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return se(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return se(this,void 0,void 0,(function*(){try{return{data:{path:(yield ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return se(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),a=yield ie(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return se(this,void 0,void 0,(function*(){try{const r=yield ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null}))),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}))}download(e,t){return se(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield ae(this.fetch,`${this.url}/${n}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}))}info(e){return se(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield ae(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:X(e),error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}))}exists(e){return se(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(W(n)&&n instanceof J){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let s=r.join("&");return""!==s&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${s}`)}}}remove(e){return se(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}))}list(e,t,n){return se(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},le),t),{prefix:e||""});return{data:yield ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const de={"X-Client-Info":"storage-js/2.7.1"};var he=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};class fe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},de),t),this.fetch=Y(n)}listBuckets(){return he(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}}))}getBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return he(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,a){return ee(this,void 0,void 0,(function*(){return re(e,"PUT",t,r,a,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}))}}class pe extends fe{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new ce(this.url,this.headers,e,this.fetch)}}let ge="";ge="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const me={headers:{"X-Client-Info":`supabase-js-${ge}/2.49.4`}},ve={schema:"public"},ye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},be={};var we=n(318),_e=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const xe=e=>{let t;return t=e||("undefined"===typeof fetch?we.default:fetch),function(){return t(...arguments)}},Se=(e,t,n)=>{const r=xe(n),a="undefined"===typeof Headers?we.Headers:Headers;return(n,i)=>_e(void 0,void 0,void 0,(function*(){var o;const s=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${s}`),r(n,Object.assign(Object.assign({},i),{headers:l}))}))};var ke=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const Ce="2.69.1",Ee=3e4,Re=9e4,Te={"X-Client-Info":`gotrue-js/${Ce}`},Ne="X-Supabase-Api-Version",Ae={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Pe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class je extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Oe(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Ie extends je{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Le extends je{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class $e extends je{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class De extends $e{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Me extends $e{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fe extends $e{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ze extends $e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ue extends $e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ve extends $e{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Be(e){return Oe(e)&&"AuthRetryableFetchError"===e.name}class He extends $e{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Ge extends $e{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ze=" \t\n\r=".split(""),We=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ze.length;t+=1)e[Ze[t].charCodeAt(0)]=-2;for(let t=0;t<qe.length;t+=1)e[qe[t].charCodeAt(0)]=t;return e})();function Ke(e,t,n){const r=We[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Je(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)Ke(e.charCodeAt(o),a,i);return t.join("")}function Qe(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Ye(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Qe(r,t)}}function Xe(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Ke(e.charCodeAt(a),n,r);return new Uint8Array(t)}const et=()=>"undefined"!==typeof window&&"undefined"!==typeof document,tt={tested:!1,writable:!1},nt=()=>{if(!et())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(tt.tested)return tt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tt.tested=!0,tt.writable=!0}catch(t){tt.tested=!0,tt.writable=!1}return tt.writable};const rt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,318)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},at=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},it=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},ot=async(e,t)=>{await e.removeItem(t)};class st{constructor(){this.promise=new st.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function lt(e){const t=e.split(".");if(3!==t.length)throw new Ge("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Pe.test(t[n]))throw new Ge("JWT not in base64url format");return{header:JSON.parse(Je(t[0])),payload:JSON.parse(Je(t[1])),signature:Xe(t[2]),raw:{header:t[0],payload:t[1]}}}function ut(e){return("0"+e.toString(16)).substr(-2)}async function ct(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,ut).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await at(e,`${t}-code-verifier`,a);const i=await ct(r);return[i,r===i?"plain":"s256"]}st.promiseConstructor=Promise;const ht=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var ft=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const pt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gt=[502,503,504];async function mt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Ve(pt(e),0);if(gt.includes(e.status))throw new Ve(pt(e),e.status);let r,a;try{r=await e.json()}catch(o){throw new Le(pt(o),o)}const i=function(e){const t=e.headers.get(Ne);if(!t)return null;if(!t.match(ht))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(o){return null}}(e);if(i&&i.getTime()>=Ae.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new He(pt(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new De}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new He(pt(r),e.status,r.weak_password.reasons);throw new Ie(pt(r),e.status||500,a)}async function vt(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[Ne]||(i[Ne]=Ae.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const o=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,a,i){const o=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ve(pt(l),0)}s.ok||await mt(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(l){await mt(l)}}(e,t,n+s,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function yt(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function bt(e){const t=yt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function _t(e){return{data:e,error:null}}function xt(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=ft(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},o)},error:null}}function St(e){return e}var kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class Ct{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=rt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:wt})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=kt(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:xt,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Oe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(t){if(Oe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:St});if(u.error)throw u.error;const c=await u.json(),d=null!==(i=u.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(o=u.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(Oe(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(t){if(Oe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:wt})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:wt})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}}}const Et={getItem:e=>nt()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{nt()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{nt()&&globalThis.localStorage.removeItem(e)}};function Rt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Tt=!!(globalThis&&nt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Nt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class At extends Nt{}async function Pt(e,t,n){Tt&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),Tt&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw Tt&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new At(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tt)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Tt&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Tt&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const jt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Te,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ot(e,t,n){return await n()}class It{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=It.nextInstanceID,It.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},jt),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Ct({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=rt(r.fetch),this.lock=r.lock||Ot,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:et()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Pt:this.lock=Ot,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:nt()?this.storage=Et:(this.memoryStorage={},this.storage=Rt(this.memoryStorage)):(this.memoryStorage={},this.storage=Rt(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Ce}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),et()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Oe(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Oe(t)?{error:t}:{error:new Le("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:yt}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await dt(this.storage,this.storageKey)),a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},xform:yt})}else{if(!("phone"in e))throw new Fe("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:yt})}}const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:bt})}else{if(!("phone"in e))throw new Fe("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:bt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Me}}catch(t){if(Oe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await it(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await ot(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Me}}catch(a){if(Oe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:yt}),{data:s,error:l}=o;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new Me}}catch(t){if(Oe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await dt(this.storage,this.storageKey));const{error:s}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:s}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s}}throw new Fe("You must provide either an email or phone number.")}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:yt});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await dt(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:_t})}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new De;const{error:r}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:o}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new Fe("You must provide either an email or phone number and a type")}catch(t){if(Oe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await it(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Re;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession((async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:wt}):{data:{user:null},error:new De}}))}catch(t){if(Oe(t))return function(e){return Oe(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new De;const i=r.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await dt(this.storage,this.storageKey));const{data:l,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:i.access_token,xform:wt});if(u)throw u;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new De;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=lt(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Oe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new De;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Oe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!et())throw new ze("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ze(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ue("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new ze("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ue("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:o,expires_at:s,token_type:l}=e;if(!a||!o||!i||!l)throw new ze("No session defined in URL");const u=Math.round(Date.now()/1e3),c=parseInt(o);let d=u+c;s&&(d=parseInt(s));const h=d-u;1e3*h<=Ee&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${c}s`);const f=d-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,u);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:c,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(Oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await it(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Oe(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await dt(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,a,i,o;const{data:s,error:l}=t;if(l)throw l;const u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(o=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})}));if(r)throw r;return et()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Oe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Be(t)&&Date.now()+n-a<Ee},new Promise(((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(a){if(!r(i,a))return void t(a)}})()})))}catch(a){if(this._debug(t,"error",a),Oe(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),et()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await it(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Re;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),Be(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new De;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new st;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new De;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),Oe(a)){const e={session:null,error:a};return Be(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(a){r.push(a)}}));if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await at(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ot(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Ee);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Ee);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Nt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await dt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})}))}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}))}catch(t){if(Oe(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Oe(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=lt(r.access_token);let o=null;i.aal&&(o=i.aal);let s=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new Ge("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find((t=>t.kid===e)),!t)throw new Ge("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:o,payload:s}}=lt(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await this.fetchJwk(r.kid,t),c=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,c,i,function(e){const t=[];return Ye(e,(e=>t.push(e))),new Uint8Array(t)}(`${o}.${s}`)))throw new Ge("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}It.nextInstanceID=0;const Lt=It;class $t extends Lt{constructor(e){super(e)}}var Dt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};class Mt{constructor(e,t,n){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=e.replace(/\/$/,"");this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const s=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:r,realtime:a,global:i}=e,{db:o,auth:s,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},s),r),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>ke(this,void 0,void 0,(function*(){return""}))};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}(null!==n&&void 0!==n?n:{},{db:ve,realtime:be,auth:Object.assign(Object.assign({},ye),{storageKey:s}),global:me});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=l.global.headers)&&void 0!==a?a:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=Se(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new d(`${o}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new u(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Dt(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,storageKey:s,flowType:l,lock:u,debug:c}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $t({url:this.authUrl,headers:Object.assign(Object.assign({},d),t),storageKey:s,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,flowType:l,lock:u,debug:c,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new G(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Ft="https://pzyvibdgpfgohvewdmit.supabase.co",zt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6eXZpYmRncGZnb2h2ZXdkbWl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYwMTM4NDgsImV4cCI6MjA2MTU4OTg0OH0.nE0GEDQEwPEE-bYg54R4Td3kRFlgeft6Dfl7ItticdA";const Ut=((e,t,n)=>new Mt(e,t,n))(Ft,zt)},16:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});const r={LOGIN_SUCCES:"Autentificare reu\u0219it\u0103! Bine ai revenit.",LOGIN_ERROR:"Eroare la autentificare. Verific\u0103 emailul \u0219i parola.",LOGOUT_SUCCES:"Te-ai delogat cu succes!",REGISTER_SUCCES:"Cont creat! Verific\u0103 emailul pentru confirmare.",REGISTER_ERROR:"Eroare la crearea contului. \xcencearc\u0103 din nou.",PAROLE_NECORESPUNZATOARE:"Parolele nu coincid!",INVALID_TYPE:"Tip de tranzac\u021bie invalid!",INVALID_CATEGORY:"Categorie invalid\u0103!",MISSING_REQUIRED_FIELD:"C\xe2mp obligatoriu lips\u0103!",NOT_FOUND:"Resursa nu a fost g\u0103sit\u0103!",SERVER_ERROR:"Eroare intern\u0103 server!",TRANSACTION_CREATED:"Tranzac\u021bie ad\u0103ugat\u0103 cu succes!",TRANSACTION_UPDATED:"Tranzac\u021bie actualizat\u0103 cu succes!",TRANSACTION_DELETED:"Tranzac\u021bie \u0219tears\u0103 cu succes!",CAMPURI_OBLIGATORII:"Completeaz\u0103 toate c\xe2mpurile obligatorii",FRECV_RECURENTA:"Selecteaz\u0103 frecven\u021ba pentru tranzac\u021bie recurent\u0103",AVERTISMENT_DATE:"Datele introduse nu sunt valide sau complete.",EROARE_ADAUGARE:"Eroare la ad\u0103ugare",SUCCES_ADAUGARE:"Tranzac\u021bie ad\u0103ugat\u0103 cu succes",SUCCES_EDITARE:"Tranzac\u021bie editat\u0103 cu succes",SUCCES_STERGERE:"Tranzac\u021bie \u0219tears\u0103 cu succes",CONFIRMARE_STERGERE:"Sigur vrei s\u0103 \u0219tergi aceast\u0103 tranzac\u021bie? Aceast\u0103 ac\u021biune nu poate fi anulat\u0103.",EROARE_GENERALA:"A ap\u0103rut o eroare nea\u0219teptat\u0103. \xcencearc\u0103 din nou sau contacteaz\u0103 suportul.",EROARE_TITLU:"Eroare nea\u0219teptat\u0103",EROARE_FORMAT_DATE:"Format de date invalid sau nea\u0219teptat de la server.",EROARE_NECUNOSCUTA:"Eroare necunoscut\u0103",EROARE_INCARCARE_TRANZACTII:"Eroare la \xeenc\u0103rcarea tranzac\u021biilor",EROARE_SALVARE_TRANZACTIE:"Eroare la salvarea tranzac\u021biei",EROARE_STERGERE_TRANZACTIE:"Eroare la \u0219tergerea tranzac\u021biei",LOG_EROARE_INCARCARE:"Eroare la \xeenc\u0103rcarea tranzac\u021biilor:",LOG_EROARE_SALVARE:"Eroare la salvarea tranzac\u021biei:",LOG_EROARE_STERGERE:"Eroare la \u0219tergerea tranzac\u021biei:",EROARE_AUTENTIFICARE:"Date de autentificare incorecte.",EROARE_RLS:"Acces interzis (RLS).",EROARE_RETEA:"Eroare de re\u021bea. \xcencearc\u0103 din nou.",PAROLA_PREA_SLABA:"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.",EROARE_CATEGORIE_SUBCATEGORIE_INVALIDA:"Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.",VALIDARE:{SUMA_INVALIDA:"Suma introdus\u0103 nu este valid\u0103. Folosi\u021bi un format numeric corect (ex: 123.45).",FORMAT_DATE:"Data introdus\u0103 nu are un format valid.",CAMP_LIPSA:"Completa\u021bi toate c\xe2mpurile obligatorii."}}},952:(e,t,n)=>{"use strict";n.d(t,{useAuthStore:()=>u});var r=n(469),a=n(887),i=n(341),o=n(16);let s=function(e){return e.INVALID_CREDENTIALS="INVALID_CREDENTIALS",e.NETWORK="NETWORK",e.RLS_DENIED="RLS_DENIED",e.PASSWORD_WEAK="PASSWORD_WEAK",e.UNKNOWN="UNKNOWN",e}({});const l={async login(e,t){const{data:n,error:r}=await i.N.auth.signInWithPassword({email:e,password:t});let a,o=null;var l,u,c;(null!==n&&void 0!==n&&n.user&&(o={id:n.user.id,email:n.user.email||""}),r)&&(a=null!==(l=r.message)&&void 0!==l&&l.toLowerCase().includes("invalid login credentials")?s.INVALID_CREDENTIALS:null!==(u=r.message)&&void 0!==u&&u.toLowerCase().includes("row-level security")?s.RLS_DENIED:null!==(c=r.message)&&void 0!==c&&c.toLowerCase().includes("network")?s.NETWORK:s.UNKNOWN);return{user:o,error:(null===r||void 0===r?void 0:r.message)||null,errorType:a}},async register(e,t){if(!t||t.length<8||!/[A-Z]/.test(t)||!/[a-z]/.test(t)||!/[0-9]/.test(t)||!/[^A-Za-z0-9]/.test(t))return{user:null,error:o.C.PAROLA_PREA_SLABA,errorType:s.PASSWORD_WEAK};const{data:n,error:r}=await i.N.auth.signUp({email:e,password:t});let a,l=null;var u,c;(null!==n&&void 0!==n&&n.user&&(l={id:n.user.id,email:n.user.email||""}),r)&&(a=null!==(u=r.message)&&void 0!==u&&u.toLowerCase().includes("password")?s.PASSWORD_WEAK:null!==(c=r.message)&&void 0!==c&&c.toLowerCase().includes("network")?s.NETWORK:s.UNKNOWN);return{user:l,error:(null===r||void 0===r?void 0:r.message)||null,errorType:a}},async logout(){await i.N.auth.signOut()},getCurrentUser:()=>i.N.auth.getUser().then((e=>{let{data:t}=e;return null!==t&&void 0!==t&&t.user?{id:t.user.id,email:t.user.email||""}:null})),onAuthStateChange(e){const{data:t}=i.N.auth.onAuthStateChange(e);return i.N.auth.getSession().then((t=>{let{data:{session:n}}=t;n&&e("SIGNED_IN",n)})),t.subscription.unsubscribe}},u=(0,r.v)((0,a.Zr)((e=>({user:null,loading:!1,error:null,errorType:void 0,login:async(t,n)=>{e({loading:!0,error:null,errorType:void 0});const r=await l.login(t,n);e({user:r.user,error:r.error,errorType:r.errorType,loading:!1})},register:async(t,n)=>{e({loading:!0,error:null,errorType:void 0});const r=await l.register(t,n);e({user:r.user,error:r.error,errorType:r.errorType,loading:!1})},logout:async()=>{e({loading:!0,error:null}),await l.logout(),e({user:null,loading:!1})},checkUser:async()=>{e({loading:!0});const t=await l.getCurrentUser();e({user:t,loading:!1})}})),{name:"auth-storage",partialize:e=>({user:e.user})}));l.onAuthStateChange(((e,t)=>{"SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user?u.setState({user:{id:t.user.id,email:t.user.email||""},loading:!1,error:null}):"SIGNED_OUT"===e&&u.setState({user:null,loading:!1,error:null})}))},318:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>o,Request:()=>s,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),o=r.Headers,s=r.Request,l=r.Response},374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(318)),i=r(n(595));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let a=null,o=null,s=null,l=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(s=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,s=null,l=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,l=200,u="OK")}catch(c){404===e.status&&""===t?(l=204,u="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null===a||void 0===a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,u="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:o,count:s,status:l,statusText:u}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},42:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(34)),i=r(n(416)),o=n(401);class s{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new URL(`${this.url}/rpc/${e}`);let l;r||a?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]})).forEach((e=>{let[t,n]=e;s.searchParams.append(t,n)}))):(t="POST",l=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new i.default({method:t,url:s,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=s},595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},416:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(926));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=i},34:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(416));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},926:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(374));class i extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":`${r}.offset`,i="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${s};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(72);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},340:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(42));t.PostgrestClient=a.default;const i=r(n(34));t.PostgrestQueryBuilder=i.default;const o=r(n(416));t.PostgrestFilterBuilder=o.default;const s=r(n(926));t.PostgrestTransformBuilder=s.default;const l=r(n(374));t.PostgrestBuilder=l.default;const u=r(n(595));t.PostgrestError=u.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:u.default}},72:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},306:(e,t,n)=>{"use strict";var r=n(643),a=n(261);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),R=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var $,D=Object.assign;function M(e){if(void 0===$)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,ke=null;function Ce(e){if(e=ba(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=_a(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Re(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Se||null!==ke)&&(Ne(),Re())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=_a(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Oe=!1}function Le(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var $e=!1,De=null,Me=!1,Fe=null,ze={onError:function(e){$e=!0,De=e}};function Ue(e,t,n,r,a,i,o,s,l){$e=!1,De=null,Le.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,We=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Je=a.unstable_requestPaint,Qe=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,St,kt,Ct,Et=!1,Rt=[],Tt=null,Nt=null,At=null,Pt=new Map,jt=new Map,Ot=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function $t(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=ya(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function zt(){Et=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==Nt&&Mt(Nt)&&(Nt=null),null!==At&&Mt(At)&&(At=null),Pt.forEach(Ft),jt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Rt.length){Ut(Rt[0],e);for(var n=1;n<Rt.length;n++){var r=Rt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Nt&&Ut(Nt,e),null!==At&&Ut(At,e),Pt.forEach(t),jt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ot.shift()}var Bt=w.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var a=bt,i=Bt.transition;Bt.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=a,Bt.transition=i}}function qt(e,t,n,r){var a=bt,i=Bt.transition;Bt.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=a,Bt.transition=i}}function Zt(e,t,n,r){if(Ht){var a=Kt(e,t,n,r);if(null===a)Hr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Tt=$t(Tt,e,t,n,r,a),!0;case"dragenter":return Nt=$t(Nt,e,t,n,r,a),!0;case"mouseover":return At=$t(At,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pt.set(i,$t(Pt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,jt.set(i,$t(jt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&_t(i),null===(i=Kt(e,t,n,r))&&Hr(e,t,r,Wt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Wt=null;function Kt(e,t,n,r){if(Wt=null,null!==(e=ya(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=D({},un,{view:0,detail:0}),hn=an(dn),fn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),gn=an(D({},fn,{dataTransfer:0})),mn=an(D({},dn,{relatedTarget:0})),vn=an(D({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(D({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return kn}var En=D({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=an(En),Tn=an(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=an(D({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=an(Pn),On=[9,13,27,32],In=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var $n=c&&"TextEvent"in window&&!Ln,Dn=c&&(!In||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Zn=null;function Wn(e){Mr(e,0)}function Kn(e){if(Z(wa(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Yn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Zn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Zn)){var t=[];Gn(t,Zn,e,_e(e)),Pe(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Zn)}function ir(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(n,i);var o=cr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},kr={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Cr("animationend"),Rr=Cr("animationiteration"),Tr=Cr("animationstart"),Nr=Cr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Ir=Pr[Or];jr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}jr(Er,"onAnimationEnd"),jr(Rr,"onAnimationIteration"),jr(Tr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,u){if(Ue.apply(this,arguments),$e){if(!$e)throw Error(i(198));var c=De;$e=!1,De=null,Me||(Me=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Dr(a,s,u),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Dr(a,s,u),i=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Fr(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&($r.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Jt(t)){case 1:var a=Gt;break;case 4:a=qt;break;default:a=Zt}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=i,a=_e(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Rn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Er:case Rr:case Tr:l=vn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=je(p,h))&&c.push(Gr(p,g,f)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,a),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wa(l),f=null==u?s:wa(u),(s=new c(g,p+"leave",l,n,a)).target=d,s.relatedTarget=f,g=null,ya(a)===r&&((c=new c(h,p+"enter",u,n,a)).target=f,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Zr(f))p++;for(f=0,g=h;g;g=Zr(g))f++;for(;0<p-f;)c=Zr(c),p--;for(;0<f-p;)h=Zr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Zr(c),h=Zr(h)}c=null}else c=null;null!==l&&Wr(o,s,l,c,!1),null!==u&&null!==d&&Wr(o,d,u,c,!0)}if("select"===(l=(s=r?wa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Jn;else if(Hn(s))if(Qn)m=or;else{m=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Gn(o,m,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wa(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,a)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Yt="value"in(Qt=a)?Qt.value:Qt.textContent,Vn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,a),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=$n?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&zn(e,t)?(e=en(),Xt=Yt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Mr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=je(e,n))&&r.unshift(Gr(e,i,a)),null!=(i=je(e,t))&&r.push(Gr(e,i,a))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=je(n,i))&&o.unshift(Gr(n,l,s)):a||null!=(l=je(n,i))&&o.push(Gr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function Xr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Vt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ga="__reactEvents$"+da,ma="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[ha])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _a(e){return e[fa]||null}var xa=[],Sa=-1;function ka(e){return{current:e}}function Ca(e){0>Sa||(e.current=xa[Sa],xa[Sa]=null,Sa--)}function Ea(e,t){Sa++,xa[Sa]=e.current,e.current=t}var Ra={},Ta=ka(Ra),Na=ka(!1),Aa=Ra;function Pa(e,t){var n=e.type.contextTypes;if(!n)return Ra;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ja(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Ca(Na),Ca(Ta)}function Ia(e,t,n){if(Ta.current!==Ra)throw Error(i(168));Ea(Ta,t),Ea(Na,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,B(e)||"Unknown",a));return D({},n,r)}function $a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,Aa=Ta.current,Ea(Ta,e),Ea(Na,Na.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=La(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ca(Na),Ca(Ta),Ea(Ta,e)):Ca(Na),Ea(Na,n)}var Ma=null,Fa=!1,za=!1;function Ua(e){null===Ma?Ma=[e]:Ma.push(e)}function Va(){if(!za&&null!==Ma){za=!0;var e=0,t=bt;try{var n=Ma;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ma=null,Fa=!1}catch(a){throw null!==Ma&&(Ma=Ma.slice(e+1)),Ze(Xe,Va),a}finally{bt=t,za=!1}}return null}var Ba=[],Ha=0,Ga=null,qa=0,Za=[],Wa=0,Ka=null,Ja=1,Qa="";function Ya(e,t){Ba[Ha++]=qa,Ba[Ha++]=Ga,Ga=e,qa=t}function Xa(e,t,n){Za[Wa++]=Ja,Za[Wa++]=Qa,Za[Wa++]=Ka,Ka=e;var r=Ja;e=Qa;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ja=1<<32-ot(t)+a|n<<a|r,Qa=i+e}else Ja=1<<i|n<<a|r,Qa=e}function ei(e){null!==e.return&&(Ya(e,1),Xa(e,1,0))}function ti(e){for(;e===Ga;)Ga=Ba[--Ha],Ba[Ha]=null,qa=Ba[--Ha],Ba[Ha]=null;for(;e===Ka;)Ka=Za[--Wa],Za[Wa]=null,Qa=Za[--Wa],Za[Wa]=null,Ja=Za[--Wa],Za[Wa]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Ja,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ua(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ci(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ua(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ua(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ua(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var gi=w.ReactCurrentBatchConfig;function mi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===j&&yi(i)===t.type)?((r=a(t,n.props)).ref=mi(e,t,n),r.return=e,r):((r=Iu(n.type,n.key,n.props,null,e.mode,r)).ref=mi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=mi(e,null,t),n.return=e,n;case x:return(t=Mu(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===a?u(e,t,n,r):null;case x:return n.key===a?c(e,t,n,r):null;case j:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||L(n))return null!==a?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,a,null);vi(t,r)}return null}function g(a,i,s,l){for(var u=null,c=null,d=i,g=i=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(a,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===s.length)return n(a,d),ai&&Ya(a,g),u;if(null===d){for(;g<s.length;g++)null!==(d=h(a,s[g],l))&&(i=o(d,i,g),null===c?u=d:c.sibling=d,c=d);return ai&&Ya(a,g),u}for(d=r(a,d);g<s.length;g++)null!==(m=p(d,a,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=o(m,i,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(a,e)})),ai&&Ya(a,g),u}function m(a,s,l,u){var c=L(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(a,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(a,g),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return n(a,g),ai&&Ya(a,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(a,y.value,u))&&(s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return ai&&Ya(a,m),c}for(g=r(a,g);!y.done;m++,y=l.next())null!==(y=p(g,a,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(a,e)})),ai&&Ya(a,m),c}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=i;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(i=a(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===j&&yi(u)===c.type){n(r,c.sibling),(i=a(c,o.props)).ref=mi(r,c,o),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((i=Lu(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Iu(o.type,o.key,o.props,null,r.mode,l)).ref=mi(r,i,o),l.return=r,r=l)}return s(r);case x:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Mu(o,r.mode,l)).return=r,r=i}return s(r);case j:return e(r,i,(c=o._init)(o._payload),l)}if(te(o))return g(r,i,o,l);if(L(o))return m(r,i,o,l);vi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Du(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var wi=bi(!0),_i=bi(!1),xi=ka(null),Si=null,ki=null,Ci=null;function Ei(){Ci=ki=Si=null}function Ri(e){var t=xi.current;Ca(xi),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){Si=e,Ci=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===Si)throw Error(i(308));ki=e,Si.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Pi=null;function ji(e){null===Pi?Pi=[e]:Pi.push(e)}function Oi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,ji(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Di(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ii(e,n)}return null===(a=r.interleaved)?(t.next=t,ji(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ii(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var a=e.updateQueue;Li=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?i=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,c=u=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:Li=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);$l|=o,e.lanes=o,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Hi={},Gi=ka(Hi),qi=ka(Hi),Zi=ka(Hi);function Wi(e){if(e===Hi)throw Error(i(174));return e}function Ki(e,t){switch(Ea(Zi,t),Ea(qi,e),Ea(Gi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Gi),Ea(Gi,t)}function Ji(){Ca(Gi),Ca(qi),Ca(Zi)}function Qi(e){Wi(Zi.current);var t=Wi(Gi.current),n=le(t,e.type);t!==n&&(Ea(qi,e),Ea(Gi,n))}function Yi(e){qi.current===e&&(Ca(Gi),Ca(qi))}var Xi=ka(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,ao=w.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(i(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Xo:es,e=n(r,a),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,a)}while(co)}if(ro.current=Yo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,uo=!1,t)throw Error(i(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=so,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((io&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,oo.lanes|=d,$l|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,$l|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function ko(e,t){var n=oo,r=bo(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,bs=!0),r=r.queue,$o(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,Eo.bind(null,n,r,a,t),void 0,null),null===Nl)throw Error(i(349));0!==(30&io)||Co(n,t,a)}return a}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&No(e)}function Ro(e,t,n){return n((function(){To(t)&&No(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function No(e){var t=Ii(e,1);null!==t&&nu(t,e,1,-1)}function Ao(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return bo().memoizedState}function Oo(e,t,n,r){var a=yo();oo.flags|=e,a.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Io(e,t,n,r){var a=bo();r=void 0===r?null:r;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==r&&go(r,o.deps))return void(a.memoizedState=Po(t,n,i,r))}oo.flags|=e,a.memoizedState=Po(1|t,n,i,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function $o(e,t){return Io(2048,8,e,t)}function Do(e,t){return Io(4,2,e,t)}function Mo(e,t){return Io(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4,4,Fo.bind(null,t,e),n)}function Uo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),oo.lanes|=n,$l|=n,e.baseState=!0),t)}function Go(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{bt=n,ao.transition=r}}function qo(){return bo().memoizedState}function Zo(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ko(e))Jo(t,n);else if(null!==(n=Oi(e,t,n,r))){nu(n,e,r,eu()),Qo(n,t,r)}}function Wo(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ko(e))Jo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,ji(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Oi(e,t,a,r))&&(nu(n,e,r,a=eu()),Qo(n,t,r))}}function Ko(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yo={readContext:Ai,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Xo={readContext:Ai,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=yo();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Nl)throw Error(i(349));0!==(30&io)||Co(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Lo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Eo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Nl.identifierPrefix;if(ai){var n=Qa;t=":"+t+"R"+(n=(Ja&~(1<<32-ot(Ja)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Vo,useContext:Ai,useEffect:$o,useImperativeHandle:zo,useInsertionEffect:Do,useLayoutEffect:Mo,useMemo:Bo,useReducer:_o,useRef:jo,useState:function(){return _o(wo)},useDebugValue:Uo,useDeferredValue:function(e){return Ho(bo(),so.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:qo,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Vo,useContext:Ai,useEffect:$o,useImperativeHandle:zo,useInsertionEffect:Do,useLayoutEffect:Mo,useMemo:Bo,useReducer:xo,useRef:jo,useState:function(){return xo(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Ho(t,so.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:qo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Mi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nu(t,e,a,r),zi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Mi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nu(t,e,a,r),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Mi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(nu(t,e,r,n),zi(t,e,r))}};function is(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function os(e,t,n){var r=!1,a=Ra,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=ja(t)?Aa:Ta.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):Ra),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},$i(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=ja(t)?Aa:Ta.current,a.context=Pa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Vi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Mi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),ds(0,t)},n}function ps(e,t,n){(n=Mi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?_i(t,null,n,r):wi(t,e.child,n,r)}function _s(e,t,n,r,a){n=n.render;var i=t.ref;return Ni(t,a),r=mo(e,t,n,r,i,a),n=vo(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function xs(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||ju(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Ou(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,a)}function ks(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Ol,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Ol,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ea(Ol,jl),jl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ea(Ol,jl),jl|=r;return ws(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,a){var i=ja(n)?Aa:Ta.current;return i=Pa(t,i),Ni(t,a),n=mo(e,t,n,r,i,a),r=vo(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Rs(e,t,n,r,a){if(ja(n)){var i=!0;$a(t)}else i=!1;if(Ni(t,a),null===t.stateNode)Bs(e,t),os(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ai(u):u=Pa(t,u=ja(n)?Aa:Ta.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,o,r,u),Li=!1;var h=t.memoizedState;o.state=h,Vi(t,r,o,a),l=t.memoizedState,s!==r||h!==l||Na.current||Li?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Li||is(t,n,s,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Di(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Pa(t,l=ja(n)?Aa:Ta.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Li=!1,h=t.memoizedState,o.state=h,Vi(t,r,o,a);var p=t.memoizedState;s!==d||h!==p||Na.current||Li?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(u=Li||is(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,i,a)}function Ts(e,t,n,r,a,i){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Da(t,n,!1),Hs(e,t,i);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,a&&Da(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Ki(e,t.containerInfo)}function As(e,t,n,r,a){return fi(),pi(a),t.flags|=256,ws(e,t,n,r),t.child}var Ps,js,Os,Is,Ls={dehydrated:null,treeContext:null,retryLane:0};function $s(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,a=t.pendingProps,o=Xi.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ea(Xi,1&o),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=$u(l,a,0,null),e=Lu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$s(n),t.memoizedState=Ls,e):Ms(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=cs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=$u({mode:"visible",children:r.children},a,0,null),(o=Lu(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,s),t.child.memoizedState=$s(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=cs(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Nl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ii(e,a),nu(r,e,a,-1))}return gu(),Fs(e,t,s,r=cs(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ru.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ua(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Za[Wa++]=Ja,Za[Wa++]=Qa,Za[Wa++]=Ka,Ja=e.id,Qa=e.overflow,Ka=t),t=Ms(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ou(r,s):(s=Lu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?$s(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Ou(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ms(e,t){return(t=$u({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pi(r),wi(t,e.child,null,n),(e=Ms(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Us(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Vs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=Xi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(Xi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),$l|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return ja(t.type)&&Oa(),qs(t),null;case 3:return r=t.stateNode,Ji(),Ca(Na),Ca(Ta),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ou(ii),ii=null))),js(e,t),qs(t),null;case 5:Yi(t);var a=Wi(Zi.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=Wi(Gi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)Fr(Lr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in ye(n,o),a=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),X(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)Fr(Lr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":J(e,r),a=K(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ye(n,a),u=a)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":q(e),X(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Is(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Wi(Zi.current),Wi(Gi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return qs(t),null;case 13:if(Ca(Xi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==ii&&(ou(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xi.current)?0===Il&&(Il=3):gu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Ji(),js(e,t),null===e&&Vr(t.stateNode.containerInfo),qs(t),null;case 10:return Ri(t.type._context),qs(t),null;case 19:if(Ca(Xi),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gs(o,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(Xi,1&Xi.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Vl&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return qs(t),null}else 2*Qe()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=Xi.current,Ea(Xi,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ws(e,t){switch(ti(t),t.tag){case 1:return ja(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Ca(Na),Ca(Ta),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Yi(t),null;case 13:if(Ca(Xi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(Xi),null;case 4:return Ji(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Os=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Wi(Gi.current);var i,o=null;switch(n){case"input":a=K(e,a),r=K(e,r),o=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Is=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Js=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){ku(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ga],delete t[ma],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||Xs(n,t);case 6:var r=cl,a=dl;cl=null,hl(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Vt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Js&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ku(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hl(e,t,n),Js=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));fl(o,s,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){ku(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){ku(e,e.return,m)}try{nl(5,e,e.return)}catch(m){ku(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(m){ku(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?me(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,c)}switch(l){case"input":Y(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(m){ku(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){ku(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){ku(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Qe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||d,gl(t,e),Js=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Ys=e,d=e.child;null!==d;){for(h=Ys=d;null!==Ys;){switch(p=(f=Ys).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Xs(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){ku(r,n,m)}}break;case 5:Xs(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Ys=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,c?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(m){ku(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){ku(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ul(e,sl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){ku(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ys=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var a=Ys,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ks;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Ks;var u=Js;if(Ks=o,(Js=l)&&!u)for(Ys=a;null!==Ys;)l=(o=Ys).child,22===o.tag&&null!==o.memoizedState?xl(a):null!==l?(l.return=o,Ys=l):xl(a);for(;null!==i;)Ys=i,bl(i,t,n),i=i.sibling;Ys=a,Ks=s,Js=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Ys=i):wl(e)}}function wl(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Bi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(i(163))}Js||512&t.flags&&al(t)}catch(f){ku(t,t.return,f)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function _l(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function xl(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){ku(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){ku(t,a,l)}}var i=t.return;try{al(t)}catch(l){ku(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){ku(t,o,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var Sl,kl=Math.ceil,Cl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,Tl=0,Nl=null,Al=null,Pl=0,jl=0,Ol=ka(0),Il=0,Ll=null,$l=0,Dl=0,Ml=0,Fl=null,zl=null,Ul=0,Vl=1/0,Bl=null,Hl=!1,Gl=null,ql=null,Zl=!1,Wl=null,Kl=0,Jl=0,Ql=null,Yl=-1,Xl=0;function eu(){return 0!==(6&Tl)?Qe():-1!==Yl?Yl:Yl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==gi.transition?(0===Xl&&(Xl=gt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nu(e,t,n,r){if(50<Jl)throw Jl=0,Ql=null,Error(i(185));vt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Dl|=n),4===Il&&su(e,Pl)),ru(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Qe()+500,Fa&&Va()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Fa=!0,Ua(e)}(lu.bind(null,e)):Ua(lu.bind(null,e)),oa((function(){0===(6&Tl)&&Va()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Yl=-1,Xl=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var a=Tl;Tl|=2;var o=pu();for(Nl===e&&Pl===t||(Bl=null,Vl=Qe()+500,hu(e,t));;)try{yu();break}catch(l){fu(e,l)}Ei(),Cl.current=o,Tl=a,null!==Al?t=0:(Nl=null,Pl=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=iu(e,a))),1===t)throw n=Ll,hu(e,0),su(e,r),ru(e,Qe()),n;if(6===t)su(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=iu(e,o))),1===t))throw n=Ll,hu(e,0),su(e,r),ru(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:_u(e,zl,Bl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Ul+500-Qe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(_u.bind(null,e,zl,Bl),t);break}_u(e,zl,Bl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ra(_u.bind(null,e,zl,Bl),r);break}_u(e,zl,Bl);break;default:throw Error(i(329))}}}return ru(e,Qe()),e.callbackNode===n?au.bind(null,e):null}function iu(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=zl,zl=n,null!==t&&ou(t)),e}function ou(e){null===zl?zl=e:zl.push.apply(zl,e)}function su(e,t){for(t&=~Ml,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Tl))throw Error(i(327));xu();var t=ht(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Ll,hu(e,0),su(e,t),ru(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,zl,Bl),ru(e,Qe()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Qe()+500,Fa&&Va())}}function cu(e){null!==Wl&&0===Wl.tag&&0===(6&Tl)&&xu();var t=Tl;Tl|=1;var n=Rl.transition,r=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=r,Rl.transition=n,0===(6&(Tl=t))&&Va()}}function du(){jl=Ol.current,Ca(Ol)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:Ji(),Ca(Na),Ca(Ta),no();break;case 5:Yi(r);break;case 4:Ji();break;case 13:case 19:Ca(Xi);break;case 10:Ri(r.type._context);break;case 22:case 23:du()}n=n.return}if(Nl=e,Al=e=Ou(e.current,null),Pl=jl=t,Il=0,Ll=null,Ml=Dl=$l=0,zl=Fl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Pi=null}return e}function fu(e,t){for(;;){var n=Al;try{if(Ei(),ro.current=Yo,uo){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}uo=!1}if(io=0,lo=so=oo=null,co=!1,ho=0,El.current=null,null===n||null===n.return){Il=1,Ll=t,Al=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&gs(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){gs(o,c,t),gu();break e}u=Error(i(426))}else if(ai&&1&l.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),pi(us(u,l));break e}}o=u=us(u,l),4!==Il&&(Il=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,fs(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ui(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=Yo,null===e?Yo:e}function gu(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Nl||0===(268435455&$l)&&0===(268435455&Dl)||su(Nl,Pl)}function mu(e,t){var n=Tl;Tl|=2;var r=pu();for(Nl===e&&Pl===t||(Bl=null,hu(e,t));;)try{vu();break}catch(a){fu(e,a)}if(Ei(),Tl=n,Cl.current=r,null!==Al)throw Error(i(261));return Nl=null,Pl=0,Il}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!Ke();)bu(Al)}function bu(e){var t=Sl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,El.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zs(n,t,jl)))return void(Al=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Il=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Il&&(Il=5)}function _u(e,t,n){var r=bt,a=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==Wl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Nl&&(Al=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Nu(tt,(function(){return xu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Rl.transition,Rl.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(ea=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===a&&(l=s),f===o&&++d===r&&(u=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_){ku(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Je(),Tl=l,bt=s,Rl.transition=o}else e.current=n;if(Zl&&(Zl=!1,Wl=e,Kl=a),o=e.pendingLanes,0===o&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&xu(),o=e.pendingLanes,0!==(1&o)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,Va()}(e,t,n,r)}finally{Rl.transition=a,bt=r}return null}function xu(){if(null!==Wl){var e=wt(Kl),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Kl=0,0!==(6&Tl))throw Error(i(331));var a=Tl;for(Tl|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ys=c;null!==Ys;){var d=Ys;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ys=h;else for(;null!==Ys;){var f=(d=Ys).sibling,p=d.return;if(il(d),d===c){Ys=null;break}if(null!==f){f.return=p,Ys=f;break}Ys=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ys=y;break e}Ys=o.return}}var b=e.current;for(Ys=b;null!==Ys;){var w=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Ys=w;else e:for(s=b;null!==Ys;){if(0!==(2048&(l=Ys).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){ku(l,l.return,x)}if(l===s){Ys=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Ys=_;break e}Ys=l.return}}if(Tl=a,Va(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{bt=n,Rl.transition=t}}return!1}function Su(e,t,n){e=Fi(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Fi(t,e=ps(t,e=us(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Il||3===Il&&(130023424&Pl)===Pl&&500>Qe()-Ul?hu(e,0):Ml|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ii(e,t))&&(vt(e,t,n),ru(e,n))}function Ru(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Eu(e,n)}function Nu(e,t){return Ze(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Au(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)ju(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lu(n.children,a,o,t);case k:s=8,a|=8;break;case C:return(e=Pu(12,n,t,2|a)).elementType=C,e.lanes=o,e;case N:return(e=Pu(13,n,t,a)).elementType=N,e.lanes=o,e;case A:return(e=Pu(19,n,t,a)).elementType=A,e.lanes=o,e;case O:return $u(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case R:s=9;break e;case T:s=11;break e;case P:s=14;break e;case j:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Du(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Mu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,a,i,o,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$i(i),e}function Uu(e){if(!e)return Ra;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ja(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(ja(n))return La(e,n,t)}return t}function Vu(e,t,n,r,a,i,o,s,l){return(e=zu(n,r,!0,e,0,i,0,s,l)).context=Uu(null),n=e.current,(i=Mi(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,a),e.current.lanes=a,vt(e,a,r),ru(e,r),e}function Bu(e,t,n,r){var a=t.current,i=eu(),o=tu(a);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,o))&&(nu(e,a,o,i),zi(e,a,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Na.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),fi();break;case 5:Qi(t);break;case 1:ja(t.type)&&$a(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(xi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(Xi,1&Xi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Ea(Xi,1&Xi.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ea(Xi,1&Xi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(Xi,Xi.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&Xa(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var a=Pa(t,Ta.current);Ni(t,n),a=mo(null,t,r,e,a,n);var o=vo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ja(r)?(o=!0,$a(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,$i(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),a){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Rs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Rs(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Ns(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Di(e,t),Vi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,a=us(Error(i(423)),t));break e}if(r!==a){t=As(e,t,r,n,a=us(Error(i(424)),t));break e}for(ri=ua(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=_i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ui(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ds(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,_s(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ea(xi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Na.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Mi(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ti(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ni(t,n),r=r(a=Ai(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),xs(e,t,r,a=ns(r.type,a),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Bs(e,t),t.tag=1,ja(r)?(e=!0,$a(t)):e=!1,Ni(t,n),os(t,r,a),ls(t,r,a,n),Ts(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ks(e,t,n)}throw Error(i(156,t.tag))};var Zu="function"===typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Xu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Hu(o);s.call(e)}}Bu(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Hu(o);i.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Yu);return e._reactRootContainer=o,e[pa]=o.current,Vr(8===e.nodeType?e.parentNode:e),cu(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=l,e[pa]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){Bu(t,l,n,r)})),l}(n,t,e,a,r);return Hu(o)}Ku.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bu(e,t,null,null)},Ku.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Bu(null,e,null,null)})),t[pa]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Dt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Qe()),0===(6&Tl)&&(Vl=Qe()+500,Va()))}break;case 13:cu((function(){var t=Ii(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},xt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Ii(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=_a(r);if(!a)throw Error(i(90));Z(r),Y(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ne=cu;var ec={usingClientEntryPoint:!1,Events:[ba,wa,_a,Ee,Re,uu]},tc={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{at=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(i(299));var n=!1,r="",a=Zu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(i(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Zu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ku(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(i(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},367:(e,t,n)=>{"use strict";var r=n(766);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},766:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(306)},438:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},241:(e,t,n)=>{"use strict";var r=n(643),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},226:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,a)&&!k.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+T(l,0):i,_(o)?(a="",null!=e&&(a=e.replace(R,"$&/")+"/"),N(o,t,a,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(R,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",_(e))for(var u=0;u<e.length;u++){var c=i+T(s=e[u],u);l+=N(s,t,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=N(s=s.value,t,a,c=i+T(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return N(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},O={transition:null},I={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!k.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},643:(e,t,n)=>{"use strict";e.exports=n(226)},507:(e,t,n)=>{"use strict";e.exports=n(241)},498:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,O(x);else{var t=r(c);null!==t&&I(_,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(E),E=-1),p=!0;var i=f;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&a(u),w(n)}else a(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&I(_,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,C=null,E=-1,R=5,T=-1;function N(){return!(t.unstable_now()-T<R)}function A(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(k=!1,C=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,j=P.port2;P.port1.onmessage=A,S=function(){j.postMessage(null)}}else S=function(){v(A,0)};function O(e){C=e,k||(k=!0,S())}function I(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(m?(y(E),E=-1):m=!0,I(_,i-o))):(e.sortIndex=s,n(u,e),g||p||(g=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},261:(e,t,n)=>{"use strict";e.exports=n(498)},333:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},887:(e,t,n)=>{"use strict";n.d(t,{Zr:()=>i});function r(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var r;const a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(a):a(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const a=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>a(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>a(e)(n)}}},i=(e,t)=>(n,i,o)=>{let s={storage:r((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1;const u=new Set,c=new Set;let d=s.storage;if(!d)return e((function(){console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...arguments)}),i,o);const h=()=>{const e=s.partialize({...i()});return d.setItem(s.name,{state:e,version:s.version})},f=o.setState;o.setState=(e,t)=>{f(e,t),h()};const p=e((function(){n(...arguments),h()}),i,o);let g;o.getInitialState=()=>p;const m=()=>{var e,t;if(!d)return;l=!1,u.forEach((e=>{var t;return e(null!=(t=i())?t:p)}));const r=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=i())?e:p))||void 0;return a(d.getItem.bind(d))(s.name).then((e=>{if(e){if("number"!==typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate){const t=s.migrate(e.state,e.version);return t instanceof Promise?t.then((e=>[!0,e])):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[r,a]=e;if(g=s.merge(a,null!=(t=i())?t:p),n(g,!0),r)return h()})).then((()=>{null==r||r(g,void 0),g=i(),l=!0,c.forEach((e=>e(g)))})).catch((e=>{null==r||r(void 0,e)}))};return o.persist={setOptions:e=>{s={...s,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>l,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},s.skipHydration||m(),g||p}},469:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(643);const a=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"===typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!==typeof a||null===a)?a:Object.assign({},t,a),n.forEach((n=>n(t,e)))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,a,i);return i},i=e=>e;const o=e=>{const t=(e=>e?a(e):a)(e),n=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const n=r.useSyncExternalStore(e.subscribe,(()=>t(e.getState())),(()=>t(e.getInitialState())));return r.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},s=e=>e?o(e):o}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".65e21308.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,a,i,o)=>{if(e[r])e[r].push(a);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,o=r[0],s=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(643),t=n(367),r=(n(438),"popstate");function a(){return d((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return l("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(xo){}}}function s(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?c(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function c(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=a,u=i.history,c="POP",d=null,f=p();function p(){return(u.state||{idx:null}).idx}function g(){c="POP";let e=p(),t=null==e?null:e-f;f=e,d&&d({action:c,location:v.location,delta:t})}function m(e){return h(e)}null==f&&(f=0,u.replaceState({...u.state,idx:f},""));let v={get action(){return c},get location(){return e(i,u)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(r,g),d=e,()=>{i.removeEventListener(r,g),d=null}},createHref:e=>t(i,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=l(v.location,e,t);n&&n(r,e),f=p()+1;let a=s(r,f),h=v.createHref(r);try{u.pushState(a,"",h)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;i.location.assign(h)}o&&d&&d({action:c,location:v.location,delta:1})},replace:function(e,t){c="REPLACE";let r=l(v.location,e,t);n&&n(r,e),f=p();let a=s(r,f),i=v.createHref(r);u.replaceState(a,"",i),o&&d&&d({action:c,location:v.location,delta:0})},go:e=>u.go(e)};return v}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),i(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let a=N(("string"===typeof t?c(t):t).pathname||"/",n);if(null==a)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=T(a);o=C(i[s],e,r)}return o}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(i(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=I([r,s.relativePath]),u=n.concat(s);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,u,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:u})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of m(e.path))a(e,t,n);else a(e,t)})),t}function m(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=m(r.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,y=3,b=2,w=1,_=10,x=-2,S=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=x),t&&(r+=b),n.filter((e=>!S(e))).reduce(((e,t)=>e+(v.test(t)?y:""===t?w:_)),r)}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,u="/"===i?t:t.slice(i.length)||"/",c=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(a,c.params),o.push({params:a,pathname:I([i,c.pathname]),pathnameBase:L(I([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=I([i,c.pathnameBase]))}return o}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=R(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function j(e){let t=P(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function O(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=c(e):(r={...e},i(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let o,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)o=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?c(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:$(r),hash:D(a)}}(r,o),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}var I=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var F=["POST","PUT","PATCH","DELETE"],z=(new Set(F),["GET",...F]);new Set(z),Symbol("ResetLoaderData");var U=e.createContext(null);U.displayName="DataRouter";var V=e.createContext(null);V.displayName="DataRouterState";var B=e.createContext({isTransitioning:!1});B.displayName="ViewTransition";var H=e.createContext(new Map);H.displayName="Fetchers";var G=e.createContext(null);G.displayName="Await";var q=e.createContext(null);q.displayName="Navigation";var Z=e.createContext(null);Z.displayName="Location";var W=e.createContext({outlet:null,matches:[],isDataRoute:!1});W.displayName="Route";var K=e.createContext(null);K.displayName="RouteError";function J(){return null!=e.useContext(Z)}function Q(){return i(J(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(Z).location}var Y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X(t){e.useContext(q).static||e.useLayoutEffect(t)}function ee(){let{isDataRoute:t}=e.useContext(W);return t?function(){let{router:t}=ue("useNavigate"),n=de("useNavigate"),r=e.useRef(!1);X((()=>{r.current=!0}));let a=e.useCallback((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(r.current,Y),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...a}))}),[t,n]);return a}():function(){i(J(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(U),{basename:n,navigator:r}=e.useContext(q),{matches:a}=e.useContext(W),{pathname:s}=Q(),l=JSON.stringify(j(a)),u=e.useRef(!1);X((()=>{u.current=!0}));let c=e.useCallback((function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(u.current,Y),!u.current)return;if("number"===typeof e)return void r.go(e);let i=O(e,JSON.parse(l),s,"path"===a.relative);null==t&&"/"!==n&&(i.pathname="/"===i.pathname?n:I([n,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)}),[n,r,l,s,t]);return c}()}e.createContext(null);function te(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(W),{pathname:a}=Q(),i=JSON.stringify(j(r));return e.useMemo((()=>O(t,JSON.parse(i),a,"path"===n)),[t,i,a,n])}function ne(t,n,r,a){i(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=e.useContext(q),{matches:u}=e.useContext(W),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",m=d&&d.route;{let e=m&&m.path||"";pe(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=Q();if(n){let e="string"===typeof n?c(n):n;i("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let b=v.pathname||"/",w=b;if("/"!==g){let e=g.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=!l&&r&&r.matches&&r.matches.length>0?r.matches:f(t,{pathname:w});o(m||null!=_,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),o(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=se(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:I([g,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:I([g,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,r,a);return n&&x?e.createElement(Z.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function re(){let t=he(),n=M(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:o},"ErrorBoundary")," or"," ",e.createElement("code",{style:o},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,s)}var ae=e.createElement(re,null),ie=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(W.Provider,{value:this.props.routeContext},e.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(t){let{routeContext:n,match:r,children:a}=t,i=e.useContext(U);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(W.Provider,{value:n},a)}function se(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let a=t,o=r?.errors;if(null!=o){let e=a.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(r)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight(((t,i,u)=>{let c,d=!1,h=null,f=null;r&&(c=o&&i.route.id?o[i.route.id]:void 0,h=i.route.errorElement||ae,s&&(l<0&&0===u?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===u&&(d=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(a.slice(0,u+1)),g=()=>{let n;return n=c?h:d?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(oe,{match:i,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?e.createElement(ie,{location:r.location,revalidation:r.revalidation,component:h,error:c,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(t){let n=e.useContext(U);return i(n,le(t)),n}function ce(t){let n=e.useContext(V);return i(n,le(t)),n}function de(t){let n=function(t){let n=e.useContext(W);return i(n,le(t)),n}(t),r=n.matches[n.matches.length-1];return i(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function he(){let t=e.useContext(K),n=ce("useRouteError"),r=de("useRouteError");return void 0!==t?t:n.errors?.[r]}var fe={};function pe(e,t,n){t||fe[e]||(fe[e]=!0,o(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)}));function ge(t){let{to:n,replace:r,state:a,relative:s}=t;i(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext(q);o(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=e.useContext(W),{pathname:c}=Q(),d=ee(),h=O(n,j(u),c,"path"===s),f=JSON.stringify(h);return e.useEffect((()=>{d(JSON.parse(f),{replace:r,state:a,relative:s})}),[d,f,s,r,a]),null}function me(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve(t){let{basename:n="/",children:r=null,location:a,navigationType:s="POP",navigator:l,static:u=!1}=t;i(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=e.useMemo((()=>({basename:d,navigator:l,static:u,future:{}})),[d,l,u]);"string"===typeof a&&(a=c(a));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:v="default"}=a,y=e.useMemo((()=>{let e=N(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:v},navigationType:s}}),[d,f,p,g,m,v,s]);return o(null!=y,`<Router basename="${d}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:e.createElement(q.Provider,{value:h},e.createElement(Z.Provider,{children:r,value:y}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}e.Component;function be(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,a)=>{if(!e.isValidElement(t))return;let o=[...n,a];if(t.type===e.Fragment)return void r.push.apply(r,be(t.props.children,o));i(t.type===me,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=be(t.props.children,o)),r.push(s)})),r}var we="get",_e="application/x-www-form-urlencoded";function xe(e){return null!=e&&"string"===typeof e.tagName}var Se=null;var ke=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||ke.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_e}"`),null)}function Ee(e,t){let n,r,a,i,o;if(xe(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?N(o,t):null,n=e.getAttribute("method")||we,a=Ce(e.getAttribute("enctype"))||_e,i=new FormData(e)}else if(function(e){return xe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return xe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?N(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||we,a=Ce(e.getAttribute("formenctype"))||Ce(o.getAttribute("enctype"))||_e,i=new FormData(o,e),!function(){if(null===Se)try{new FormData(document.createElement("form"),0),Se=!1}catch(xo){Se=!0}return Se}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=we,r=null,a=_e,o=e}var s;return i&&"text/plain"===a&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}function Re(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Te(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ne(e){return null!=e&&"string"===typeof e.page}function Ae(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Pe(e,t,n,r,a,i){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>o(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function je(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a})).flat(1),[...new Set(r)];var r}function Oe(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,a)=>{if(t&&!Ne(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e}),[])}function Ie(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Le=new Set([100,101,204,205]);function $e(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===N(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function De(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let a,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(M(n))return e.createElement(Me,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Me,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Me(t){let{title:n,renderScripts:r,isOutsideRemixApp:a,children:i}=t,{routeModules:o}=Be();return o.root?.Layout&&!a?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?e.createElement(Je,null):null)))}function Fe(e,t){return"lazy"===e.mode&&!0===t}function ze(){let t=e.useContext(U);return Re(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ue(){let t=e.useContext(V);return Re(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ve=e.createContext(void 0);function Be(){let t=e.useContext(Ve);return Re(t,"You must render this element inside a <HydratedRouter> element"),t}function He(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ge(e,t,n){if(n&&!Ke)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function qe(t){let{page:n,...r}=t,{router:a}=ze(),i=e.useMemo((()=>f(a.routes,n,a.basename)),[a.routes,n,a.basename]);return i?e.createElement(We,{page:n,matches:i,...r}):null}function Ze(t){let{manifest:n,routeModules:r}=Be(),[a,i]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Oe((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Te(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ae).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||i(t)})),()=>{e=!0}}),[t,n,r]),a}function We(t){let{page:n,matches:r,...a}=t,i=Q(),{manifest:o,routeModules:s}=Be(),{basename:l}=ze(),{loaderData:u,matches:c}=Ue(),d=e.useMemo((()=>Pe(n,r,c,o,i,"data")),[n,r,c,o,i]),h=e.useMemo((()=>Pe(n,r,c,o,i,"assets")),[n,r,c,o,i]),f=e.useMemo((()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=o.routes[n.route.id];r&&r.hasLoader&&(!d.some((e=>e.route.id===n.route.id))&&n.route.id in u&&s[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let a=$e(n,l);return t&&e.size>0&&a.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[l,u,i,o,d,r,n,s]),p=e.useMemo((()=>je(h,o)),[h,o]),g=Ze(h);return e.createElement(e.Fragment,null,f.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...a}))),p.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...a}))),g.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Ve.displayName="FrameworkContext";var Ke=!1;function Je(t){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:i,routeDiscovery:o,ssr:s}=Be(),{router:l,static:u,staticContext:c}=ze(),{matches:d}=Ue(),h=Fe(o,s);i&&(i.didRenderScripts=!0);let p=Ge(d,null,a);e.useEffect((()=>{0}),[]);let g=e.useMemo((()=>{let a=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=u?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(n.url)}`};\n${p.map(((e,t)=>{let r=`route${t}`,a=n.routes[e.route.id];Re(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:u}=a,c=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...o?[{module:o,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:u,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(u)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,a=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push(`/${i.join("/")}`),i.pop();o.forEach((e=>{let n=f(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let s=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:s,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(a),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(i),type:"module",async:!0}))}),[]),m=Ke?[]:(n.entry.imports.concat(je(p,n,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let y="object"===typeof n.sri?n.sri:{};return Ke?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,h?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:y[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:y[n.entry.module],suppressHydrationWarning:!0}),m.map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:y[n],suppressHydrationWarning:!0}))),g)}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ye&&(window.__reactRouterVersion="7.6.0")}catch(xo){}function Xe(t){let{basename:n,children:r,window:i}=t,o=e.useRef();null==o.current&&(o.current=a({window:i,v5Compat:!0}));let s=o.current,[l,u]=e.useState({action:s.action,location:s.location}),c=e.useCallback((t=>{e.startTransition((()=>u(t)))}),[u]);return e.useLayoutEffect((()=>s.listen(c)),[s,c]),e.createElement(ve,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=e.forwardRef((function(t,n){let r,{onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:g,preventScrollReset:m,viewTransition:v,...y}=t,{basename:b}=e.useContext(q),w="string"===typeof g&&et.test(g),_=!1;if("string"===typeof g&&w&&(r=g,Ye))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=N(t.pathname,b);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:_=!0}catch(xo){o(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=e.useContext(q),{hash:o,pathname:s,search:l}=te(t,{relative:n}),u=s;return"/"!==r&&(u="/"===s?r:I([r,s])),a.createHref({pathname:u,search:l,hash:o})}(g,{relative:c}),[S,k,C]=function(t,n){let r=e.useContext(Ve),[a,i]=e.useState(!1),[o,s]=e.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect((()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(a){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return r?"intent"!==t?[o,f,{}]:[o,f,{onFocus:He(l,p),onBlur:He(u,g),onMouseEnter:He(c,p),onMouseLeave:He(d,g),onTouchStart:He(h,p)}]:[!1,f,{}]}(l,y),E=function(t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=Q(),d=te(t,{relative:o});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(t,{replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s})}}),[c,l,d,r,a,n,t,i,o,s])}(g,{replace:h,state:f,target:p,preventScrollReset:m,relative:c,viewTransition:v});let R=e.createElement("a",{...y,...C,href:r||x,onClick:_||d?a:function(e){a&&a(e),e.defaultPrevented||E(e)},ref:Qe(n,k),target:p,"data-discover":w||"render"!==s?void 0:"true"});return S&&!w?e.createElement(e.Fragment,null,R,e.createElement(qe,{page:x})):R}));tt.displayName="Link",e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:s=!1,style:l,to:u,viewTransition:c,children:d,...h}=t,f=te(u,{relative:h.relative}),p=Q(),g=e.useContext(V),{navigator:m,basename:v}=e.useContext(q),y=null!=g&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(B);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=at("useViewTransitionState"),o=te(t,{relative:n.relative});if(!r.isTransitioning)return!1;let s=N(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=N(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=E(o.pathname,l)||null!=E(o.pathname,s)}(f)&&!0===c,b=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=p.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&v&&(_=N(_,v)||_);const x="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,k=w===b||!s&&w.startsWith(b)&&"/"===w.charAt(x),C=null!=_&&(_===b||!s&&_.startsWith(b)&&"/"===_.charAt(b.length)),R={isActive:k,isPending:C,isTransitioning:y},T=k?r:void 0;S="function"===typeof o?o(R):[o,k?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(R):l;return e.createElement(tt,{...h,"aria-current":T,className:S,ref:n,style:A,to:u,viewTransition:c},"function"===typeof d?d(R):d)})).displayName="NavLink";var nt=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:l,state:c,method:d=we,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m,...v}=t,y=st(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(q),a=e.useContext(W);i(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),s={...te(t||".",{relative:n})},l=Q();if(null==t){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?`?${n}`:""}}t&&"."!==t||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:I([r,s.pathname]));return u(s)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",_="string"===typeof h&&et.test(h);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:a,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:m})},...v,"data-discover":_||"render"!==r?void 0:"true"})}));function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(t){let n=e.useContext(U);return i(n,rt(t)),n}nt.displayName="Form";var it=0,ot=()=>`__${String(++it)}__`;function st(){let{router:t}=at("useSubmit"),{basename:n}=e.useContext(q),r=de("useRouteId");return e.useCallback((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:s,formData:l,body:u}=Ee(e,n);if(!1===a.navigate){let e=a.fetcherKey||ot();await t.fetch(e,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[t,n,r])}var lt=n(333),ut=n.n(lt);function ct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"primary",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"md";const r={button:{base:"font-medium rounded-md transition-colors duration-200 inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",variants:{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-2 focus:ring-primary-300",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-2 focus:ring-primary-300",success:"bg-success-500 text-white hover:bg-success-600 focus:ring-2 focus:ring-success-300",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-2 focus:ring-error-300",ghost:"text-primary-600 hover:bg-primary-50 focus:ring-2 focus:ring-primary-300"},sizes:{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base",xl:"px-6 py-3 text-lg"}},input:{base:"w-full border rounded-md px-3 py-2 transition-colors duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",variants:{primary:"border-gray-300 focus:border-primary-500 focus:ring-1 focus:ring-primary-300",success:"border-success-300 focus:border-success-500 focus:ring-1 focus:ring-success-300",danger:"border-error-300 focus:border-error-500 focus:ring-1 focus:ring-error-300"},sizes:{sm:"px-2.5 py-1.5 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-2.5 text-base"}}}[e];if(!r)return"";const a=r.variants[t]||r.variants.primary,i=r.sizes[n]||r.sizes.md;return[r.base,a,i].filter(Boolean).join(" ")}var dt=n(507);const ht=e=>{let{variant:t="primary",size:n="md",disabled:r=!1,className:a,children:i,dataTestId:o,...s}=e;return(0,dt.jsx)("button",{className:ut()(ct("button",t,n),r&&"opacity-50 cursor-not-allowed",a),disabled:r,"data-testid":o||`button-${t}-${n}`,...s,children:i})},ft=e=>{let{label:t,error:n,className:r,wrapperClassName:a,"data-testid":i,inputRef:o,...s}=e;return(0,dt.jsxs)("div",{className:ut()("flex flex-col",a),children:[t&&(0,dt.jsx)("label",{className:"text-secondary-700 mb-1",children:t}),(0,dt.jsx)("input",{ref:o,className:ut()("input-field",n&&"border-error",r),"data-testid":i||"input-field"+(n?"-error":""),...s}),n&&(0,dt.jsx)("span",{className:"text-error text-xs mt-1","data-testid":"input-error",children:n})]})},pt=e=>{let{label:t,error:n,className:r,wrapperClassName:a,options:i,placeholder:o,id:s,"data-testid":l,...u}=e;return(0,dt.jsxs)("div",{className:ut()("flex flex-col",a),children:[t&&(0,dt.jsx)("label",{htmlFor:s||u.name,className:"text-secondary-700 mb-1",children:t}),(0,dt.jsxs)("select",{id:s||u.name,className:ut()("input-field",n&&"border-error",r),value:i.some((e=>e.value===u.value))?u.value:"","data-testid":l||"select-field"+(n?"-error":""),...u,children:[o&&(0,dt.jsx)("option",{value:"",children:o}),i.map((e=>(0,dt.jsx)("option",{value:e.value,children:e.label},e.value)))]}),n&&(0,dt.jsx)("span",{className:"text-error text-xs mt-1","data-testid":"select-error",children:n})]})},gt=e=>{let{label:t,error:n,className:r,wrapperClassName:a,"data-testid":i,...o}=e;return(0,dt.jsxs)("div",{className:ut()("flex items-center",a),children:[(0,dt.jsx)("input",{type:"checkbox",className:ut()(n?"accent-error":"accent-accent",r),"data-testid":i||"checkbox-field"+(n?"-error":""),...o}),t&&(0,dt.jsx)("label",{className:"ml-2 text-secondary-700",children:t}),n&&(0,dt.jsx)("span",{className:"text-error text-xs ml-2","data-testid":"checkbox-error",children:n})]})},mt=10,vt=0,yt="date",bt="RON",wt={type:"",amount:"",category:"",subcategory:"",date:"",recurring:!1,frequency:""};let _t=function(e){return e.INCOME="INCOME",e.EXPENSE="EXPENSE",e.SAVING="SAVING",e}({}),xt=function(e){return e.PLANNED="PLANNED",e.COMPLETED="COMPLETED",e}({}),St=function(e){return e.NONE="NONE",e.DAILY="DAILY",e.WEEKLY="WEEKLY",e.MONTHLY="MONTHLY",e.YEARLY="YEARLY",e}({}),kt=function(e){return e.INCOME="INCOME",e.EXPENSE="EXPENSE",e.SAVING="SAVING",e}({});var Ct=n(16);const Et="Tip",Rt="Sum\u0103",Tt="Categorie",Nt="Subcategorie",At="Dat\u0103",Pt="Recurent",jt="Frecven\u021b\u0103",Ot="Tip tranzac\u021bie:",It="Categoria:",Lt="ad\u0103ugare tranzac\u021bie",$t="Tranzac\u021bii",Dt="Grid Lunar",Mt="Op\u021biuni",Ft="Alege",zt="Introdu suma",Ut="Selecteaz\u0103 data",Vt="Adaug\u0103",Bt="Anuleaz\u0103",Ht="Gata",Gt="\xcenainte",qt="\xcenapoi",Zt={HEADERS:{TYPE:"Tip",AMOUNT:"Sum\u0103",CURRENCY:"Moned\u0103",CATEGORY:"Categorie",SUBCATEGORY:"Subcategorie",DATE:"Dat\u0103",RECURRING:"Recurent",FREQUENCY:"Frecven\u021b\u0103"},EMPTY:"Nicio tranzac\u021bie",LOADING:"Se \xeencarc\u0103...",PAGE_INFO:"Pagina {current} din {total}",BOOL:{YES:"Da",NO:"Nu"}},Wt={LUNA:"Luna",VENITURI:"Venituri",CHELTUIELI:"Cheltuieli",ECONOMII:"Economii",SOLD:"Sold"},Kt="Nu exist\u0103 date disponibile",Jt="Se \xeencarc\u0103 datele...",Qt={ENTER_AMOUNT:"Introduce\u021bi suma:"},Yt={EXPAND_ALL:"Extinde toate categoriile",COLLAPSE_ALL:"Colapseaz\u0103 toate categoriile",VIRTUAL_TABLE:"Tabel optimizat",LEGACY_TABLE:"Tabel clasic",VERSION:"Versiune"},Xt={TYPE:[{value:_t.INCOME,label:"Venit"},{value:_t.EXPENSE,label:"Cheltuial\u0103"},{value:_t.SAVING,label:"Economisire"}],CATEGORY:[{value:kt.INCOME,label:"Venituri"},{value:kt.EXPENSE,label:"Cheltuieli"},{value:kt.SAVING,label:"Economii"}],FREQUENCY:[{value:St.DAILY,label:"Zilnic"},{value:St.WEEKLY,label:"S\u0103pt\u0103m\xe2nal"},{value:St.MONTHLY,label:"Lunar"},{value:St.YEARLY,label:"Anual"}]},en="Op\u021biuni",tn="Gestionare categorii",nn="Personaliza\u021bi categoriile \u0219i subcategoriile pentru a se potrivi nevoilor dvs. specifice de bugetare.",rn="Gestionare categorii",an="Op\u021biuni de afi\u0219are",on="Export date",sn="Set\u0103ri Cont",ln="Deconecteaz\u0103-te de la contul t\u0103u.",un="Logout",cn="\xcen cur\xe2nd",dn="Trebuie s\u0103 fi\u021bi autentificat pentru a accesa aceast\u0103 pagin\u0103.";var hn,fn;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(hn||(hn={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(fn||(fn={}));const pn=hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gn=e=>{switch(typeof e){case"undefined":return pn.undefined;case"string":return pn.string;case"number":return isNaN(e)?pn.nan:pn.number;case"boolean":return pn.boolean;case"function":return pn.function;case"bigint":return pn.bigint;case"symbol":return pn.symbol;case"object":return Array.isArray(e)?pn.array:null===e?pn.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?pn.promise:"undefined"!==typeof Map&&e instanceof Map?pn.map:"undefined"!==typeof Set&&e instanceof Set?pn.set:"undefined"!==typeof Date&&e instanceof Date?pn.date:pn.object;default:return pn.unknown}},mn=hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vn extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof vn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hn.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}vn.create=e=>new vn(e);const yn=(e,t)=>{let n;switch(e.code){case mn.invalid_type:n=e.received===pn.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case mn.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,hn.jsonStringifyReplacer)}`;break;case mn.unrecognized_keys:n=`Unrecognized key(s) in object: ${hn.joinValues(e.keys,", ")}`;break;case mn.invalid_union:n="Invalid input";break;case mn.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${hn.joinValues(e.options)}`;break;case mn.invalid_enum_value:n=`Invalid enum value. Expected ${hn.joinValues(e.options)}, received '${e.received}'`;break;case mn.invalid_arguments:n="Invalid function arguments";break;case mn.invalid_return_type:n="Invalid function return type";break;case mn.invalid_date:n="Invalid date";break;case mn.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:hn.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case mn.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case mn.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case mn.custom:n="Invalid input";break;case mn.invalid_intersection_types:n="Intersection results could not be merged";break;case mn.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case mn.not_finite:n="Number must be finite";break;default:n=t.defaultError,hn.assertNever(e)}return{message:n}};let bn=yn;function wn(){return bn}const _n=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const u of l)s=u(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}};function xn(e,t){const n=wn(),r=_n({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===yn?void 0:yn].filter((e=>!!e))});e.common.issues.push(r)}class Sn{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return kn;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return Sn.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return kn;if("aborted"===a.status)return kn;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const kn=Object.freeze({status:"aborted"}),Cn=e=>({status:"dirty",value:e}),En=e=>({status:"valid",value:e}),Rn=e=>"aborted"===e.status,Tn=e=>"dirty"===e.status,Nn=e=>"valid"===e.status,An=e=>"undefined"!==typeof Promise&&e instanceof Promise;function Pn(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function jn(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}var On,In,Ln;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(On||(On={}));class $n{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Dn=(e,t)=>{if(Nn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new vn(e.common.issues);return this._error=t,this._error}}};function Mn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var i,o;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:a.defaultError}:"undefined"===typeof a.data?{message:null!==(i=null!==s&&void 0!==s?s:r)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!==s&&void 0!==s?s:n)&&void 0!==o?o:a.defaultError}},description:a}}class Fn{get description(){return this._def.description}_getType(e){return gn(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:gn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sn,ctx:{common:e.parent.common,data:e.data,parsedType:gn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(An(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gn(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Dn(r,a)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gn(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return Nn(t)?{value:t.value}:{issues:r.common.issues}}catch(a){(null===(n=null===(t=null===a||void 0===a?void 0:a.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>Nn(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gn(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(An(r)?r:Promise.resolve(r));return Dn(n,a)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:mn.custom,...n(t)});return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new Fr({schema:this,typeName:Yr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return zr.create(this,this._def)}nullable(){return Ur.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wr.create(this)}promise(){return Mr.create(this,this._def)}or(e){return Sr.create([this,e],this._def)}and(e){return Rr.create(this,e,this._def)}transform(e){return new Fr({...Mn(this._def),schema:this,typeName:Yr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Vr({...Mn(this._def),innerType:this,defaultValue:t,typeName:Yr.ZodDefault})}brand(){return new qr({typeName:Yr.ZodBranded,type:this,...Mn(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Br({...Mn(this._def),innerType:this,catchValue:t,typeName:Yr.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Zr.create(this,e)}readonly(){return Wr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zn=/^c[^\s-]{8,}$/i,Un=/^[0-9a-z]+$/,Vn=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Bn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Hn=/^[a-z0-9_-]{21}$/i,Gn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qn=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Zn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Wn;const Kn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Jn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Qn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Yn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,er=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nr=new RegExp(`^${tr}$`);function rr(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ar(e){let t=`${tr}T${rr(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ir(e,t){if(!Gn.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return"object"===typeof a&&null!==a&&(!(!a.typ||!a.alg)&&(!t||a.alg===t))}catch(n){return!1}}function or(e,t){return!("v4"!==t&&t||!Jn.test(e))||!("v6"!==t&&t||!Yn.test(e))}class sr extends Fn{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==pn.string){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.string,received:t.parsedType}),kn}const t=new Sn;let n;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const r=e.data.length>o.value,a=e.data.length<o.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?xn(n,{code:mn.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&xn(n,{code:mn.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)Zn.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"email",code:mn.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)Wn||(Wn=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Wn.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"emoji",code:mn.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)Bn.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"uuid",code:mn.invalid_string,message:o.message}),t.dirty());else if("nanoid"===o.kind)Hn.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"nanoid",code:mn.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)zn.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"cuid",code:mn.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)Un.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"cuid2",code:mn.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)Vn.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"ulid",code:mn.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(i){n=this._getOrReturnCtx(e,n),xn(n,{validation:"url",code:mn.invalid_string,message:o.message}),t.dirty()}else if("regex"===o.kind){o.regex.lastIndex=0;o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"regex",code:mn.invalid_string,message:o.message}),t.dirty())}else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty());else if("datetime"===o.kind){ar(o).test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.invalid_string,validation:"datetime",message:o.message}),t.dirty())}else if("date"===o.kind){nr.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.invalid_string,validation:"date",message:o.message}),t.dirty())}else if("time"===o.kind){new RegExp(`^${rr(o)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.invalid_string,validation:"time",message:o.message}),t.dirty())}else"duration"===o.kind?qn.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"duration",code:mn.invalid_string,message:o.message}),t.dirty()):"ip"===o.kind?(r=e.data,("v4"!==(a=o.version)&&a||!Kn.test(r))&&("v6"!==a&&a||!Qn.test(r))&&(n=this._getOrReturnCtx(e,n),xn(n,{validation:"ip",code:mn.invalid_string,message:o.message}),t.dirty())):"jwt"===o.kind?ir(e.data,o.alg)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"jwt",code:mn.invalid_string,message:o.message}),t.dirty()):"cidr"===o.kind?or(e.data,o.version)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"cidr",code:mn.invalid_string,message:o.message}),t.dirty()):"base64"===o.kind?Xn.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"base64",code:mn.invalid_string,message:o.message}),t.dirty()):"base64url"===o.kind?er.test(e.data)||(n=this._getOrReturnCtx(e,n),xn(n,{validation:"base64url",code:mn.invalid_string,message:o.message}),t.dirty()):hn.assertNever(o);var r,a;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:mn.invalid_string,...On.errToObj(n)})}_addCheck(e){return new sr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...On.errToObj(e)})}url(e){return this._addCheck({kind:"url",...On.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...On.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...On.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...On.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...On.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...On.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...On.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...On.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...On.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...On.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...On.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...On.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...On.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...On.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...On.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...On.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...On.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...On.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...On.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...On.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...On.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...On.errToObj(t)})}nonempty(e){return this.min(1,On.errToObj(e))}trim(){return new sr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function lr(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}sr.create=e=>{var t;return new sr({checks:[],typeName:Yr.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Mn(e)})};class ur extends Fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==pn.number){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.number,received:t.parsedType}),kn}let t;const n=new Sn;for(const r of this._def.checks)if("int"===r.kind)hn.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),xn(t,{code:mn.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),xn(t,{code:mn.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),xn(t,{code:mn.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==lr(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),xn(t,{code:mn.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),xn(t,{code:mn.not_finite,message:r.message}),n.dirty()):hn.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,On.toString(t))}gt(e,t){return this.setLimit("min",e,!1,On.toString(t))}lte(e,t){return this.setLimit("max",e,!0,On.toString(t))}lt(e,t){return this.setLimit("max",e,!1,On.toString(t))}setLimit(e,t,n,r){return new ur({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:On.toString(r)}]})}_addCheck(e){return new ur({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:On.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:On.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:On.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:On.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:On.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:On.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:On.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:On.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:On.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&hn.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ur.create=e=>new ur({checks:[],typeName:Yr.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Mn(e)});class cr extends Fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==pn.bigint)return this._getInvalidInput(e);let t;const n=new Sn;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),xn(t,{code:mn.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),xn(t,{code:mn.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),xn(t,{code:mn.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):hn.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.bigint,received:t.parsedType}),kn}gte(e,t){return this.setLimit("min",e,!0,On.toString(t))}gt(e,t){return this.setLimit("min",e,!1,On.toString(t))}lte(e,t){return this.setLimit("max",e,!0,On.toString(t))}lt(e,t){return this.setLimit("max",e,!1,On.toString(t))}setLimit(e,t,n,r){return new cr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:On.toString(r)}]})}_addCheck(e){return new cr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:On.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:On.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:On.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:On.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:On.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}cr.create=e=>{var t;return new cr({checks:[],typeName:Yr.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Mn(e)})};class dr extends Fn{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==pn.boolean){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.boolean,received:t.parsedType}),kn}return En(e.data)}}dr.create=e=>new dr({typeName:Yr.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Mn(e)});class hr extends Fn{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==pn.date){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.date,received:t.parsedType}),kn}if(isNaN(e.data.getTime())){return xn(this._getOrReturnCtx(e),{code:mn.invalid_date}),kn}const t=new Sn;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),xn(n,{code:mn.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):hn.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:On.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:On.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}hr.create=e=>new hr({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Yr.ZodDate,...Mn(e)});class fr extends Fn{_parse(e){if(this._getType(e)!==pn.symbol){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.symbol,received:t.parsedType}),kn}return En(e.data)}}fr.create=e=>new fr({typeName:Yr.ZodSymbol,...Mn(e)});class pr extends Fn{_parse(e){if(this._getType(e)!==pn.undefined){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.undefined,received:t.parsedType}),kn}return En(e.data)}}pr.create=e=>new pr({typeName:Yr.ZodUndefined,...Mn(e)});class gr extends Fn{_parse(e){if(this._getType(e)!==pn.null){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.null,received:t.parsedType}),kn}return En(e.data)}}gr.create=e=>new gr({typeName:Yr.ZodNull,...Mn(e)});class mr extends Fn{constructor(){super(...arguments),this._any=!0}_parse(e){return En(e.data)}}mr.create=e=>new mr({typeName:Yr.ZodAny,...Mn(e)});class vr extends Fn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return En(e.data)}}vr.create=e=>new vr({typeName:Yr.ZodUnknown,...Mn(e)});class yr extends Fn{_parse(e){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.never,received:t.parsedType}),kn}}yr.create=e=>new yr({typeName:Yr.ZodNever,...Mn(e)});class br extends Fn{_parse(e){if(this._getType(e)!==pn.undefined){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.void,received:t.parsedType}),kn}return En(e.data)}}br.create=e=>new br({typeName:Yr.ZodVoid,...Mn(e)});class wr extends Fn{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==pn.array)return xn(t,{code:mn.invalid_type,expected:pn.array,received:t.parsedType}),kn;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(xn(t,{code:e?mn.too_big:mn.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(xn(t,{code:mn.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(xn(t,{code:mn.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new $n(t,e,t.path,n))))).then((e=>Sn.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new $n(t,e,t.path,n))));return Sn.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new wr({...this._def,minLength:{value:e,message:On.toString(t)}})}max(e,t){return new wr({...this._def,maxLength:{value:e,message:On.toString(t)}})}length(e,t){return new wr({...this._def,exactLength:{value:e,message:On.toString(t)}})}nonempty(e){return this.min(1,e)}}function _r(e){if(e instanceof xr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=zr.create(_r(r))}return new xr({...e._def,shape:()=>t})}return e instanceof wr?new wr({...e._def,type:_r(e.element)}):e instanceof zr?zr.create(_r(e.unwrap())):e instanceof Ur?Ur.create(_r(e.unwrap())):e instanceof Tr?Tr.create(e.items.map((e=>_r(e)))):e}wr.create=(e,t)=>new wr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Yr.ZodArray,...Mn(t)});class xr extends Fn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=hn.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==pn.object){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.object,received:t.parsedType}),kn}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof yr&&"strip"===this._def.unknownKeys))for(const s in n.data)a.includes(s)||i.push(s);const o=[];for(const s of a){const e=r[s],t=n.data[s];o.push({key:{status:"valid",value:s},value:e._parse(new $n(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof yr){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(xn(n,{code:mn.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new $n(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Sn.mergeObjectSync(t,e))):Sn.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return On.errToObj,new xr({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,i,o;const s=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=On.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new xr({...this._def,unknownKeys:"strip"})}passthrough(){return new xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Yr.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new xr({...this._def,catchall:e})}pick(e){const t={};return hn.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new xr({...this._def,shape:()=>t})}omit(e){const t={};return hn.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new xr({...this._def,shape:()=>t})}deepPartial(){return _r(this)}partial(e){const t={};return hn.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new xr({...this._def,shape:()=>t})}required(e){const t={};return hn.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof zr;)e=e._def.innerType;t[n]=e}})),new xr({...this._def,shape:()=>t})}keyof(){return Lr(hn.objectKeys(this.shape))}}xr.create=(e,t)=>new xr({shape:()=>e,unknownKeys:"strip",catchall:yr.create(),typeName:Yr.ZodObject,...Mn(t)}),xr.strictCreate=(e,t)=>new xr({shape:()=>e,unknownKeys:"strict",catchall:yr.create(),typeName:Yr.ZodObject,...Mn(t)}),xr.lazycreate=(e,t)=>new xr({shape:e,unknownKeys:"strip",catchall:yr.create(),typeName:Yr.ZodObject,...Mn(t)});class Sr extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new vn(e.ctx.common.issues)));return xn(t,{code:mn.invalid_union,unionErrors:n}),kn}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new vn(e)));return xn(t,{code:mn.invalid_union,unionErrors:a}),kn}}get options(){return this._def.options}}Sr.create=(e,t)=>new Sr({options:e,typeName:Yr.ZodUnion,...Mn(t)});const kr=e=>e instanceof Or?kr(e.schema):e instanceof Fr?kr(e.innerType()):e instanceof Ir?[e.value]:e instanceof $r?e.options:e instanceof Dr?hn.objectValues(e.enum):e instanceof Vr?kr(e._def.innerType):e instanceof pr?[void 0]:e instanceof gr?[null]:e instanceof zr?[void 0,...kr(e.unwrap())]:e instanceof Ur?[null,...kr(e.unwrap())]:e instanceof qr||e instanceof Wr?kr(e.unwrap()):e instanceof Br?kr(e._def.innerType):[];class Cr extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==pn.object)return xn(t,{code:mn.invalid_type,expected:pn.object,received:t.parsedType}),kn;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(xn(t,{code:mn.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),kn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const a of t){const t=kr(a.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,a)}}return new Cr({typeName:Yr.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Mn(n)})}}function Er(e,t){const n=gn(e),r=gn(t);if(e===t)return{valid:!0,data:e};if(n===pn.object&&r===pn.object){const n=hn.objectKeys(t),r=hn.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const i of r){const n=Er(e[i],t[i]);if(!n.valid)return{valid:!1};a[i]=n.data}return{valid:!0,data:a}}if(n===pn.array&&r===pn.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=Er(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===pn.date&&r===pn.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Rr extends Fn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Rn(e)||Rn(r))return kn;const a=Er(e.value,r.value);return a.valid?((Tn(e)||Tn(r))&&t.dirty(),{status:t.value,value:a.data}):(xn(n,{code:mn.invalid_intersection_types}),kn)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Rr.create=(e,t,n)=>new Rr({left:e,right:t,typeName:Yr.ZodIntersection,...Mn(n)});class Tr extends Fn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pn.array)return xn(n,{code:mn.invalid_type,expected:pn.array,received:n.parsedType}),kn;if(n.data.length<this._def.items.length)return xn(n,{code:mn.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),kn;!this._def.rest&&n.data.length>this._def.items.length&&(xn(n,{code:mn.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new $n(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Sn.mergeArray(t,e))):Sn.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Tr({...this._def,rest:e})}}Tr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tr({items:e,typeName:Yr.ZodTuple,rest:null,...Mn(t)})};class Nr extends Fn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pn.object)return xn(n,{code:mn.invalid_type,expected:pn.object,received:n.parsedType}),kn;const r=[],a=this._def.keyType,i=this._def.valueType;for(const o in n.data)r.push({key:a._parse(new $n(n,o,n.path,o)),value:i._parse(new $n(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Sn.mergeObjectAsync(t,r):Sn.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new Nr(t instanceof Fn?{keyType:e,valueType:t,typeName:Yr.ZodRecord,...Mn(n)}:{keyType:sr.create(),valueType:e,typeName:Yr.ZodRecord,...Mn(t)})}}class Ar extends Fn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pn.map)return xn(n,{code:mn.invalid_type,expected:pn.map,received:n.parsedType}),kn;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(((e,t)=>{let[i,o]=e;return{key:r._parse(new $n(n,i,n.path,[t,"key"])),value:a._parse(new $n(n,o,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return kn;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return kn;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}Ar.create=(e,t,n)=>new Ar({valueType:t,keyType:e,typeName:Yr.ZodMap,...Mn(n)});class Pr extends Fn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pn.set)return xn(n,{code:mn.invalid_type,expected:pn.set,received:n.parsedType}),kn;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(xn(n,{code:mn.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(xn(n,{code:mn.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return kn;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>a._parse(new $n(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>i(e))):i(o)}min(e,t){return new Pr({...this._def,minSize:{value:e,message:On.toString(t)}})}max(e,t){return new Pr({...this._def,maxSize:{value:e,message:On.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Pr.create=(e,t)=>new Pr({valueType:e,minSize:null,maxSize:null,typeName:Yr.ZodSet,...Mn(t)});class jr extends Fn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==pn.function)return xn(t,{code:mn.invalid_type,expected:pn.function,received:t.parsedType}),kn;function n(e,n){return _n({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,wn(),yn].filter((e=>!!e)),issueData:{code:mn.invalid_arguments,argumentsError:n}})}function r(e,n){return _n({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,wn(),yn].filter((e=>!!e)),issueData:{code:mn.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Mr){const e=this;return En((async function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const l=new vn([]),u=await e._def.args.parseAsync(o,a).catch((e=>{throw l.addIssue(n(o,e)),l})),c=await Reflect.apply(i,this,u),d=await e._def.returns._def.type.parseAsync(c,a).catch((e=>{throw l.addIssue(r(c,e)),l}));return d}))}{const e=this;return En((function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const l=e._def.args.safeParse(o,a);if(!l.success)throw new vn([n(o,l.error)]);const u=Reflect.apply(i,this,l.data),c=e._def.returns.safeParse(u,a);if(!c.success)throw new vn([r(u,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jr({...this._def,args:Tr.create(t).rest(vr.create())})}returns(e){return new jr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new jr({args:e||Tr.create([]).rest(vr.create()),returns:t||vr.create(),typeName:Yr.ZodFunction,...Mn(n)})}}class Or extends Fn{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Or.create=(e,t)=>new Or({getter:e,typeName:Yr.ZodLazy,...Mn(t)});class Ir extends Fn{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return xn(t,{received:t.data,code:mn.invalid_literal,expected:this._def.value}),kn}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Lr(e,t){return new $r({values:e,typeName:Yr.ZodEnum,...Mn(t)})}Ir.create=(e,t)=>new Ir({value:e,typeName:Yr.ZodLiteral,...Mn(t)});class $r extends Fn{constructor(){super(...arguments),In.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return xn(t,{expected:hn.joinValues(n),received:t.parsedType,code:mn.invalid_type}),kn}if(Pn(this,In,"f")||jn(this,In,new Set(this._def.values),"f"),!Pn(this,In,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return xn(t,{received:t.data,code:mn.invalid_enum_value,options:n}),kn}return En(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return $r.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return $r.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}In=new WeakMap,$r.create=Lr;class Dr extends Fn{constructor(){super(...arguments),Ln.set(this,void 0)}_parse(e){const t=hn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==pn.string&&n.parsedType!==pn.number){const e=hn.objectValues(t);return xn(n,{expected:hn.joinValues(e),received:n.parsedType,code:mn.invalid_type}),kn}if(Pn(this,Ln,"f")||jn(this,Ln,new Set(hn.getValidEnumValues(this._def.values)),"f"),!Pn(this,Ln,"f").has(e.data)){const e=hn.objectValues(t);return xn(n,{received:n.data,code:mn.invalid_enum_value,options:e}),kn}return En(e.data)}get enum(){return this._def.values}}Ln=new WeakMap,Dr.create=(e,t)=>new Dr({values:e,typeName:Yr.ZodNativeEnum,...Mn(t)});class Mr extends Fn{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==pn.promise&&!1===t.common.async)return xn(t,{code:mn.invalid_type,expected:pn.promise,received:t.parsedType}),kn;const n=t.parsedType===pn.promise?t.data:Promise.resolve(t.data);return En(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Mr.create=(e,t)=>new Mr({type:e,typeName:Yr.ZodPromise,...Mn(t)});class Fr extends Fn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Yr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{xn(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return kn;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?kn:"dirty"===r.status||"dirty"===t.value?Cn(r.value):r}));{if("aborted"===t.value)return kn;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?kn:"dirty"===r.status||"dirty"===t.value?Cn(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?kn:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?kn:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Nn(e))return e;const i=r.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Nn(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}hn.assertNever(r)}}Fr.create=(e,t,n)=>new Fr({schema:e,typeName:Yr.ZodEffects,effect:t,...Mn(n)}),Fr.createWithPreprocess=(e,t,n)=>new Fr({schema:t,effect:{type:"preprocess",transform:e},typeName:Yr.ZodEffects,...Mn(n)});class zr extends Fn{_parse(e){return this._getType(e)===pn.undefined?En(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zr.create=(e,t)=>new zr({innerType:e,typeName:Yr.ZodOptional,...Mn(t)});class Ur extends Fn{_parse(e){return this._getType(e)===pn.null?En(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ur.create=(e,t)=>new Ur({innerType:e,typeName:Yr.ZodNullable,...Mn(t)});class Vr extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===pn.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Vr.create=(e,t)=>new Vr({innerType:e,typeName:Yr.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...Mn(t)});class Br extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return An(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new vn(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new vn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Br.create=(e,t)=>new Br({innerType:e,typeName:Yr.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...Mn(t)});class Hr extends Fn{_parse(e){if(this._getType(e)!==pn.nan){const t=this._getOrReturnCtx(e);return xn(t,{code:mn.invalid_type,expected:pn.nan,received:t.parsedType}),kn}return{status:"valid",value:e.data}}}Hr.create=e=>new Hr({typeName:Yr.ZodNaN,...Mn(e)});const Gr=Symbol("zod_brand");class qr extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Zr extends Fn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?kn:"dirty"===e.status?(t.dirty(),Cn(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?kn:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Zr({in:e,out:t,typeName:Yr.ZodPipeline})}}class Wr extends Fn{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Nn(e)&&(e.value=Object.freeze(e.value)),e);return An(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Kr(e,t){const n="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof n?{message:n}:n}function Jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?mr.create().superRefine(((r,a)=>{var i,o;const s=e(r);if(s instanceof Promise)return s.then((e=>{var i,o;if(!e){const e=Kr(t,r),s=null===(o=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===o||o;a.addIssue({code:"custom",...e,fatal:s})}}));if(!s){const e=Kr(t,r),s=null===(o=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===o||o;a.addIssue({code:"custom",...e,fatal:s})}})):mr.create()}Wr.create=(e,t)=>new Wr({innerType:e,typeName:Yr.ZodReadonly,...Mn(t)});const Qr={object:xr.lazycreate};var Yr;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Yr||(Yr={}));const Xr=sr.create,ea=ur.create,ta=Hr.create,na=cr.create,ra=dr.create,aa=hr.create,ia=fr.create,oa=pr.create,sa=gr.create,la=mr.create,ua=vr.create,ca=yr.create,da=br.create,ha=wr.create,fa=xr.create,pa=xr.strictCreate,ga=Sr.create,ma=Cr.create,va=Rr.create,ya=Tr.create,ba=Nr.create,wa=Ar.create,_a=Pr.create,xa=jr.create,Sa=Or.create,ka=Ir.create,Ca=$r.create,Ea=Dr.create,Ra=Mr.create,Ta=Fr.create,Na=zr.create,Aa=Ur.create,Pa=Fr.createWithPreprocess,ja=Zr.create,Oa={string:e=>sr.create({...e,coerce:!0}),number:e=>ur.create({...e,coerce:!0}),boolean:e=>dr.create({...e,coerce:!0}),bigint:e=>cr.create({...e,coerce:!0}),date:e=>hr.create({...e,coerce:!0})},Ia=kn;var La=Object.freeze({__proto__:null,defaultErrorMap:yn,setErrorMap:function(e){bn=e},getErrorMap:wn,makeIssue:_n,EMPTY_PATH:[],addIssueToContext:xn,ParseStatus:Sn,INVALID:kn,DIRTY:Cn,OK:En,isAborted:Rn,isDirty:Tn,isValid:Nn,isAsync:An,get util(){return hn},get objectUtil(){return fn},ZodParsedType:pn,getParsedType:gn,ZodType:Fn,datetimeRegex:ar,ZodString:sr,ZodNumber:ur,ZodBigInt:cr,ZodBoolean:dr,ZodDate:hr,ZodSymbol:fr,ZodUndefined:pr,ZodNull:gr,ZodAny:mr,ZodUnknown:vr,ZodNever:yr,ZodVoid:br,ZodArray:wr,ZodObject:xr,ZodUnion:Sr,ZodDiscriminatedUnion:Cr,ZodIntersection:Rr,ZodTuple:Tr,ZodRecord:Nr,ZodMap:Ar,ZodSet:Pr,ZodFunction:jr,ZodLazy:Or,ZodLiteral:Ir,ZodEnum:$r,ZodNativeEnum:Dr,ZodPromise:Mr,ZodEffects:Fr,ZodTransformer:Fr,ZodOptional:zr,ZodNullable:Ur,ZodDefault:Vr,ZodCatch:Br,ZodNaN:Hr,BRAND:Gr,ZodBranded:qr,ZodPipeline:Zr,ZodReadonly:Wr,custom:Jr,Schema:Fn,ZodSchema:Fn,late:Qr,get ZodFirstPartyTypeKind(){return Yr},coerce:Oa,any:la,array:ha,bigint:na,boolean:ra,date:aa,discriminatedUnion:ma,effect:Ta,enum:Ca,function:xa,instanceof:function(e){return Jr((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:va,lazy:Sa,literal:ka,map:wa,nan:ta,nativeEnum:Ea,never:ca,null:sa,nullable:Aa,number:ea,object:fa,oboolean:()=>ra().optional(),onumber:()=>ea().optional(),optional:Na,ostring:()=>Xr().optional(),pipeline:ja,preprocess:Pa,promise:Ra,record:ba,set:_a,strictObject:pa,string:Xr,symbol:ia,transformer:Ta,tuple:ya,undefined:oa,union:ga,unknown:ua,void:da,NEVER:Ia,ZodIssueCode:mn,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:vn});La.object({id:La.string().uuid(),amount:La.number(),type:La.nativeEnum(_t),date:La.string(),description:La.string().optional(),category:La.string().optional(),subcategory:La.string().optional(),recurring:La.boolean().optional(),frequency:La.nativeEnum(St).optional(),actualAmount:La.number().optional(),status:La.nativeEnum(xt).optional(),created_at:La.string().optional(),updated_at:La.string().optional()}).omit({id:!0,created_at:!0,updated_at:!0});const $a={VENITURI:{"Surse de venit":["Salarii","Dividende","Chirii","Tichete de mas\u0103","Cadouri","Drepturi de autor","Pensii","Aloca\u021bii","Alte venituri"],Report:["Venituri reportate din luna anterioar\u0103"]},ECONOMII:{"Categorii de economii":["Fond de urgen\u021b\u0103","Fond de rezerv\u0103","Fond general"]},INFATISARE:{General:["\xcembr\u0103c\u0103minte, \xeenc\u0103l\u021b\u0103minte \u0219i accesorii","Salon de \xeenfrumuse\u021bare","Produse cosmetice","Opera\u021bii estetice","Produse de igien\u0103 personal\u0103","Produse de igien\u0103 pentru animale de companie","Cur\u0103\u021b\u0103torie, c\u0103lc\u0103torie, croitorie, cizm\u0103rie","\xcembr\u0103c\u0103minte \u0219i accesorii pentru animale de companie"]},EDUCATIE:{General:["Taxe \u0219colare | universitare","Gr\u0103dini\u021b\u0103 | Cre\u0219\u0103 | Afterschool | Bon\u0103","Cursuri | Traininguri de specializare","Materiale de studiu | c\u0103r\u021bi","Licen\u021be programe"]},CARIERA:{General:["Taxe autorizare | Examene titularizare sau specializare","Servicii realizare CV","Consultan\u021b\u0103 juridic\u0103 | financiar\u0103"]},SANATATE:{General:["Medicamente | Suplimente alimentare | Vitamine","Servicii medicale pentru preven\u021bie","Opera\u021bii","Terapii de recuperare","Abonamente medicale","Asigur\u0103ri de s\u0103n\u0103tate | medicale","Veterinar pentru animale de companie","Medicamente pentru animale de companie"]},NUTRITIE:{General:["Alimente","Restaurante","La pachet","Comenzi","Cafea","M\xe2ncare pentru animale de companie"]},LOCUINTA:{"Utilit\u0103\u021bi":["\xcentre\u021binere","Ap\u0103","Gaz","Energie electric\u0103","Tax\u0103 gunoi"],Servicii:["Abonamente telefonie","Cablu TV","Internet"],"\xcentre\u021binere \u0219i amenajare":["Repara\u021bii, montaj \u0219i amenaj\u0103ri interioare","Produse de cur\u0103\u021benie \u0219i consumabile","Servicii de cur\u0103\u021benie profesional\u0103","Mobilier | Decora\u021biuni","Electrice | Electrocasnice | Obiecte de iluminat"],"Taxe \u0219i asigur\u0103ri":["Asigur\u0103ri de locuin\u021b\u0103","Impozit pe cl\u0103diri \u0219i terenuri","Chirie"]},TIMP_LIBER:{Entertainment:["C\u0103r\u021bi sau abonamente c\u0103r\u021bi","Muzic\u0103 | Video sau abonamente","Reviste | Ziare sau abonamente","Filme sau abonamente","Cinema | Teatru | Concerte | Muzee"],"Sport \u0219i recreere":["Abonamente sal\u0103 de sport | \xeenot","Piscine | \u0218tranduri | Parcuri de distrac\u021bii | Locuri de joac\u0103","Echipamente sportive | pescuit"],Diverse:["Abonamente servicii online","Jocuri de societate | Juc\u0103rii pentru copii","Cadouri pentru cei dragi","Materiale & cursuri pentru hobby-uri","Pariuri | Loto | Casino","\u021aig\u0103ri | Vaping"]},CALATORII:{Transport:["Bilete pentru mijloace de transport/combustibil","Taxe de drum | de pod | rovignete","\xcenchiriere ma\u0219in\u0103"],Cazare:["Acomodare","Hotel pentru animale"],"Activit\u0103\u021bi":["Bilete pentru obiective turistice","\xcenchiriere echipamente","Suveniruri"],"Alte cheltuieli":["Asigurare de c\u0103l\u0103torie","Hran\u0103"]},TRANSPORT:{"Transport public":["Transport public"],"\xcentre\u021binere auto":["Revizii","Sp\u0103l\u0103torie auto","Accesorii/Consumabile pentru ma\u0219in\u0103","Combustibil","Schimbat cauciucuri var\u0103/iarn\u0103","Hotel pentru anvelope","Repara\u021bii auto"],"Taxe \u0219i asigur\u0103ri":["Taxe drumuri","Parcare","Asigurare RCA","Asigurare CASCO","Rovigneta","Impozit auto"]},INVESTITII:{Proiecte:["Investi\u021bie/Afacere 1","Investi\u021bie/Afacere 2","Investi\u021bie/Afacere 3","Investi\u021bie/Afacere 4","Investi\u021bie/Afacere 5"]}},Da={[_t.INCOME]:["VENITURI"],[_t.SAVING]:["ECONOMII","INVESTITII"],[_t.EXPENSE]:["INFATISARE","EDUCATIE","CARIERA","SANATATE","NUTRITIE","LOCUINTA","TIMP_LIBER","CALATORII","TRANSPORT"]};_t.INCOME,_t.SAVING,_t.SAVING,_t.EXPENSE,_t.EXPENSE,_t.EXPENSE,_t.EXPENSE,_t.EXPENSE,_t.EXPENSE,_t.EXPENSE,_t.EXPENSE,_t.EXPENSE;var Ma=n(469);const Fa={AMOUNT_MIN:.01,AMOUNT_MAX:1e6,DATE_REGEX:/^\d{4}-\d{2}-\d{2}$/};var za=n(341);const Ua="transactions",Va={async fetchTransactions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=za.N.from(Ua).select("*",{count:"exact"});e&&(r=r.eq("user_id",e)),n.type&&(r=r.eq("type",n.type)),n.category&&(r=r.eq("category",n.category)),void 0!==n.recurring&&(r=r.eq("recurring",n.recurring)),n.dateFrom&&(r=r.gte("date",n.dateFrom)),n.dateTo&&(r=r.lte("date",n.dateTo)),t.sort&&(r=r.order(t.sort,{ascending:"asc"===t.order})),void 0!==t.limit&&void 0!==t.offset&&(r=r.range(t.offset,t.offset+t.limit-1));const{data:a,count:i,error:o}=await r;if(o)throw o;return{data:a,count:i||0}},validateCategoryAndSubcategory(e,t){if(!e)return console.error("Categoria este obligatorie!"),!1;if(!Object.keys($a).includes(e))return console.error(`Categorie invalid\u0103: ${e}. Categorii permise: ${Object.keys($a).join(", ")}`),!1;if(!t)return!0;const n=$a[e];return Object.values(n).some((e=>e.includes(t)))},async createTransaction(e){const{useAuthStore:t}=await Promise.resolve().then(n.bind(n,952)),r=t.getState().user;if(!r||!r.id)throw new Error("Utilizatorul nu este autentificat!");if(!this.validateCategoryAndSubcategory(e.category,e.subcategory||null))throw new Error("Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.");const a={...e,user_id:r.id},{data:i,error:o}=await za.N.from(Ua).insert([a]).select().single();if(o)throw o;return i},async updateTransaction(e,t){const{useAuthStore:r}=await Promise.resolve().then(n.bind(n,952)),a=r.getState().user;if(!a||!a.id)throw new Error("Utilizatorul nu este autentificat!");if(void 0!==t.category){const n=void 0!==t.subcategory?t.subcategory:null;if(null===n){const{data:n}=await za.N.from(Ua).select("subcategory").eq("id",e).eq("user_id",a.id).single();if(n&&!this.validateCategoryAndSubcategory(t.category,n.subcategory||null))throw new Error("Categoria nu este compatibil\u0103 cu subcategoria existent\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.")}else if(!this.validateCategoryAndSubcategory(t.category,n))throw new Error("Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.")}else if(void 0!==t.subcategory){const{data:n}=await za.N.from(Ua).select("category").eq("id",e).eq("user_id",a.id).single();if(n&&!this.validateCategoryAndSubcategory(n.category,t.subcategory||null))throw new Error("Subcategoria nu este valid\u0103 pentru categoria existent\u0103. Verifica\u021bi subcategoriile disponibile pentru aceast\u0103 categorie.")}const{data:i,error:o}=await za.N.from(Ua).update(t).eq("id",e).eq("user_id",a.id).select().single();if(o)throw o;return i},async deleteTransaction(e){const{useAuthStore:t}=await Promise.resolve().then(n.bind(n,952)),r=t.getState().user;if(!r||!r.id)throw new Error("Utilizatorul nu este autentificat!");const{error:a}=await za.N.from(Ua).delete().eq("id",e).eq("user_id",r.id);if(a)throw a}};var Ba=n(952);const Ha=(0,Ma.v)(((e,t)=>({transactions:[],total:0,currentQueryParams:{limit:mt,offset:vt,sort:yt},loading:!1,error:null,monthlyCache:{},setTransactions:t=>e({transactions:t}),setTotal:t=>e({total:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setQueryParams:t=>{e({currentQueryParams:t})},_lastQueryParams:void 0,_getCacheKey:(e,t)=>`${e}-${t.toString().padStart(2,"0")}`,_invalidateMonthCache:(n,r)=>{const a=t()._getCacheKey(n,r),i={...t().monthlyCache};i[a]&&(e({monthlyCache:{...i,[a]:{...i[a],lastFetched:0}}}),console.log(`\ud83d\udd04 Cache invalidated for ${a}, will refresh on next access`))},_getDateInterval:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Date(e,t-1,1),a=new Date(e,t,0);if(n){const e=new Date(r);e.setDate(e.getDate()-6);const t=new Date(a);return t.setDate(t.getDate()+6),{dateFrom:e.toISOString().split("T")[0],dateTo:t.toISOString().split("T")[0]}}return{dateFrom:r.toISOString().split("T")[0],dateTo:a.toISOString().split("T")[0]}},fetchTransactions:async function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{currentQueryParams:r,_lastQueryParams:a,setError:i,monthlyCache:o,_getCacheKey:s,_getDateInterval:l}=t();if(!n&&r.year&&r.month){const t=s(r.year,r.month),n=o[t],a=Date.now();if(n&&a-n.lastFetched<9e5)return console.log(`\ud83d\udd04 Using cached data for ${t}`),void e({transactions:n.transactions,loading:!1,total:n.transactions.length})}if(n||!a||JSON.stringify(a)!==JSON.stringify(r)){e({loading:!0,error:null});try{e({_lastQueryParams:{...r}});const n={type:r.type,category:r.category,recurring:r.recurring};if(r.year&&r.month){const e=l(r.year,r.month,r.includeAdjacentDays);n.dateFrom=e.dateFrom,n.dateTo=e.dateTo}const a=Ba.useAuthStore.getState().user,i=(null===a||void 0===a?void 0:a.id)||"",{data:o,count:u}=await Va.fetchTransactions(i,{limit:r.limit,offset:r.offset,sort:r.sort,order:"desc"},n);if(r.year&&r.month){const n=s(r.year,r.month);e({transactions:o,total:u,loading:!1,monthlyCache:{...t().monthlyCache,[n]:{transactions:o,lastFetched:Date.now()}}})}else e({transactions:o,total:u,loading:!1})}catch(u){console.error("Error fetching transactions:",u),e({transactions:[],total:0,loading:!1,error:Ct.C.EROARE_INCARCARE_TRANZACTII})}}else e({loading:!1})},refresh:async()=>{if(!t().loading){console.log("\ud83d\udd04 transactionStore.refresh called"),e({loading:!0});try{await t().fetchTransactions(!0)}finally{e({loading:!1})}}},saveTransaction:async(n,r)=>{try{let a;return a=r?await Va.updateTransaction(r,n):await Va.createTransaction(n),e({_lastQueryParams:void 0}),await t().fetchTransactions(),a}catch(a){throw e({error:Ct.C.EROARE_SALVARE_TRANZACTIE}),a}},removeTransaction:async n=>{try{await Va.deleteTransaction(n),e({_lastQueryParams:void 0}),await t().fetchTransactions()}catch(r){throw e({error:Ct.C.EROARE_STERGERE_TRANZACTIE}),r}},reset:()=>e({transactions:[],total:0,currentQueryParams:{limit:mt,offset:vt,sort:yt},loading:!1,error:null,_lastQueryParams:void 0,monthlyCache:{}})}))),Ga=(0,Ma.v)(((e,t)=>({form:{...wt},error:"",success:"",loading:!1,setForm:t=>e({form:{...t}}),setField:(t,n)=>e((e=>({form:{...e.form,[t]:n}}))),setError:t=>e({error:t}),setSuccess:t=>e({success:t}),setLoading:t=>e({loading:t}),resetForm:()=>e({form:{...wt},error:"",success:""}),setTransactionService:()=>{},handleChange:e=>{const{name:n,value:r,type:a}=e.target;if("checkbox"===a){const r=e.target.checked;t().setField(n,r)}else t().setField(n,r)},validateForm:()=>{const{form:n}=t();if(!n.type||!n.amount||!n.category||!n.date)return e({error:Ct.C.CAMPURI_OBLIGATORII}),!1;if(n.recurring&&!n.frequency)return e({error:Ct.C.FRECV_RECURENTA}),!1;const r=parseFloat(n.amount);return isNaN(r)||r<Fa.AMOUNT_MIN||r>Fa.AMOUNT_MAX?(e({error:Ct.C.AVERTISMENT_DATE}),!1):Fa.DATE_REGEX.test(n.date)?(e({error:""}),!0):(e({error:Ct.C.AVERTISMENT_DATE}),!1)},handleSubmit:async n=>{if(null===n||void 0===n||n.preventDefault(),t().validateForm()){e({loading:!0,error:""});try{const{form:n}=t(),r={...n,type:n.type,amount:Number(n.amount),frequency:n.frequency?n.frequency:void 0,currency:bt};await Va.createTransaction(r),e({success:Ct.C.SUCCES_ADAUGARE});const a=Ha.getState();await a.refresh()}catch{e({error:Ct.C.EROARE_ADAUGARE})}finally{e({loading:!1})}}else e({loading:!1})},getForm:()=>t().form,getError:()=>t().error,getSuccess:()=>t().success,getLoading:()=>t().loading})));var qa=n(887);const Za=(e,t)=>{console.error(`[categoryService] ${e}:`,t)},Wa="custom_categories",Ka={async getUserCategories(e){if(!e)return{categories:[],version:1};try{const{data:t,error:n}=await za.N.from(Wa).select("category_data, version").eq("user_id",e);if(n)return Za("getUserCategories",n),{categories:[],version:1};if(!t||0===t.length)return{categories:[],version:1};const r=t[0];if(!r.category_data||"object"!==typeof r.category_data)return{categories:[],version:1};const a=Array.isArray(r.category_data.categories)?r.category_data.categories:[];return{categories:a,version:"number"===typeof r.version?r.version:r.category_data.version||1}}catch(t){return Za("getUserCategories exception",t),{categories:[],version:1}}},async saveUserCategories(e,t){try{if(!e)return Za("saveUserCategories","User ID este obligatoriu"),!1;if(!t||"object"!==typeof t)return Za("saveUserCategories","Datele de categorie lipsesc sau sunt invalide"),!1;const n=Array.isArray(t.categories)?t.categories:[],r="number"===typeof t.version?t.version:1,a={user_id:e,category_data:{categories:n,version:r},updated_at:(new Date).toISOString(),version:r};console.debug("[categoryService] Payload trimis:",a);const{data:i,error:o}=await za.N.from(Wa).select("id").eq("user_id",e);if(o)return Za("saveUserCategories select",o),!1;if(i&&0!==i.length){const{error:t}=await za.N.from(Wa).update(a).eq("user_id",e);if(t)return Za("saveUserCategories update",t),!1}else{const{error:e}=await za.N.from(Wa).insert([a]);if(e)return Za("saveUserCategories insert",e),!1}return!0}catch(n){return Za("saveUserCategories exception",n),!1}},async updateTransactionsForSubcategoryRename(e,t,n,r){try{if(!e)return Za("updateTransactionsForSubcategoryRename","User ID este obligatoriu"),!1;if(!t||!n||!r)return Za("updateTransactionsForSubcategoryRename","Categoria, numele vechi \u0219i numele nou sunt obligatorii"),!1;const{error:a}=await za.N.from("transactions").update({subcategory:r.trim()}).eq("user_id",e).eq("category",t).eq("subcategory",n);return!a||(Za("updateTransactionsForSubcategoryRename",a),!1)}catch(a){return Za("updateTransactionsForSubcategoryRename exception",a),!1}},async handleSubcategoryDeletion(e,t,n,r,a){try{if(!e)return Za("handleSubcategoryDeletion","User ID este obligatoriu"),!1;if(!t||!n)return Za("handleSubcategoryDeletion","Categoria \u0219i subcategoria sunt obligatorii"),!1;if("migrate"===r&&a){const{error:r}=await za.N.from("transactions").update({subcategory:a.trim()}).eq("user_id",e).eq("category",t).eq("subcategory",n);return!r||(Za("handleSubcategoryDeletion - migrate",r),!1)}if("delete"===r){const{error:r}=await za.N.from("transactions").update({subcategory:null}).eq("user_id",e).eq("category",t).eq("subcategory",n);return!r||(Za("handleSubcategoryDeletion - delete",r),!1)}return Za("handleSubcategoryDeletion",`Action necunoscut\u0103: ${r}`),!1}catch(i){return Za("handleSubcategoryDeletion exception",i),!1}},async getAvailableSubcategoriesForMigration(e,t,n){try{if(!e||!t||!n)return Za("getAvailableSubcategoriesForMigration","Parametri insuficien\u021bi"),[];const r=await this.getUserCategories(e);if(!r||!Array.isArray(r.categories))return[];const a=r.categories.find((e=>e.name===t));return a&&Array.isArray(a.subcategories)?a.subcategories.filter((e=>!!e&&"string"===typeof e.name)).map((e=>e.name)).filter((e=>e!==n)):[]}catch(r){return Za("getAvailableSubcategoriesForMigration exception",r),[]}},async checkForDuplicateSubcategory(e,t,n){try{if(!e||!t||!n)return!1;const r=n.trim().toLowerCase();if(!r)return!1;const a=await this.getUserCategories(e);if(!a||!Array.isArray(a.categories))return!1;const i=a.categories.find((e=>e.name===t));return!(!i||!Array.isArray(i.subcategories))&&i.subcategories.some((e=>e&&"string"===typeof e.name&&e.name.trim().toLowerCase()===r))}catch(r){return Za("checkForDuplicateSubcategory exception",r),!1}}},Ja=(0,Ma.v)()((0,qa.Zr)(((e,t)=>({categories:[],version:1,loading:!1,error:null,async loadUserCategories(t){if(t){e({loading:!0,error:null});try{const n=await Ka.getUserCategories(t);n&&Array.isArray(n.categories)?(e({categories:n.categories,version:n.version||1,loading:!1,error:null}),console.log(`[categoryStore] ${n.categories.length} categorii \xeenc\u0103rcate cu succes`)):(e({categories:[],version:1,loading:!1,error:null}),console.log("[categoryStore] Nici o categorie nu a fost g\u0103sit\u0103, se \xeencepe cu lista goal\u0103"))}catch(n){console.error("[categoryStore] Eroare la \xeenc\u0103rcarea categoriilor:",n),e({loading:!1,error:"Nu s-au putut \xeenc\u0103rca categoriile. Verific\u0103 conexiunea."})}}else console.warn("[categoryStore] loadUserCategories: utilizator neautentificat")},async saveCategories(n,r){e({loading:!0,error:null});const a=await Ka.saveUserCategories(n,{categories:r,version:t().version+1});e(a?{categories:r,version:t().version+1,loading:!1}:{loading:!1,error:"Eroare la salvarea categoriilor."})},async renameSubcategory(n,r,a,i){const o=t().categories.map((e=>e.name===r?{...e,subcategories:e.subcategories.map((e=>e.name===a?{...e,name:i}:e))}:e));return await Ka.saveUserCategories(n,{categories:o,version:t().version+1}),await Ka.updateTransactionsForSubcategoryRename(n,r,a,i),e({categories:o,version:t().version+1}),!0},async deleteSubcategory(n,r,a,i,o){const s=t().categories.map((e=>e.name===r?{...e,subcategories:e.subcategories.filter((e=>e.name!==a))}:e));return await Ka.saveUserCategories(n,{categories:s,version:t().version+1}),await Ka.handleSubcategoryDeletion(n,r,a,i,o),e({categories:s,version:t().version+1}),!0},mergeWithDefaults(n){const r=t().categories,a=n.map((e=>{const t=r.find((t=>t.name===e.name));if(t){const n=t.subcategories.map((e=>e.name));return{...e,subcategories:[...t.subcategories,...e.subcategories.filter((e=>!n.includes(e.name)))],isCustom:t.isCustom}}return e})),i=r.filter((e=>!n.some((t=>t.name===e.name))));e({categories:[...a,...i]})},getSubcategoryCount:(e,t)=>Ha.getState().transactions.filter((n=>n.category===e&&n.subcategory===t)).length})),{name:"category-store",partialize:e=>({categories:e.categories,version:e.version})}));function Qa(e){try{const t=e.split(".");if(1===t.length){const e=Ct.C[t[0]];if("string"===typeof e)return e}else if(2===t.length&&"VALIDARE"===t[0]){const e=Ct.C.VALIDARE,n=t[1];if(e&&n in e)return e[n]}return e}catch(t){return console.error(`Eroare la accesarea mesajului cu cheia: ${e}`,t),e}}const Ya=t=>{let{onSave:n,onCancel:r}=t;const{form:a,error:i,success:o,loading:s,setField:l,handleSubmit:u,resetForm:c}=Ga(),d=(0,e.useCallback)((e=>{const{name:t,value:n,type:r}=e.target,a="checkbox"===r,i=a?e.target.checked:void 0;l(t,a?i:n),"recurring"===t&&a&&!1===i&&l("frequency",""),"type"===t&&(l("category",""),l("subcategory","")),"category"===t&&l("subcategory","")}),[l]),h=(0,e.useCallback)((async e=>{e.preventDefault(),await u(),null===n||void 0===n||n(a),c()}),[u,c,a,n]),f=Ja((e=>e.categories)),p=e.useMemo((()=>{if(!a.type)return[];const e=(t=a.type,Da[t]||[]);var t;return e.length?f.filter((t=>e.includes(t.name))):[]}),[a.type,f]),g=e.useMemo((()=>p.map((e=>({value:e.name,label:e.name.charAt(0)+e.name.slice(1).toLowerCase().replace(/_/g," ")+(e.isCustom?" \u27a1\ufe0f":"")})))),[p]),m=e.useMemo((()=>{if(!a.category)return[];const e=f.find((e=>e.name===a.category));return e?e.subcategories.map((e=>({value:e.name,label:e.name+(e.isCustom?" \u27a1\ufe0f":""),customStyle:e.isCustom?"text-accent":void 0}))):[]}),[a.category,f]);return(0,dt.jsxs)("form",{"aria-label":Lt,onSubmit:h,className:"flex flex-wrap gap-token mb-token items-end","data-testid":"transaction-form",children:[(0,dt.jsx)(pt,{name:"type",label:Et+"*:",value:a.type,onChange:d,"aria-label":Et,options:Xt.TYPE,placeholder:Ft,"data-testid":"type-select"}),(0,dt.jsx)(ft,{name:"amount",type:"number",label:Rt+"*:",value:a.amount,onChange:d,"aria-label":Rt,placeholder:zt,"data-testid":"amount-input"}),(0,dt.jsx)(pt,{name:"category",label:Tt+"*:",value:a.category,onChange:d,"aria-label":Tt,options:g,disabled:!a.type||0===g.length,placeholder:Ft,"data-testid":"category-select"}),(0,dt.jsx)(pt,{name:"subcategory",label:Nt,value:a.subcategory,onChange:d,"aria-label":Nt,options:m,disabled:!a.category||0===m.length,placeholder:Ft,"data-testid":"subcategory-select"}),(0,dt.jsx)(ft,{name:"date",type:"date",label:At+"*:",value:a.date,onChange:d,"aria-label":At,placeholder:Ut,"data-testid":"date-input"}),(0,dt.jsx)(gt,{name:"recurring",label:Pt+"?",checked:a.recurring,onChange:d,"aria-label":Pt,"data-testid":"recurring-checkbox"}),(0,dt.jsx)(pt,{name:"frequency",label:jt,value:a.frequency,onChange:d,"aria-label":jt,options:Xt.FREQUENCY,disabled:!a.recurring,placeholder:Ft,"data-testid":"frequency-select"}),(0,dt.jsx)(ht,{type:"submit",disabled:!!s,"data-testid":"add-transaction-button","aria-label":Vt,children:Vt}),(0,dt.jsx)(ht,{type:"button",variant:"secondary","data-testid":"cancel-btn",onClick:()=>{c(),null===r||void 0===r||r()},children:Bt}),i&&(0,dt.jsx)("span",{"data-testid":"error-message",role:"alert","aria-label":"error message",className:"text-error-600 block mt-token w-full text-center",children:Qa(i)}),o&&(0,dt.jsx)("span",{"data-testid":"success-message",role:"alert","aria-label":"success message",className:"text-success-600 block mt-token w-full text-center",children:Qa(o)})]})},Xa=e=>{let{offset:t,limit:n,onPageChange:r}=e;console.log("\ud83d\udd03 TransactionTable render");const a=Ha((e=>e.transactions)),i=Ha((e=>e.loading)),o=Ha((e=>e.total));return(0,dt.jsxs)("div",{className:"mt-token",children:[(0,dt.jsxs)("table",{className:"w-full border-collapse rounded-token overflow-hidden shadow-token bg-secondary-50","data-testid":"transaction-table",children:[(0,dt.jsx)("thead",{children:(0,dt.jsxs)("tr",{className:"bg-secondary-100 text-secondary-700",children:[(0,dt.jsx)("th",{className:"px-token-sm py-token-xs text-left font-semibold",children:Zt.HEADERS.TYPE}),(0,dt.jsx)("th",{className:"px-token-sm py-token-xs text-left font-semibold",children:Zt.HEADERS.AMOUNT}),(0,dt.jsx)("th",{className:"px-token-sm py-token-xs text-left font-semibold",children:Zt.HEADERS.CATEGORY}),(0,dt.jsx)("th",{className:"px-token-sm py-token-xs text-left font-semibold",children:Zt.HEADERS.SUBCATEGORY}),(0,dt.jsx)("th",{className:"px-token-sm py-token-xs text-left font-semibold",children:Zt.HEADERS.DATE}),(0,dt.jsx)("th",{className:"px-token-sm py-token-xs text-left font-semibold",children:Zt.HEADERS.RECURRING}),(0,dt.jsx)("th",{className:"px-token-sm py-token-xs text-left font-semibold",children:Zt.HEADERS.FREQUENCY})]})}),(0,dt.jsx)("tbody",{children:i?(0,dt.jsx)("tr",{"data-testid":"transaction-table-loading",children:(0,dt.jsx)("td",{colSpan:7,className:"text-center py-token-lg text-secondary-500",children:Zt.LOADING})}):a&&0!==a.length?a.map(((e,t)=>(0,dt.jsxs)("tr",{className:"border-b border-secondary-200 last:border-b-0 hover:bg-secondary-100","data-testid":`transaction-item-${e.id||t}`,children:[(0,dt.jsx)("td",{className:"px-token-sm py-token-xs",children:e.type||""}),(0,dt.jsx)("td",{className:"px-token-sm py-token-xs",children:void 0!==e.amount&&null!==e.amount?String(e.amount):""}),(0,dt.jsx)("td",{className:"px-token-sm py-token-xs",children:e.category||""}),(0,dt.jsx)("td",{className:"px-token-sm py-token-xs",children:e.subcategory||""}),(0,dt.jsx)("td",{className:"px-token-sm py-token-xs",children:e.date||""}),(0,dt.jsx)("td",{className:"px-token-sm py-token-xs",children:!0===e.recurring?Zt.BOOL.YES:Zt.BOOL.NO}),(0,dt.jsx)("td",{className:"px-token-sm py-token-xs",children:!0===e.recurring&&e.frequency?e.frequency:""})]},e.id||t))):(0,dt.jsx)("tr",{"data-testid":"transaction-table-empty",children:(0,dt.jsx)("td",{colSpan:7,className:"text-center py-token-lg text-secondary-400",children:Zt.EMPTY})})})]}),(0,dt.jsxs)("div",{className:"mt-token flex gap-token items-center justify-center",children:[(0,dt.jsx)(ht,{variant:"secondary",onClick:()=>r(Math.max(0,t-n)),disabled:0===t,children:qt}),(0,dt.jsx)("span",{className:"text-sm text-secondary-600",children:Zt.PAGE_INFO.replace("{current}",String(Math.floor(t/n)+1)).replace("{total}",String(Math.ceil(o/n)||1))}),(0,dt.jsx)(ht,{variant:"secondary",onClick:()=>r(t+n),disabled:t+n>=o||t>=o,children:Gt})]})]})},ei=t=>{let{type:n="",category:r="",onTypeChange:a=()=>{},onCategoryChange:i=()=>{}}=t;const o=Xt.TYPE,s=Ja((e=>e.categories)),l=e.useMemo((()=>s.map((e=>({value:e.name,label:e.name.charAt(0)+e.name.slice(1).toLowerCase().replace(/_/g," ")+(e.isCustom?" \u27a1\ufe0f":"")})))),[s]);return(0,dt.jsxs)("div",{className:"flex items-end gap-token mb-token",children:[(0,dt.jsx)(pt,{name:"type-filter",label:Ot,value:n||"","data-testid":"type-filter",onChange:e=>{const t=e.target.value;console.log("[TransactionFilters] onTypeChange fired with:",t),a(t)},options:o,placeholder:Ft+" tipul"}),(0,dt.jsx)(pt,{name:"category-filter",label:It,value:r||"","data-testid":"category-filter",onChange:e=>i(e.target.value),options:l,placeholder:Ft+" categoria"}),(0,dt.jsx)(ht,{variant:"secondary",onClick:()=>{a(""),i("")},children:"Reseteaz\u0103 filtre"})]})},ti=(0,Ma.v)(((e,t)=>({filterType:"",filterCategory:"",limit:mt,offset:vt,sort:yt,totalItems:0,setFilterType:t=>e({filterType:t,offset:0}),setFilterCategory:t=>e({filterCategory:t,offset:0}),setLimit:t=>e({limit:t}),setOffset:t=>e({offset:t}),setSort:t=>e({sort:t}),setTotalItems:t=>e({totalItems:t}),resetFilters:()=>e({filterType:"",filterCategory:"",limit:mt,offset:vt,sort:yt}),nextPage:()=>{const{offset:n,limit:r,totalItems:a}=t(),i=n+r;i<a&&e({offset:i})},prevPage:()=>{const{offset:n,limit:r}=t(),a=Math.max(0,n-r);e({offset:a})},goToPage:n=>{const{limit:r,totalItems:a}=t(),i=Math.ceil(a/r)||1,o=Math.max(1,Math.min(n,i));e({offset:(o-1)*r})},getCurrentPage:()=>{const{offset:e,limit:n}=t();return Math.floor(e/n)+1},getTotalPages:()=>{const{totalItems:e,limit:n}=t();return Math.ceil(e/n)||1},getQueryParams:()=>{const{filterType:e,filterCategory:n,limit:r,offset:a,sort:i}=t();return{type:e,category:n,limit:r,offset:a,sort:i}}}))),ni=()=>{const t=Ha((e=>e.currentQueryParams)),n=Ha((e=>e.setQueryParams)),r=t.limit||10,a=t.offset||0,i=(Math.floor(a/r),ti((e=>e.filterType))||""),o=ti((e=>e.filterCategory))||"",s=ti((e=>e.setFilterType)),l=ti((e=>e.setFilterCategory)),u=e.useCallback((e=>{n({...t,offset:(e-1)*r})}),[t,r,n]),c=e.useRef({type:"",category:"",offset:0,limit:10});e.useEffect((()=>{if(c.current.type!==i||c.current.category!==o||c.current.offset!==a||c.current.limit!==r){console.log(`Filters changed, fetching transactions with: type=${i}, category=${o}, offset=${a}, limit=${r}`),c.current={type:i,category:o,offset:a,limit:r};const e=Ha.getState();e.setQueryParams({...e.currentQueryParams,type:i,category:o,offset:a,limit:r,month:void 0,year:void 0,includeAdjacentDays:void 0}),e.fetchTransactions(!0)}}),[i,o,a,r]),e.useEffect((()=>{const e=Ha.getState();e.currentQueryParams.month||e.currentQueryParams.year?(console.log("Resetting LunarGrid specific params"),e.setQueryParams({...e.currentQueryParams,month:void 0,year:void 0,includeAdjacentDays:void 0}),e.fetchTransactions(!0)):0!==e.transactions.length||e.loading||(console.log("Initial fetch for TransactionsPage - no transactions found"),e.fetchTransactions())}),[]);const d=Ha((e=>e.error)),h=e.useCallback((e=>u(Math.floor(e/r)+1)),[u,r]);return(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("h1",{className:"text-2xl font-bold text-primary-700 mb-token","data-testid":"transactions-title",children:$t}),(0,dt.jsx)(Ya,{}),(0,dt.jsx)(ei,{type:i,category:o,onTypeChange:e=>s(e),onCategoryChange:e=>l(e)}),(0,dt.jsx)(Xa,{offset:a,limit:r,onPageChange:h}),d&&(0,dt.jsx)("div",{className:"mt-token p-token-sm bg-error-100 text-error-700 rounded-token","data-testid":"fetch-error",children:d})]})},ri=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ai=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()},ii=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var oi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const si=(0,e.forwardRef)(((t,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:u,...c}=t;return(0,e.createElement)("svg",{ref:n,...oi,width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:ai("lucide",s),...!l&&!ii(c)&&{"aria-hidden":"true"},...c},[...u.map((t=>{let[n,r]=t;return(0,e.createElement)(n,r)})),...Array.isArray(l)?l:[l]])})),li=(t,n)=>{const r=(0,e.forwardRef)(((r,a)=>{let{className:i,...o}=r;return(0,e.createElement)(si,{ref:a,iconNode:n,className:ai(`lucide-${s=ri(t),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,i),...o});var s}));return r.displayName=ri(t),r},ui=li("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ci=li("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),di=li("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),hi=li("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),fi=t=>{let{initialAmount:n,day:r,month:a,year:i,category:o,subcategory:s,type:l,onSave:u,onCancel:c,anchorRef:d}=t;const[h,f]=e.useState(n||""),[p,g]=e.useState(!1),[m,v]=e.useState(""),y=(0,e.useRef)(null),b=(0,e.useCallback)((()=>{h&&!isNaN(Number(h))&&u({amount:h,recurring:p,frequency:m})}),[h,p,m,u]);return(0,e.useEffect)((()=>{var e;null===(e=y.current)||void 0===e||e.focus()}),[]),(0,e.useEffect)((()=>{function e(e){if(document.activeElement!==y.current){var t;if(e.key>="0"&&e.key<="9")f((t=>"0"===t?e.key:t+e.key)),null===(t=y.current)||void 0===t||t.focus(),e.preventDefault();"Enter"===e.key&&(b(),e.preventDefault()),"Escape"===e.key&&(c(),e.preventDefault())}}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[c,b]),(0,dt.jsxs)("div",{className:"bg-secondary-50 rounded-token shadow-token p-token flex flex-col gap-2 z-50","data-testid":"cell-transaction-popover",children:[(0,dt.jsxs)("label",{htmlFor:"amount-input",className:"font-medium",children:[Rt,"*"]}),(0,dt.jsx)(ft,{id:"amount-input",name:"amount",type:"number",value:h,onChange:e=>f(e.target.value),placeholder:zt,"data-testid":"cell-amount-input",min:.01,step:"0.01",maxLength:12,autoFocus:!0,inputRef:y}),(0,dt.jsx)(gt,{name:"recurring",checked:p,onChange:e=>g(e.target.checked),label:Pt,"data-testid":"cell-recurring-checkbox"}),p&&(0,dt.jsx)(pt,{name:"frequency",value:m,onChange:e=>v(e.target.value),options:Xt.FREQUENCY,placeholder:Ft,"data-testid":"cell-frequency-select"}),(0,dt.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,dt.jsx)(ht,{type:"button",onClick:b,"data-testid":"cell-save-btn",className:"btn btn-primary",children:Vt}),(0,dt.jsx)(ht,{type:"button",onClick:c,"data-testid":"cell-cancel-btn",className:"btn btn-secondary",children:Bt})]})]})},pi=t=>{let{categoryKey:n,subcategories:r,transactions:a,days:i,popover:o,handleCellClick:s,handleCellDoubleClick:l,handleSavePopover:u,handleClosePopover:c,handleEditSubcategory:d,handleDeleteSubcategory:h,isCustomSubcategory:f,user:p,addingCategory:g,onStartAddSubcategory:m,onAddSubcategory:v,onCancelAddSubcategory:y}=t;const{renameSubcategory:b}=Ja(),[w,_]=(0,e.useState)(""),[x,S]=(0,e.useState)(null),[k,C]=(0,e.useState)("");return(0,dt.jsxs)(dt.Fragment,{children:[r.map((e=>x===e?(0,dt.jsxs)("tr",{className:"border-t border-secondary-200",children:[(0,dt.jsx)("td",{className:"sticky left-0 excel-header z-10 px-4 py-2 pl-8",children:(0,dt.jsxs)("div",{className:"flex items-center w-full",children:[(0,dt.jsx)("input",{className:"input-field w-full",value:k,onChange:e=>C(e.target.value),onKeyDown:async t=>{"Enter"===t.key&&(await b(p.id||p,n,e,k.trim()),S(null)),"Escape"===t.key&&S(null)},autoFocus:!0,"data-testid":`edit-subcat-input-${e}`}),(0,dt.jsx)("button",{className:"ml-2 btn btn-success",onClick:async()=>{await b(p.id||p,n,e,k.trim()),S(null)},"data-testid":`confirm-rename-${e}`,children:Ht}),(0,dt.jsx)("button",{className:"ml-2 btn btn-error",onClick:()=>S(null),"data-testid":`cancel-rename-${e}`,children:Bt})]})}),i.map((e=>(0,dt.jsx)("td",{},e)))]},`edit-${e}`):(0,dt.jsxs)("tr",{className:"group hover:bg-secondary-100 border-t border-secondary-200","data-testid":`subcategory-row-${n}-${e}`,children:[(0,dt.jsxs)("td",{className:"sticky left-0 excel-header z-10 px-4 py-2 pl-8","data-testid":`subcat-${e}`,children:[(0,dt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dt.jsx)("div",{className:"w-4 h-0 border-t border-secondary-400 mr-2"}),(0,dt.jsxs)("span",{"data-testid":`subcat-label-${e}`,children:[e," ",f(n,e)&&(0,dt.jsx)("span",{className:"text-accent text-sm ml-1",children:"\u27a1\ufe0f"})]})]}),p&&(0,dt.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 mr-2 hidden [.group:hover_&]:!flex gap-2",children:f(n,e)?(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("button",{className:"p-1 text-secondary-500 hover:text-accent focus:outline-none",onClick:t=>{t.stopPropagation(),S(e),C(e)},title:"Editeaz\u0103 subcategorie","data-testid":`edit-subcat-${n}-${e}`,children:(0,dt.jsx)(di,{size:14})}),(0,dt.jsx)("button",{className:"p-1 text-secondary-500 hover:text-error-600 focus:outline-none",onClick:t=>{t.stopPropagation(),window.confirm(Ct.C.CONFIRMARE_STERGERE)&&h(n,e)},title:"\u0218terge subcategorie","data-testid":`delete-subcat-${n}-${e}`,children:(0,dt.jsx)(hi,{size:14})})]}):(0,dt.jsx)("button",{className:"p-1 text-secondary-400 hover:text-accent focus:outline-none",onClick:t=>{t.stopPropagation(),S(e),C(e)},title:"Redenume\u0219te subcategoria","data-testid":`rename-subcat-${n}-${e}`,children:(0,dt.jsx)(di,{size:14})})})]}),i.map((t=>{var r,i;const d=a.filter((r=>r.category===n&&r.subcategory===e&&new Date(r.date).getDate()===t)).reduce(((e,t)=>e+("COMPLETED"===t.status&&"number"===typeof t.actualAmount?t.actualAmount:t.amount)),0);return(0,dt.jsxs)("td",{className:"excel-cell text-right "+(0!==d?d>0?"text-success-600 font-medium":"text-error-600 font-medium":"text-secondary-400"),"data-testid":`cell-${n}-${e}-${t}`,tabIndex:0,onClick:r=>s(r,n,e,t,0!==d?String(d):"",""),onDoubleClick:r=>l(r,n,e,t,0!==d?String(d):""),children:[0!==d?d.toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2}):"\u2014",o&&o.category===n&&o.subcategory===e&&o.day===t&&(0,dt.jsx)("div",{style:{position:"absolute",left:(null===(r=o.anchorRect)||void 0===r?void 0:r.left)||0,top:((null===(i=o.anchorRect)||void 0===i?void 0:i.top)||0)+40,zIndex:100},"data-testid":`popover-cell-${n}-${e}-${t}`,children:(0,dt.jsx)(fi,{initialAmount:o.initialAmount,day:o.day,month:o.day,year:o.day,category:o.category,subcategory:o.subcategory,type:o.type,onSave:u,onCancel:c})})]},t)}))]},`${n}-${e}`))),!g&&m&&(0,dt.jsxs)("tr",{className:"border-t border-secondary-200",children:[(0,dt.jsx)("td",{className:"sticky left-0 bg-white z-10 px-4 py-2 pl-8",children:(0,dt.jsx)("button",{className:"btn btn-accent",onClick:()=>m(n),"data-testid":`start-add-${n}`,children:"Adaug\u0103 subcategorie"})}),i.map((e=>(0,dt.jsx)("td",{className:"excel-cell"},`empty-${e}`)))]},"start-add-row"),g===n&&(0,dt.jsxs)("tr",{className:"border-t border-secondary-200",children:[(0,dt.jsx)("td",{className:"sticky left-0 bg-white z-10 px-4 py-2 pl-8",children:(0,dt.jsxs)("div",{className:"flex items-center w-full",children:[(0,dt.jsx)("input",{className:"input-field w-full",placeholder:"Nume subcategorie","data-testid":"add-subcat-input",value:w,onChange:e=>_(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(null===v||void 0===v||v(n,w)),"Escape"===e.key&&(null===y||void 0===y||y())}}),(0,dt.jsx)("button",{className:"ml-2 btn btn-success",onClick:()=>null===v||void 0===v?void 0:v(n,w),"data-testid":`confirm-add-${n}`,children:"Done"}),(0,dt.jsx)("button",{className:"ml-2 btn btn-error",onClick:()=>null===y||void 0===y?void 0:y(),"data-testid":`cancel-add-${n}`,children:"Cancel"})]})}),i.map((e=>(0,dt.jsx)("td",{className:"excel-cell"},e)))]},"add-row")]})};function gi(e){return 0===e?"RON 0.00":`RON ${Math.abs(e).toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2})}`}const mi="budget-app-category-expand",vi=t=>{let{year:n,month:r}=t;const[a,i]=e.useState(null),o=Ja((e=>e.categories)),s=(Ja((e=>e.loadUserCategories)),Ja((e=>e.mergeWithDefaults)),Ja((e=>e.deleteSubcategory))),l="Extinde toate categoriile",u="Colapseaz\u0103 toate categoriile",c=((e,t)=>{const n=new Date(e,t,0);return Array.from({length:n.getDate()},((e,t)=>t+1))})(n,r),{transactions:d}=function(t,n){const r=Ha(),a=e.useRef({year:t,month:n});e.useEffect((()=>{a.current.year===t&&a.current.month===n||(console.log(`Parameters changed: ${a.current.year}-${a.current.month} -> ${t}-${n}`),a.current={year:t,month:n},console.log(`Invalidating cache for ${t}-${n}`),r._invalidateMonthCache(t,n))}),[n,t,r]);const i=e.useMemo((()=>{new Date(t,n-1,1),new Date(t,n,0);const e=1===n?t-1:t,a=1===n?12:n-1,i=new Date(e,a,0).getDate()-5,o=12===n?t+1:t,s=12===n?1:n+1;console.log(`Filtering transactions for ${t}-${n} + adjacent days`),console.log(`Total transactions before filtering: ${r.transactions.length}`);const l=r.transactions.filter((r=>{try{if(!r.date||"string"!==typeof r.date)return!1;const l=new Date(r.date);if(isNaN(l.getTime()))return console.warn(`Invalid date found in transaction: ${r.id}, date: ${r.date}`),!1;const u=l.getDate(),c=l.getMonth()+1,d=l.getFullYear();return d===t&&c===n||d===e&&c===a&&u>=i||d===o&&c===s&&u<=6}catch(l){return console.error("Error filtering transaction:",l,r),!1}}));return console.log(`Filtered transactions: ${l.length}`),l}),[r.transactions,t,n]);return{transactions:i}}(n,r),[h,f]=e.useState((()=>{try{const e=localStorage.getItem(mi);return e?JSON.parse(e):{}}catch(e){return console.error("Error loading expanded categories from localStorage:",e),{}}})),p=e.useCallback((()=>{const e={};o.forEach((t=>{e[t.name]=!0})),f(e);try{localStorage.setItem(mi,JSON.stringify(e))}catch{}}),[o]),g=e.useCallback((()=>{const e={};o.forEach((t=>{e[t.name]=!1})),f(e);try{localStorage.setItem(mi,JSON.stringify(e))}catch{}}),[o]),m=e.useMemo((()=>{const e={};return o.forEach((t=>{e[t.name]=function(e,t){const n={};return e.forEach((e=>{if(e.category===t){const t=new Date(e.date).getDate(),r=e.status===xt.COMPLETED&&"number"===typeof e.actualAmount?e.actualAmount:e.amount;n[t]=(n[t]||0)+r}})),n}(d,t.name)})),e}),[d,o]),v=e.useRef(null),y=e.useCallback((()=>{console.log(" Marking transaction added for subtle refresh..."),v.current={timestamp:Date.now(),processed:!1},setTimeout((()=>{v.current&&(v.current.processed=!0),setTimeout((()=>{Ha.getState()._invalidateMonthCache(n,r),Ha.getState().fetchTransactions(!0)}),100)}),100)}),[n,r]),b=e.useMemo((()=>c.reduce(((e,t)=>(e[t]=function(e,t){return e.filter((e=>new Date(e.date).getDate()===t)).reduce(((e,t)=>{const n=t.status===xt.COMPLETED&&"number"===typeof t.actualAmount?t.actualAmount:t.amount;return t.type===_t.INCOME?e+n:e-Math.abs(n)}),0)}(d,t),e)),{})),[c,d]),w=e=>0===e?"text-secondary-400":e>0?"text-success-600 font-medium":"text-error-600 font-medium",[_,x]=e.useState(null),S=e=>"VENITURI"===e?_t.INCOME:"ECONOMII"===e?_t.SAVING:_t.EXPENSE,k=(e,t,n,r,a,i)=>{if(_&&_.category===t&&_.subcategory===n&&_.day===r)return;const o=S(t);x({category:t,subcategory:n,day:r,anchorRect:e.currentTarget.getBoundingClientRect(),initialAmount:a,type:o})},C=Ha(),E=e.useCallback(((e,t,a,i,o)=>{e.preventDefault();const s=S(t),l=window.prompt(Qt.ENTER_AMOUNT,o.replace(/[^0-9.-]/g,""));if(!l)return;if(isNaN(Number(l)))return void alert("Suma introdus\u0103 nu este valid\u0103!");const u=new Date(n,r-1,i);C.saveTransaction({amount:Number(l),category:t,subcategory:a,type:s,date:u.toISOString().slice(0,10),recurring:!1,frequency:void 0,currency:"RON"}).then((()=>{console.log(`Tranzac\u021bie salvat\u0103 cu success: ${t} / ${a} / ${i} = ${l} RON`),console.log(" Invalidating cache after save (double click)..."),C._invalidateMonthCache(n,r),y()})).catch((e=>{console.error("Eroare la salvare tranzac\u021bie:",e)}))}),[r,n,C]),R=async e=>{if(_){console.log("Saving transaction with data:",e);try{const{category:t,subcategory:a,day:i,type:o}=_,{amount:s,recurring:l,frequency:u}=e,c=new Date(n,r-1,i),d={amount:Number(s),category:t,subcategory:a,type:o,date:c.toISOString().slice(0,10),recurring:l,frequency:u||void 0,currency:"RON"};console.log("Sending transaction data:",d),await C.saveTransaction(d),console.log(" Invalidating cache after save (popover)..."),C._invalidateMonthCache(n,r),y()}catch(t){console.error("Error saving transaction:",t)}finally{x(null)}}},T=()=>x(null),{user:N}=(0,Ba.useAuthStore)(),A=e.useCallback(((e,t)=>{N&&s(N.id,e,t,"delete")}),[s,N]),P=(e,t)=>{const n=o.find((t=>t.name===e));if(!n)return!1;const r=n.subcategories.find((e=>e.name===t));return(null===r||void 0===r?void 0:r.isCustom)||!1},[j,O]=e.useState(null),{categories:I,saveCategories:L}=Ja();return(0,dt.jsxs)(e.Fragment,{children:[(0,dt.jsxs)("div",{className:"flex justify-end space-x-2 mb-2",children:[(0,dt.jsx)("button",{onClick:p,className:"btn btn-secondary","data-testid":"expand-all-btn",children:l}),(0,dt.jsx)("button",{onClick:g,className:"btn btn-secondary","data-testid":"collapse-all-btn",children:u})]}),(0,dt.jsx)("div",{className:"overflow-x-auto rounded-lg shadow-token bg-secondary-50",children:(0,dt.jsxs)("table",{className:"min-w-full text-sm align-middle border-separate border-spacing-0","data-testid":"lunar-grid-table",children:[(0,dt.jsx)("thead",{children:(0,dt.jsxs)("tr",{className:"excel-header",children:[(0,dt.jsx)("th",{className:"sticky left-0 z-20 excel-header px-4 py-2 text-left",style:{minWidth:180},children:Wt.LUNA}),c.map((e=>(0,dt.jsx)("th",{className:"excel-cell text-right",children:e},e)))]})}),(0,dt.jsxs)("tbody",{children:[o.map((t=>{const n=t.name,r=t.subcategories.map((e=>e.name)),a=!!h[n],o=m[n]||{};return(0,dt.jsxs)(e.Fragment,{children:[(0,dt.jsxs)("tr",{className:"bg-secondary-100 hover:bg-secondary-200 cursor-pointer",onClick:()=>(e=>{f((t=>{const n={...t,[e]:!t[e]};try{localStorage.setItem(mi,JSON.stringify(n))}catch(r){console.error("Error saving to localStorage:",r)}return n}))})(n),"data-testid":`category-row-${n}`,children:[(0,dt.jsxs)("td",{className:"sticky left-0 bg-teal-100 hover:bg-teal-200 z-10 font-semibold px-4 py-2 flex items-center","data-testid":`category-header-${n}`,children:[a?(0,dt.jsx)(ui,{size:16,className:"mr-1","data-testid":`category-expanded-${n}`}):(0,dt.jsx)(ci,{size:16,className:"mr-1","data-testid":`category-collapsed-${n}`}),n]}),c.map((e=>{const t=o[e]||0;return(0,dt.jsx)("td",{className:`px-4 py-2 text-right ${w(t)}`,"data-testid":`category-total-${n}-${e}`,children:0!==t?gi(t):"\u2014"},e)}))]}),a&&(0,dt.jsx)(pi,{categoryKey:n,subcategories:r,transactions:d,days:c,popover:_,handleCellClick:k,handleCellDoubleClick:E,handleSavePopover:R,handleClosePopover:T,handleEditSubcategory:(e,t)=>{i({category:e,subcategory:t,mode:"edit"})},handleDeleteSubcategory:A,isCustomSubcategory:P,user:N,addingCategory:j,onAddSubcategory:async(e,t)=>{if(!N||!t.trim())return;const n=I.find((t=>t.name===e));if(!n||n.subcategories.some((e=>e.name.toLowerCase()===t.trim().toLowerCase())))return;const r=I.map((n=>n.name===e?{...n,subcategories:[...n.subcategories,{name:t.trim(),isCustom:!0}]}:n));await L(N.id,r),O(null)},onCancelAddSubcategory:()=>O(null),onStartAddSubcategory:e=>O(e)})]},n)})),(0,dt.jsxs)("tr",{className:"bg-gray-100 font-bold border-t-2",children:[(0,dt.jsx)("td",{className:"sticky left-0 bg-gray-100 z-10 px-4 py-2","data-testid":"sold-label",children:Wt.SOLD}),c.map((e=>{const t=b[e];return(0,dt.jsx)("td",{className:`px-4 py-2 text-right ${w(t)}`,"data-testid":`sold-day-${e}`,children:gi(t)},e)}))]})]})]})})]})};function yi(e,t){return"function"===typeof e?e(t):e}function bi(e,t){return n=>{t.setState((t=>({...t,[e]:yi(n,t[e])})))}}function wi(e){return e instanceof Function}function _i(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const a=t(e);null!=a&&a.length&&r(a)}))};return r(e),n}function xi(e,t,n){let r,a=[];return i=>{let o;n.key&&n.debug&&(o=Date.now());const s=e(i);if(!(s.length!==a.length||s.some(((e,t)=>a[t]!==e))))return r;let l;if(a=s,n.key&&n.debug&&(l=Date.now()),r=t(...s),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-o))/100,t=Math.round(100*(Date.now()-l))/100,r=t/16,a=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c\u23f1 ${a(t,5)} /${a(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function Si(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}const ki="debugHeaders";function Ci(e,t,n){var r;let a={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(a),e},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach((t=>{null==t.createHeader||t.createHeader(a,e)})),a}const Ei={createTable:e=>{e.getHeaderGroups=xi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,a)=>{var i,o;const s=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[],l=null!=(o=null==a?void 0:a.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[];return Ri(t,[...s,...n.filter((e=>!(null!=r&&r.includes(e.id))&&!(null!=a&&a.includes(e.id)))),...l],e)}),Si(e.options,ki)),e.getCenterHeaderGroups=xi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,a)=>Ri(t,n=n.filter((e=>!(null!=r&&r.includes(e.id))&&!(null!=a&&a.includes(e.id)))),e,"center")),Si(e.options,ki)),e.getLeftHeaderGroups=xi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var a;const i=null!=(a=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[];return Ri(t,i,e,"left")}),Si(e.options,ki)),e.getRightHeaderGroups=xi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var a;const i=null!=(a=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[];return Ri(t,i,e,"right")}),Si(e.options,ki)),e.getFooterGroups=xi((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),Si(e.options,ki)),e.getLeftFooterGroups=xi((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),Si(e.options,ki)),e.getCenterFooterGroups=xi((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),Si(e.options,ki)),e.getRightFooterGroups=xi((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),Si(e.options,ki)),e.getFlatHeaders=xi((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),Si(e.options,ki)),e.getLeftFlatHeaders=xi((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),Si(e.options,ki)),e.getCenterFlatHeaders=xi((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),Si(e.options,ki)),e.getRightFlatHeaders=xi((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),Si(e.options,ki)),e.getCenterLeafHeaders=xi((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),Si(e.options,ki)),e.getLeftLeafHeaders=xi((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),Si(e.options,ki)),e.getRightLeafHeaders=xi((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),Si(e.options,ki)),e.getLeafHeaders=xi((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,a,i,o,s,l;return[...null!=(r=null==(a=e[0])?void 0:a.headers)?r:[],...null!=(i=null==(o=t[0])?void 0:o.headers)?i:[],...null!=(s=null==(l=n[0])?void 0:l.headers)?s:[]].map((e=>e.getLeafHeaders())).flat()}),Si(e.options,ki))}};function Ri(e,t,n,r){var a,i;let o=0;const s=function(e,t){void 0===t&&(t=1),o=Math.max(o,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&s(e.columns,t+1)}),0)};s(e);let l=[];const u=(e,t)=>{const a={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},i=[];e.forEach((e=>{const o=[...i].reverse()[0];let s,l=!1;if(e.column.depth===a.depth&&e.column.parent?s=e.column.parent:(s=e.column,l=!0),o&&(null==o?void 0:o.column)===s)o.subHeaders.push(e);else{const a=Ci(n,s,{id:[r,t,s.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${i.filter((e=>e.column===s)).length}`:void 0,depth:t,index:i.length});a.subHeaders.push(e),i.push(a)}a.headers.push(e),e.headerGroup=a})),l.push(a),t>0&&u(i,t-1)},c=t.map(((e,t)=>Ci(n,e,{depth:o,index:t})));u(c,o-1),l.reverse();const d=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:a}=e;t+=n,r.push(a)}))):t=1;return n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return d(null!=(a=null==(i=l[0])?void 0:i.headers)?a:[]),l}const Ti=(e,t,n,r,a,i,o)=>{let s={id:t,index:r,original:n,depth:a,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(s._valuesCache.hasOwnProperty(t))return s._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(s._valuesCache[t]=n.accessorFn(s.original,r),s._valuesCache[t]):void 0},getUniqueValues:t=>{if(s._uniqueValuesCache.hasOwnProperty(t))return s._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(s._uniqueValuesCache[t]=n.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[t]):(s._uniqueValuesCache[t]=[s.getValue(t)],s._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=s.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=i?i:[],getLeafRows:()=>_i(s.subRows,(e=>e.subRows)),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let e=[],t=s;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:xi((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=a.getValue())?t:e.options.renderFallbackValue},getContext:xi((()=>[e,n,t,a]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),Si(e.options,"debugCells"))};return e._features.forEach((r=>{null==r.createCell||r.createCell(a,n,t,e)}),{}),a}(e,s,t,t.id)))),Si(e.options,"debugRows")),_getAllCellsByColumnId:xi((()=>[s.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),Si(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const t=e._features[l];null==t||null==t.createRow||t.createRow(s,e)}return s},Ni={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Ai=(e,t,n)=>{var r,a;const i=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return Boolean(null==(a=e.getValue(t))||null==(a=a.toString())||null==(a=a.toLowerCase())?void 0:a.includes(i))};Ai.autoRemove=e=>zi(e);const Pi=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};Pi.autoRemove=e=>zi(e);const ji=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};ji.autoRemove=e=>zi(e);const Oi=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};Oi.autoRemove=e=>zi(e);const Ii=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));Ii.autoRemove=e=>zi(e)||!(null!=e&&e.length);const Li=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));Li.autoRemove=e=>zi(e)||!(null!=e&&e.length);const $i=(e,t,n)=>e.getValue(t)===n;$i.autoRemove=e=>zi(e);const Di=(e,t,n)=>e.getValue(t)==n;Di.autoRemove=e=>zi(e);const Mi=(e,t,n)=>{let[r,a]=n;const i=e.getValue(t);return i>=r&&i<=a};Mi.resolveFilterValue=e=>{let[t,n]=e,r="number"!==typeof t?parseFloat(t):t,a="number"!==typeof n?parseFloat(n):n,i=null===t||Number.isNaN(r)?-1/0:r,o=null===n||Number.isNaN(a)?1/0:a;if(i>o){const e=i;i=o,o=e}return[i,o]},Mi.autoRemove=e=>zi(e)||zi(e[0])&&zi(e[1]);const Fi={includesString:Ai,includesStringSensitive:Pi,equalsString:ji,arrIncludes:Oi,arrIncludesAll:Ii,arrIncludesSome:Li,equals:$i,weakEquals:Di,inNumberRange:Mi};function zi(e){return void 0===e||null===e||""===e}const Ui={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:bi("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"===typeof r?Fi.includesString:"number"===typeof r?Fi.inNumberRange:"boolean"===typeof r||null!==r&&"object"===typeof r?Fi.equals:Array.isArray(r)?Fi.arrIncludes:Fi.weakEquals},e.getFilterFn=()=>{var n,r;return wi(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:Fi[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(a=t.options.enableFilters)||a)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find((t=>t.id===e.id)))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),a=null==t?void 0:t.find((t=>t.id===e.id)),i=yi(n,a?a.value:void 0);var o;if(Vi(r,i,e))return null!=(o=null==t?void 0:t.filter((t=>t.id!==e.id)))?o:[];const s={id:e.id,value:i};var l;return a?null!=(l=null==t?void 0:t.map((t=>t.id===e.id?s:t)))?l:[]:null!=t&&t.length?[...t,s]:[s]}))}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=yi(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));if(t){if(Vi(t.getFilterFn(),e.value,t))return!1}return!0}))}))},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Vi(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||"undefined"===typeof t||"string"===typeof t&&!t}const Bi={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"===typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,a;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=a=n):(r>n&&(r=n),a<n&&(a=n)))})),[r,a]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let a=t.getValue(e);null!=a&&(a=+a)>=a&&(++n,r+=a)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(!function(e){return Array.isArray(e)&&e.every((e=>"number"===typeof e))}(n))return;if(1===n.length)return n[0];const r=Math.floor(n.length/2),a=n.sort(((e,t)=>e-t));return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},Hi={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:bi("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"===typeof r?Bi.sum:"[object Date]"===Object.prototype.toString.call(r)?Bi.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return wi(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:Bi[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}};const Gi={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:bi("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=xi((e=>[Yi(t,e)]),(t=>t.findIndex((t=>t.id===e.id))),Si(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=Yi(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=Yi(t,n);return(null==(r=a[a.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=xi((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let a=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&a.push(n.splice(r,1)[0])}a=[...a,...n]}else a=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));if("remove"===n)return r;const a=t.map((t=>e.find((e=>e.id===t)))).filter(Boolean);return[...a,...r]}(a,t,n)}),Si(e.options,"debugTable"))}},qi={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:bi("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,a,i,o,s,l;return"right"===n?{left:(null!=(i=null==e?void 0:e.left)?i:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(o=null==e?void 0:e.right)?o:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(s=null==e?void 0:e.left)?s:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(a=null==e?void 0:e.right)?a:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},e.getCanPin=()=>e.getLeafColumns().some((e=>{var n,r,a;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(a=t.options.enableColumnPinning)?a:t.options.enablePinning)||r)})),e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:a}=t.getState().columnPinning,i=n.some((e=>null==r?void 0:r.includes(e))),o=n.some((e=>null==a?void 0:a.includes(e)));return i?"left":!!o&&"right"},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[a])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=xi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),Si(t.options,"debugRows")),e.getLeftVisibleCells=xi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})));return n}),Si(t.options,"debugRows")),e.getRightVisibleCells=xi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})));return n}),Si(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var a,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(a=r.left)?void 0:a.length)||(null==(i=r.right)?void 0:i.length))},e.getLeftLeafColumns=xi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),Si(e.options,"debugColumns")),e.getRightLeafColumns=xi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),Si(e.options,"debugColumns")),e.getCenterLeafColumns=xi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),Si(e.options,"debugColumns"))}};const Zi={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Wi={getDefaultColumnDef:()=>Zi,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:bi("columnSizing",e),onColumnSizingInfoChange:bi("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const i=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:Zi.minSize,null!=(r=null!=i?i:e.columnDef.size)?r:Zi.size),null!=(a=e.columnDef.maxSize)?a:Zi.maxSize)},e.getStart=xi((e=>[e,Yi(t,e),t.getState().columnSizing]),((t,n)=>n.slice(0,e.getIndex(t)).reduce(((e,t)=>e+t.getSize()),0)),Si(t.options,"debugColumns")),e.getAfter=xi((e=>[e,Yi(t,e),t.getState().columnSizing]),((t,n)=>n.slice(e.getIndex(t)+1).reduce(((e,t)=>e+t.getSize()),0)),Si(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=null==r?void 0:r.getCanResize();return i=>{if(!r||!a)return;if(null==i.persist||i.persist(),Ji(i)&&i.touches&&i.touches.length>1)return;const o=e.getSize(),s=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[r.id,r.getSize()]],l=Ji(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(e,n)=>{"number"===typeof n&&(t.setColumnSizingInfo((e=>{var r,a;const i="rtl"===t.options.columnResizeDirection?-1:1,o=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*i,s=Math.max(o/(null!=(a=null==e?void 0:e.startSize)?a:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;u[t]=Math.round(100*Math.max(n+n*s,0))/100})),{...e,deltaOffset:o,deltaPercentage:s}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...u}))))},d=e=>c("move",e),h=e=>{c("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},f=n||("undefined"!==typeof document?document:null);const p={moveHandler:e=>d(e.clientX),upHandler:e=>{null==f||f.removeEventListener("mousemove",p.moveHandler),null==f||f.removeEventListener("mouseup",p.upHandler),h(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;null==f||f.removeEventListener("touchmove",g.moveHandler),null==f||f.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),h(null==(t=e.touches[0])?void 0:t.clientX)}},m=!!function(){if("boolean"===typeof Ki)return Ki;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(t){e=!1}return Ki=e,Ki}()&&{passive:!1};Ji(i)?(null==f||f.addEventListener("touchmove",g.moveHandler,m),null==f||f.addEventListener("touchend",g.upHandler,m)):(null==f||f.addEventListener("mousemove",p.moveHandler,m),null==f||f.addEventListener("mouseup",p.upHandler,m)),t.setColumnSizingInfo((e=>({...e,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:r.id})))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}}};let Ki=null;function Ji(e){return"touchstart"===e.type}const Qi={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:bi("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},e.getIsVisible=()=>{var n,r;const a=e.columns;return null==(n=a.length?a.some((e=>e.getIsVisible())):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=xi((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),Si(t.options,"debugRows")),e.getVisibleCells=xi((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),Si(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>xi((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),Si(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,(()=>e.getAllFlatColumns())),e.getVisibleLeafColumns=t(0,(()=>e.getAllLeafColumns())),e.getLeftVisibleLeafColumns=t(0,(()=>e.getLeftLeafColumns())),e.getRightVisibleLeafColumns=t(0,(()=>e.getRightLeafColumns())),e.getCenterVisibleLeafColumns=t(0,(()=>e.getCenterLeafColumns())),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}};function Yi(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Xi={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:bi("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(t){if(null!=(r=null!=(a=e.options.autoResetAll)?a:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"===typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var a;const i=!0===r||!(null==r||!r[e.id]);let o={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{o[e]=!0})):o=r,n=null!=(a=n)?a:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:t,...n}=o;return n}return r}))},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,a;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(a=e.subRows)||!a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},eo={getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:bi("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(t){if(null!=(r=null!=(a=e.options.autoResetAll)?a:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>yi(t,e))),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination((n=>{let r=yi(t,n.pageIndex);const a="undefined"===typeof e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,a)),{...n,pageIndex:r}}))},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,yi(t,e.pageSize)),r=e.pageSize*e.pageIndex,a=Math.floor(r/n);return{...e,pageIndex:a,pageSize:n}}))},e.setPageCount=t=>e.setPagination((n=>{var r;let a=yi(t,null!=(r=e.options.pageCount)?r:-1);return"number"===typeof a&&(a=Math.max(-1,a)),{...n,pageCount:a}})),e.getPageOptions=xi((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),Si(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex((e=>e-1)),e.nextPage=()=>e.setPageIndex((e=>e+1)),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},to={getInitialState:e=>({rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onRowPinningChange:bi("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,a)=>{const i=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[],o=a?e.getParentRows().map((e=>{let{id:t}=e;return t})):[],s=new Set([...o,e.id,...i]);t.setRowPinning((e=>{var t,r,a,i,o,l;return"bottom"===n?{top:(null!=(a=null==e?void 0:e.top)?a:[]).filter((e=>!(null!=s&&s.has(e)))),bottom:[...(null!=(i=null==e?void 0:e.bottom)?i:[]).filter((e=>!(null!=s&&s.has(e)))),...Array.from(s)]}:"top"===n?{top:[...(null!=(o=null==e?void 0:e.top)?o:[]).filter((e=>!(null!=s&&s.has(e)))),...Array.from(s)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter((e=>!(null!=s&&s.has(e))))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter((e=>!(null!=s&&s.has(e)))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter((e=>!(null!=s&&s.has(e))))}}))},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return"function"===typeof r?r(e):null==(n=null!=r?r:a)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,i=n.some((e=>null==r?void 0:r.includes(e))),o=n.some((e=>null==a?void 0:a.includes(e)));return i?"top":!!o&&"bottom"},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const i=null==(n="top"===a?t.getTopRows():t.getBottomRows())?void 0:n.map((e=>{let{id:t}=e;return t}));return null!=(r=null==i?void 0:i.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var a,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(a=r.top)?void 0:a.length)||(null==(i=r.bottom)?void 0:i.length))},e._getPinnedRows=(t,n,r)=>{var a;return(null==(a=e.options.keepPinnedRows)||a?(null!=n?n:[]).map((t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null})):(null!=n?n:[]).map((e=>t.find((t=>t.id===e))))).filter(Boolean).map((e=>({...e,position:r})))},e.getTopRows=xi((()=>[e.getRowModel().rows,e.getState().rowPinning.top]),((t,n)=>e._getPinnedRows(t,n,"top")),Si(e.options,"debugRows")),e.getBottomRows=xi((()=>[e.getRowModel().rows,e.getState().rowPinning.bottom]),((t,n)=>e._getPinnedRows(t,n,"bottom")),Si(e.options,"debugRows")),e.getCenterRows=xi((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter((e=>!r.has(e.id)))}),Si(e.options,"debugRows"))}},no={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:bi("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t="undefined"!==typeof t?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):a.forEach((e=>{delete r[e.id]})),r}))},e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r="undefined"!==typeof t?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach((t=>{ro(a,t.id,r,!0,e)})),a})),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=xi((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?ao(e,n):{rows:[],flatRows:[],rowsById:{}}),Si(e.options,"debugTable")),e.getFilteredSelectedRowModel=xi((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?ao(e,n):{rows:[],flatRows:[],rowsById:{}}),Si(e.options,"debugTable")),e.getGroupedSelectedRowModel=xi((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?ao(e,n):{rows:[],flatRows:[],rowsById:{}}),Si(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection((i=>{var o;if(n="undefined"!==typeof n?n:!a,e.getCanSelect()&&a===n)return i;const s={...i};return ro(s,e.id,n,null==(o=null==r?void 0:r.selectChildren)||o,t),s}))},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return io(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===oo(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===oo(e,n)},e.getCanSelect=()=>{var n;return"function"===typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"===typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"===typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},ro=(e,t,n,r,a)=>{var i;const o=a.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(i=o.subRows)&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach((t=>ro(e,t.id,n,r,a)))};function ao(e,t){const n=e.getState().rowSelection,r=[],a={},i=function(e,t){return e.map((e=>{var t;const o=io(e,n);if(o&&(r.push(e),a[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:i(e.subRows)}),o)return e})).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:a}}function io(e,t){var n;return null!=(n=t[e.id])&&n}function oo(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let a=!0,i=!1;return e.subRows.forEach((e=>{if((!i||a)&&(e.getCanSelect()&&(io(e,t)?i=!0:a=!1),e.subRows&&e.subRows.length)){const n=oo(e,t);"all"===n?i=!0:"some"===n?(i=!0,a=!1):a=!1}})),a?"all":!!i&&"some"}const so=/([0-9]+)/gm;function lo(e,t){return e===t?0:e>t?1:-1}function uo(e){return"number"===typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"===typeof e?e:""}function co(e,t){const n=e.split(so).filter(Boolean),r=t.split(so).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),a=parseInt(e,10),i=parseInt(t,10),o=[a,i].sort();if(isNaN(o[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(o[1]))return isNaN(a)?-1:1;if(a>i)return 1;if(i>a)return-1}}return n.length-r.length}const ho={alphanumeric:(e,t,n)=>co(uo(e.getValue(n)).toLowerCase(),uo(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>co(uo(e.getValue(n)),uo(t.getValue(n))),text:(e,t,n)=>lo(uo(e.getValue(n)).toLowerCase(),uo(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>lo(uo(e.getValue(n)),uo(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},basic:(e,t,n)=>lo(e.getValue(n),t.getValue(n))},fo={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:bi("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return ho.datetime;if("string"===typeof n&&(r=!0,n.split(so).length>1))return ho.alphanumeric}return r?ho.text:ho.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"===typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return wi(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:ho[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),i="undefined"!==typeof n&&null!==n;t.setSorting((o=>{const s=null==o?void 0:o.find((t=>t.id===e.id)),l=null==o?void 0:o.findIndex((t=>t.id===e.id));let u,c=[],d=i?n:"desc"===a;var h;(u=null!=o&&o.length&&e.getCanMultiSort()&&r?s?"toggle":"add":null!=o&&o.length&&l!==o.length-1?"replace":s?"toggle":"replace","toggle"===u&&(i||a||(u="remove")),"add"===u)?(c=[...o,{id:e.id,desc:d}],c.splice(0,c.length-(null!=(h=t.options.maxMultiSortColCount)?h:Number.MAX_SAFE_INTEGER))):c="toggle"===u?o.map((t=>t.id===e.id?{...t,desc:d}:t)):"remove"===u?o.filter((t=>t.id!==e.id)):[{id:e.id,desc:d}];return c}))},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?!!(o===i||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(a=t.options.enableMultiRemove)&&!a)&&("desc"===o?"asc":"desc"):i},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.clearSorting=()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},po=[Ei,Qi,Gi,qi,Ni,Ui,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:bi("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"===typeof r||"number"===typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,a,i;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(a=t.options.enableFilters)||a)&&(null==(i=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||i)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Fi.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return wi(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:Fi[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},fo,Hi,Xi,eo,to,no,Wi];function go(e){var t,n;const r=[...po,...null!=(t=e._features)?t:[]];let a={_features:r};const i=a._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(a))),{});let o={...null!=(n=e.initialState)?n:{}};a._features.forEach((e=>{var t;o=null!=(t=null==e.getInitialState?void 0:e.getInitialState(o))?t:o}));const s=[];let l=!1;const u={_features:r,options:{...i,...e},initialState:o,_queue:e=>{s.push(e),l||(l=!0,Promise.resolve().then((()=>{for(;s.length;)s.shift()();l=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{a.setState(a.initialState)},setOptions:e=>{const t=yi(e,a.options);a.options=(e=>a.options.mergeOptions?a.options.mergeOptions(i,e):{...i,...e})(t)},getState:()=>a.options.state,setState:e=>{null==a.options.onStateChange||a.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==a.options.getRowId?void 0:a.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?a.getPrePaginationRowModel():a.getRowModel()).rowsById[e];if(!n&&(n=a.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:xi((()=>[a.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...a._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),Si(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:xi((()=>[a._getColumnDefs()]),(e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map((e=>{const i=function(e,t,n,r){var a,i;const o={...e._getDefaultColumnDef(),...t},s=o.accessorKey;let l,u=null!=(a=null!=(i=o.id)?i:s?"function"===typeof String.prototype.replaceAll?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)?a:"string"===typeof o.header?o.header:void 0;if(o.accessorFn?l=o.accessorFn:s&&(l=s.includes(".")?e=>{let t=e;for(const r of s.split(".")){var n;t=null==(n=t)?void 0:n[r]}return t}:e=>e[o.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:l,parent:r,depth:n,columnDef:o,columns:[],getFlatColumns:xi((()=>[!0]),(()=>{var e;return[c,...null==(e=c.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),Si(e.options,"debugColumns")),getLeafColumns:xi((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=c.columns)&&t.length){let t=c.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[c]}),Si(e.options,"debugColumns"))};for(const d of e._features)null==d.createColumn||d.createColumn(c,e);return c}(a,e,r,n),o=e;return i.columns=o.columns?t(o.columns,i,r+1):[],i}))};return t(e)}),Si(e,"debugColumns")),getAllFlatColumns:xi((()=>[a.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),Si(e,"debugColumns")),_getAllFlatColumnsById:xi((()=>[a.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),Si(e,"debugColumns")),getAllLeafColumns:xi((()=>[a.getAllColumns(),a._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),Si(e,"debugColumns")),getColumn:e=>a._getAllFlatColumnsById()[e]};Object.assign(a,u);for(let c=0;c<a._features.length;c++){const e=a._features[c];null==e||null==e.createTable||e.createTable(a)}return a}function mo(t,n){return t?function(e){return"function"===typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(r=t)||"function"===typeof r||function(e){return"object"===typeof e&&"symbol"===typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?e.createElement(t,n):t:null;var r}function vo(t,n,r,a,i,o,s){const l=(0,e.useRef)(null),u=(0,e.useMemo)((()=>{const e=new Date(a,i,0).getDate(),t={id:"category",header:Wt.LUNA,accessorFn:e=>e.isCategory?e.category:e.subcategory,cell:e=>{let{row:t,getValue:n}=e;const a=n(),i=t.original.isCategory;return(0,dt.jsx)("div",{className:"flex items-center",children:i?(0,dt.jsxs)(dt.Fragment,{children:[r[t.original.category]?(0,dt.jsx)(ui,{size:16,className:"mr-1","data-testid":`expand-btn-${t.original.category}`}):(0,dt.jsx)(ci,{size:16,className:"mr-1","data-testid":`expand-btn-${t.original.category}`}),(0,dt.jsx)("span",{className:"font-semibold",children:a})]}):(0,dt.jsxs)("div",{className:"flex items-center space-x-2 pl-8",children:[(0,dt.jsx)("div",{className:"w-4 h-0 border-t border-secondary-400 mr-2"}),(0,dt.jsx)("span",{children:a})]})})},size:200},n=Array.from({length:e},((e,t)=>{const n=t+1;return{id:`day-${n}`,day:n,header:String(n),accessorFn:e=>e.dailyAmounts[n]||0,cell:e=>{let{getValue:t,row:r}=e;const a=t(),i=a>0?"text-success-600 font-medium":a<0?"text-error-600 font-medium":"text-secondary-400";return(0,dt.jsx)("div",{className:`text-right ${i}`,"data-testid":`cell-${r.original.category}-${r.original.subcategory||"category"}-${n}`,onClick:e=>{if(!r.original.isCategory||r.original.isCategory&&r.original.category!==Wt.SOLD){const t=0!==a?Math.abs(a).toString():"";null===o||void 0===o||o(e,r.original.category,r.original.subcategory||"",n,t,"")}},onDoubleClick:e=>{if(!r.original.isCategory||r.original.isCategory&&r.original.category!==Wt.SOLD){const t=0!==a?Math.abs(a).toString():"";null===s||void 0===s||s(e,r.original.category,r.original.subcategory||"",n,t)}},children:0!==a?a.toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2}):"\u2014"})},size:80}}));return[t,...n]}),[a,i,r,o,s]),c=(0,e.useMemo)((()=>{const e=[];n.forEach((n=>{const a=t.filter((e=>e.category===n.name)),i={};a.forEach((e=>{const t=new Date(e.date).getDate();i[t]=(i[t]||0)+e.amount})),e.push({id:`category-${n.name}`,category:n.name,isCategory:!0,isExpanded:r[n.name],dailyAmounts:i,transactions:a}),r[n.name]&&n.subcategories.forEach((t=>{const r=a.filter((e=>e.subcategory===t.name)),i={};r.forEach((e=>{const t=new Date(e.date).getDate();i[t]=(i[t]||0)+e.amount})),e.push({id:`subcategory-${n.name}-${t.name}`,category:n.name,subcategory:t.name,isCategory:!1,dailyAmounts:i,transactions:r})}))}));const o={};new Date(a,i,0).getDate();t.forEach((e=>{const t=new Date(e.date).getDate();o[t]=(o[t]||0)+e.amount}));const s={id:"balance-row",category:Wt.SOLD,isCategory:!0,dailyAmounts:o,transactions:[]};return e.push(s),e}),[t,n,r,a,i]),d=function(t){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=e.useState((()=>({current:go(n)}))),[a,i]=e.useState((()=>r.current.initialState));return r.current.setOptions((e=>({...e,...t,state:{...a,...t.state},onStateChange:e=>{i(e),null==t.onStateChange||t.onStateChange(e)}}))),r.current}({data:c,columns:u,getCoreRowModel:e=>xi((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,a,i){void 0===a&&(a=0);const o=[];for(let l=0;l<t.length;l++){const u=Ti(e,e._getRowId(t[l],l,i),t[l],l,a,void 0,null==i?void 0:i.id);var s;n.flatRows.push(u),n.rowsById[u.id]=u,o.push(u),e.options.getSubRows&&(u.originalSubRows=e.options.getSubRows(t[l],l),null!=(s=u.originalSubRows)&&s.length&&(u.subRows=r(u.originalSubRows,a+1,u)))}return o};return n.rows=r(t),n}),Si(e.options,"debugTable",0,(()=>e._autoResetPageIndex())))}),h=(0,e.useMemo)((()=>Array.from({length:new Date(a,i,0).getDate()},((e,t)=>t+1))),[a,i]),f=(0,e.useMemo)((()=>{const e={},t=c.find((e=>e.category===Wt.SOLD));return t&&Object.assign(e,t.dailyAmounts),e}),[c]);return{table:d,data:c,columns:u,days:h,tableContainerRef:l,dailyBalances:f,getSumForCell:(e,t,n)=>{const r=c.find((n=>n.category===e&&(t?n.subcategory===t:n.isCategory)));return r&&r.dailyAmounts[n]||0}}}const yo=t=>{var n,r;let{year:a,month:i}=t;const o=Ha((e=>e.transactions)),s=Ha((e=>e.fetchTransactions)),l=Ha((e=>e.loading)),u=Ha((e=>e._invalidateMonthCache)),c=Ha((e=>e.saveTransaction)),d=Ja((e=>e.categories)),[h,f]=((0,Ba.useAuthStore)((e=>e.user)),(0,e.useState)({})),[p,g]=(0,e.useState)(null);(0,e.useEffect)((()=>{s(!1)}),[a,i,s]);const m=(0,e.useCallback)((e=>{f((t=>({...t,[e]:!t[e]})))}),[]),v=(0,e.useCallback)((()=>{const e={};d.forEach((t=>{e[t.name]=!0})),f(e)}),[d]),y=(0,e.useCallback)((()=>{const e={};d.forEach((t=>{e[t.name]=!1})),f(e)}),[d]),b=(0,e.useCallback)(((e,t,n,r,a,i)=>{g({active:!0,category:t,subcategory:n,day:r,anchorRect:e.currentTarget.getBoundingClientRect(),initialAmount:a,type:_(t)})}),[]),w=(0,e.useCallback)(((e,t,n,r,o)=>{const l=_(t),d=window.prompt(Qt.ENTER_AMOUNT,o);if(null===d)return;if(!/^\d+(\.\d{1,2})?$/.test(d))return void alert(Ct.C.VALIDARE.SUMA_INVALIDA);const h=new Date(a,i-1,r).toISOString().slice(0,10);c({amount:Number(d),category:t,subcategory:n,type:l,date:h,recurring:!1,currency:"RON"}).then((()=>{u(a,i),setTimeout((()=>{s(!0)}),100)})).catch((e=>{console.error("Error saving transaction:",e)}))}),[a,i,c,u,s]),_=e=>"VENITURI"===e?_t.INCOME:"ECONOMII"===e?_t.SAVING:_t.EXPENSE,x=(0,e.useCallback)((async e=>{if(p)try{const{category:t,subcategory:n,day:r,type:o}=p,{amount:l,recurring:d,frequency:h}=e,f=new Date(a,i-1,r).toISOString().slice(0,10);await c({amount:Number(l),category:t,subcategory:n,type:o,date:f,recurring:d,frequency:d?h:void 0,currency:"RON"}),u(a,i),setTimeout((()=>{s(!0)}),100),g(null)}catch(t){console.error("Error saving transaction:",t)}}),[p,a,i,c,u,s]),{table:S,tableContainerRef:k,days:C}=vo(o,d,h,a,i,b,w);return(0,dt.jsxs)("div",{children:[(0,dt.jsxs)("div",{className:"flex justify-end space-x-2 mb-2",children:[(0,dt.jsx)("button",{onClick:()=>v(),className:"btn btn-secondary","data-testid":"expand-all-btn",children:Yt.EXPAND_ALL}),(0,dt.jsx)("button",{onClick:()=>y(),className:"btn btn-secondary","data-testid":"collapse-all-btn",children:Yt.COLLAPSE_ALL})]}),(0,dt.jsx)("div",{ref:k,className:"overflow-x-auto rounded-lg shadow-token bg-secondary-50",children:l?(0,dt.jsx)("div",{className:"text-center py-token-xl text-secondary-600","data-testid":"loading-indicator",children:Jt}):0===S.getRowModel().rows.length?(0,dt.jsx)("div",{className:"text-center py-token-xl text-secondary-600","data-testid":"no-data-indicator",children:Kt}):(0,dt.jsxs)("table",{className:"min-w-full text-sm align-middle border-separate border-spacing-0","data-testid":"lunar-grid-table",children:[(0,dt.jsx)("thead",{className:"bg-secondary-100 sticky top-0",children:(0,dt.jsx)("tr",{children:S.getFlatHeaders().map((e=>(0,dt.jsx)("th",{className:"py-3 px-3 text-left font-medium text-secondary-700",style:{width:e.getSize()},"data-testid":`lunargrid-header-${e.id}`,children:e.isPlaceholder?null:mo(e.column.columnDef.header,e.getContext())},e.id)))})}),(0,dt.jsx)("tbody",{children:S.getRowModel().rows.map((e=>(0,dt.jsx)("tr",{className:e.original.isCategory?"bg-secondary-50 hover:bg-secondary-100 cursor-pointer":"hover:bg-secondary-100",onClick:()=>{e.original.isCategory&&m(e.original.category)},"data-testid":`row-${e.original.isCategory?"category":"subcategory"}-${e.original.category}${e.original.subcategory?`-${e.original.subcategory}`:""}`,children:e.getVisibleCells().map((t=>(0,dt.jsx)("td",{className:"border-t border-secondary-200 py-2 px-3 first:border-l last:border-r","data-testid":`cell-${t.column.id}-${e.id}`,children:mo(t.column.columnDef.cell,t.getContext())},t.id)))},e.id)))})]})}),p&&(0,dt.jsx)("div",{style:{position:"absolute",left:(null===(n=p.anchorRect)||void 0===n?void 0:n.left)||0,top:((null===(r=p.anchorRect)||void 0===r?void 0:r.top)||0)+40,zIndex:100},"data-testid":`popover-cell-${p.category}-${p.subcategory}-${p.day}`,children:(0,dt.jsx)(fi,{initialAmount:p.initialAmount,day:p.day,month:i,year:a,category:p.category,subcategory:p.subcategory,type:p.type,onSave:x,onCancel:()=>g(null)})})]})},bo=()=>{const[t,n]=e.useState((()=>(new Date).getFullYear())),[r,a]=e.useState((()=>(new Date).getMonth()+1)),[i,o]=e.useState((()=>{const e=localStorage.getItem("lunarGrid-useTanStack");return null===e||"true"===e})),s=Ha((e=>e.fetchTransactions)),l=Ha((e=>e.loading)),{user:u}=(0,Ba.useAuthStore)(),c=Ja((e=>e.loadUserCategories)),d=Ja((e=>e.mergeWithDefaults)),h=e.useRef(!1);e.useEffect((()=>{if(h.current)return;if(!u)return;(async()=>{try{console.log("LunarGridPage: Ini\u021bializare categorii personalizate"),await c(u.id);const e=Object.entries($a).map((e=>{let[t,n]=e;return{name:t,subcategories:Object.values(n).flat().map((e=>({name:e,isCustom:!1}))),isCustom:!1}}));d(e),h.current=!0,console.log("LunarGridPage: Categorii ini\u021bializate cu succes")}catch(e){console.error("Eroare la ini\u021bializarea categoriilor:",e)}})()}),[u,c,d]);const f=e.useRef(null);e.useEffect((()=>{var e,n;if((null===(e=f.current)||void 0===e?void 0:e.year)===t&&(null===(n=f.current)||void 0===n?void 0:n.month)===r)return;f.current={year:t,month:r};const a=Ha.getState();setTimeout((()=>{a.setQueryParams({...a.currentQueryParams,year:t,month:r,includeAdjacentDays:!0}),setTimeout((()=>{a.fetchTransactions(!0)}),0)}),0);const i=new URLSearchParams(window.location.search);i.set("month",`${t}-${r.toString().padStart(2,"0")}`);const o=window.location.hash,s=`${window.location.pathname}?${i}${o}`;window.history.replaceState({},"",s),console.log(`LunarGridPage: Set query params for ${t}-${r}`)}),[t,r]),e.useEffect((()=>{Ha.getState().transactions.length>0||(console.log("LunarGridPage: Initial fetch - no transactions found"),s())}),[s]);e.useEffect((()=>{localStorage.setItem("lunarGrid-useTanStack",i.toString())}),[i]);const p=()=>{o((e=>!e))};return(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsxs)("div",{className:"flex justify-between items-center mb-token",children:[(0,dt.jsx)("h1",{className:"text-2xl font-bold text-primary-700","data-testid":"lunar-grid-title",children:Dt}),(0,dt.jsxs)("div",{className:"flex items-center space-x-token-sm",children:[(0,dt.jsxs)("div",{className:"flex items-center bg-secondary-100 rounded-lg p-1 shadow-sm","data-testid":"implementation-toggle",children:[(0,dt.jsx)("button",{className:"px-3 py-1 text-sm rounded-md transition-all "+(i?"bg-primary-500 text-white":"text-primary-600"),onClick:p,"data-testid":"tanstack-toggle-btn",children:Yt.VIRTUAL_TABLE}),(0,dt.jsx)("button",{className:"px-3 py-1 text-sm rounded-md transition-all "+(i?"text-primary-600":"bg-primary-500 text-white"),onClick:p,"data-testid":"legacy-toggle-btn",children:Yt.LEGACY_TABLE})]}),(0,dt.jsx)("div",{children:(0,dt.jsx)("a",{href:"#options",className:"text-sm text-accent-600 hover:text-accent-700 underline","data-testid":"manage-categories-link",onClick:e=>{e.preventDefault();const t=`${window.location.pathname}#options`;window.history.replaceState({},"",t),window.dispatchEvent(new HashChangeEvent("hashchange"))},children:rn})})]}),(0,dt.jsxs)("div",{className:"flex items-center gap-token",children:[(0,dt.jsx)("button",{onClick:()=>{1===r?(a(12),n(t-1)):a(r-1)},className:"btn-icon bg-secondary-200 text-secondary-700 hover:bg-secondary-300 focus:outline-none focus:ring-2 focus:ring-primary-500","data-testid":"prev-month-btn",children:"\u2190"}),(0,dt.jsxs)("span",{className:"text-lg font-medium text-primary-700","data-testid":"current-month",children:[(e=>["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"][e-1])(r)," ",t]}),(0,dt.jsx)("button",{onClick:()=>{12===r?(a(1),n(t+1)):a(r+1)},className:"btn-icon bg-secondary-200 text-secondary-700 hover:bg-secondary-300 focus:outline-none focus:ring-2 focus:ring-primary-500","data-testid":"next-month-btn",children:"\u2192"})]})]}),l?(0,dt.jsx)("div",{className:"text-center py-token-xl text-secondary-600","data-testid":"loading-indicator",children:Jt}):i?(0,dt.jsxs)("div",{"data-testid":"tanstack-implementation",children:[(0,dt.jsx)(yo,{year:t,month:r}),(0,dt.jsxs)("div",{className:"mt-token text-xs text-secondary-500 text-right",children:[Yt.VERSION,": TanStack (optimizat pentru performan\u021b\u0103)"]})]}):(0,dt.jsxs)("div",{"data-testid":"legacy-implementation",children:[(0,dt.jsx)(vi,{year:t,month:r}),(0,dt.jsxs)("div",{className:"mt-token text-xs text-secondary-500 text-right",children:[Yt.VERSION,": Clasic"]})]})]})},wo=t=>{var n;let{open:r,onClose:a,userId:i,initialCategory:o,initialSubcategory:s,initialMode:l="add"}=t;const{categories:u,saveCategories:c,renameSubcategory:d,deleteSubcategory:h,getSubcategoryCount:f}=Ja(),[p,g]=(0,e.useState)(o||null),[m,v]=(0,e.useState)(o&&s&&"edit"===l?{cat:o,subcat:s}:null),[y,b]=(0,e.useState)(s||""),[w,_]=(0,e.useState)(o&&s&&"delete"===l?{cat:o,subcat:s}:null),[x,S]=(0,e.useState)("delete"===l&&!!o&&!!s),[k,C]=(0,e.useState)(""),[E,R]=(0,e.useState)(null);if((0,e.useEffect)((()=>{r&&o&&s&&(g(o),"edit"===l?(v({cat:o,subcat:s}),b(s),_(null),S(!1)):"delete"===l?(S(!0),v(null),_({cat:o,subcat:s})):"add"===l&&(v(null),_(null),S(!1),setTimeout((()=>{const e=document.querySelector('[data-testid="add-subcat-input"]');e instanceof HTMLInputElement&&e.focus()}),100)))}),[r,o,s,l]),!r)return null;const T=(e,t)=>{const n=f(e,t);return n>0?(0,dt.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-secondary-200 text-secondary-700 text-xs rounded-token","data-testid":`subcat-count-${e}-${t}`,children:n}):null},N=async e=>{if(!k.trim())return R("Numele nu poate fi gol");if(e.subcategories.some((e=>e.name.toLowerCase()===k.trim().toLowerCase())))return R("Exist\u0103 deja o subcategorie cu acest nume");const t=u.map((t=>t.name===e.name?{...t,subcategories:[...t.subcategories,{name:k.trim(),isCustom:!0}]}:t));await c(i,t),C(""),R(null)},A=async(e,t,n)=>{var r;return n.trim()?null!==(r=u.find((t=>t.name===e)))&&void 0!==r&&r.subcategories.some((e=>e.name.toLowerCase()===n.trim().toLowerCase()))?R("Exist\u0103 deja o subcategorie cu acest nume"):(await d(i,e,t,n.trim()),v(null),void R(null)):R("Numele nu poate fi gol")},P=t=>{let{cat:n,subcat:r}=t;(0,e.useEffect)((()=>{const e=u.find((e=>e.name===n)),t=null===e||void 0===e?void 0:e.subcategories.find((e=>e.name===r));t&&!t.isCustom&&(R("Nu se pot \u0219terge subcategoriile predefinite, doar cele personalizate."),S(!1),_(null))}),[n,r,u]);const o=f(n,r);return(0,dt.jsxs)("div",{className:"p-token bg-error-50 border border-error-200 rounded-token mb-token","data-testid":`delete-confirm-${n}-${r}`,children:[(0,dt.jsx)("h3",{className:"text-lg font-semibold text-error-700 mb-token",children:"Confirmare \u0219tergere"}),(0,dt.jsxs)("p",{className:"mb-2",children:["E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi subcategoria ",(0,dt.jsx)("strong",{children:r})," din ",(0,dt.jsx)("strong",{children:n}),"?"]}),o>0&&(0,dt.jsxs)("p",{className:"mb-2 text-error-600","data-testid":`delete-warning-${n}-${r}`,children:["Aten\u021bie: Exist\u0103 ",(0,dt.jsx)("strong",{children:o})," tranzac\u021bii care folosesc aceast\u0103 subcategorie. Acestea vor fi mutate \xeen categoria principal\u0103."]}),(0,dt.jsxs)("div",{className:"flex gap-2 mt-token",children:[(0,dt.jsx)("button",{onClick:async()=>{try{await h(i,n,r,"delete"),S(!1),_(null),v(null),"delete"===l&&a(),R(null)}catch(e){R("Eroare la \u0219tergerea subcategoriei"),console.error("Error deleting subcategory:",e)}},className:"btn btn-error","data-testid":`confirm-delete-${n}-${r}`,children:"Confirm\u0103 \u0219tergerea"}),(0,dt.jsx)("button",{onClick:()=>{S(!1),_(null),"delete"===l&&a()},className:"btn btn-secondary","data-testid":`cancel-delete-${n}-${r}`,children:"Anuleaz\u0103"})]})]})};return(0,dt.jsx)("div",{className:"fixed inset-0 bg-neutral-900 bg-opacity-40 flex items-center justify-center z-50","data-testid":"category-editor-modal",children:(0,dt.jsxs)("div",{className:"bg-secondary-50 rounded-token shadow-token p-token w-full max-w-2xl relative",children:[(0,dt.jsx)("button",{className:"absolute top-2 right-2 btn-icon btn-ghost",onClick:a,"data-testid":"close-editor",children:"\u2715"}),(0,dt.jsx)("h2",{className:"text-xl font-bold mb-token text-headings",children:"Gestionare Subcategorii"}),E&&(0,dt.jsx)("div",{className:"text-error mb-token","data-testid":"error-msg",children:E}),(0,dt.jsxs)("div",{className:"flex gap-6",children:[(0,dt.jsxs)("div",{className:"w-1/3 border-r border-secondary-200 pr-4",children:[(0,dt.jsx)("h3",{className:"font-semibold mb-token text-headings-secondary",children:"Categorii"}),(0,dt.jsx)("ul",{children:u.map((e=>(0,dt.jsx)("li",{className:"mb-2 "+(p===e.name?"font-bold text-accent":"text-secondary-700 hover:text-accent"),children:(0,dt.jsx)("button",{onClick:()=>g(e.name),"data-testid":`cat-select-${e.name}`,children:e.name})},e.name)))})]}),(0,dt.jsxs)("div",{className:"flex-1",children:[x&&w&&(0,dt.jsx)(P,{cat:w.cat,subcat:w.subcat}),p?(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsxs)("h3",{className:"font-semibold mb-token text-headings-secondary",children:["Subcategorii pentru ",(0,dt.jsx)("span",{className:"text-accent",children:p})]}),(0,dt.jsx)("ul",{children:null===(n=u.find((e=>e.name===p)))||void 0===n?void 0:n.subcategories.map((e=>(0,dt.jsx)("li",{className:"flex items-center gap-2 mb-1",children:(null===m||void 0===m?void 0:m.cat)===p&&m.subcat===e.name?(0,dt.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,dt.jsx)("input",{type:"text",value:y,onChange:e=>b(e.target.value),onKeyDown:t=>{"Enter"===t.key&&(A(p,e.name,y.trim()),v(null)),"Escape"===t.key&&v(null)},className:"input-field input-sm",autoFocus:!0,"data-testid":`edit-subcat-input-${e.name}`}),(0,dt.jsx)("button",{onClick:()=>{A(p,e.name,y.trim()),v(null)},className:"text-xs text-success-600 hover:text-success-700","data-testid":`confirm-rename-${e.name}`,children:Ht}),(0,dt.jsx)("button",{onClick:()=>v(null),className:"text-xs text-secondary-500 hover:text-secondary-600","data-testid":`cancel-rename-${e.name}`,children:Bt})]}):(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("span",{children:e.name}),e.isCustom&&(0,dt.jsx)("span",{className:"ml-1 text-success-600 text-xs","data-testid":`custom-flag-${e.name}`,children:"custom"}),T(p,e.name),(0,dt.jsx)("button",{onClick:()=>{v({cat:p,subcat:e.name}),b(e.name)},className:"ml-2 text-accent text-xs hover:text-accent-hover","data-testid":`edit-subcat-btn-${e.name}`,children:"Redenume\u0219te"}),e.isCustom&&(0,dt.jsx)("button",{onClick:()=>(async(e,t)=>{const n=u.find((t=>t.name===e)),r=null===n||void 0===n?void 0:n.subcategories.find((e=>e.name===t));null!==r&&void 0!==r&&r.isCustom?(v(null),_({cat:e,subcat:t}),S(!0)):R("Nu se pot \u0219terge subcategoriile predefinite, doar cele personalizate.")})(p,e.name),className:"ml-1 text-error-600 text-xs hover:text-error-700","data-testid":`delete-subcat-btn-${e.name}`,children:"\u0218terge"})]})},e.name)))}),(0,dt.jsxs)("div",{className:"flex items-center gap-2 mt-token",children:[(0,dt.jsx)("input",{type:"text",value:k,onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"===e.key&&N(u.find((e=>e.name===p))),"Escape"===e.key&&C("")},placeholder:"Adaug\u0103 subcategorie nou\u0103",className:"input-field flex-1","data-testid":"add-subcat-input"}),(0,dt.jsx)("button",{onClick:()=>N(u.find((e=>e.name===p))),className:"btn btn-primary","data-testid":"add-subcat-btn",children:"Adaug\u0103"})]})]}):(0,dt.jsx)("div",{className:"text-secondary-500",children:"Selecteaz\u0103 o categorie pentru a vedea \u0219i edita subcategoriile."})]})]})]})})},_o=()=>{const{user:t,logout:n}=(0,Ba.useAuthStore)(),r=ee(),[a,i]=(Ja(),e.useState(!1)),o=e.useRef(a);if(!t)return(0,dt.jsxs)("div",{className:"container mx-auto px-token py-token-xl","data-testid":"options-page-not-logged",children:[(0,dt.jsx)("h1",{className:"text-2xl font-bold text-primary-700 mb-token",children:en||"Op\u021biuni"}),(0,dt.jsx)("div",{className:"bg-warning-100 border-l-4 border-warning-500 text-warning-700 p-token mb-token",role:"alert",children:(0,dt.jsx)("p",{children:dn||"Trebuie s\u0103 fi\u021bi autentificat pentru a accesa aceast\u0103 pagin\u0103."})})]});return(0,dt.jsxs)("div",{className:"container mx-auto px-token py-token-xl","data-testid":"options-page",children:[(0,dt.jsx)("h1",{className:"text-2xl font-bold text-primary-700 mb-token",children:en||"Op\u021biuni"}),(0,dt.jsxs)("div",{className:"bg-secondary-50 shadow-token rounded-token-lg p-token-lg mb-token-lg",children:[(0,dt.jsx)("h2",{className:"text-xl font-semibold text-primary-600 mb-token",children:tn||"Gestionare categorii"}),(0,dt.jsx)("p",{className:"mb-token",children:nn||"Personaliza\u021bi categoriile \u0219i subcategoriile pentru a se potrivi nevoilor dvs. specifice de bugetare."}),(0,dt.jsx)("button",{onClick:()=>i(!0),className:"btn btn-primary","data-testid":"open-category-editor-btn",children:rn||"Gestionare categorii"})]}),(0,dt.jsxs)("div",{className:"bg-secondary-50 shadow-token rounded-token-lg p-token-lg mb-token-lg",children:[(0,dt.jsx)("h2",{className:"text-xl font-semibold text-primary-600 mb-token",children:an||"Op\u021biuni de afi\u0219are"}),(0,dt.jsx)("p",{className:"text-secondary-600",children:cn||"\xcen cur\xe2nd"})]}),(0,dt.jsxs)("div",{className:"bg-secondary-50 shadow-token rounded-token-lg p-token-lg mb-token-lg",children:[(0,dt.jsx)("h2",{className:"text-xl font-semibold text-primary-600 mb-token",children:on||"Export date"}),(0,dt.jsx)("p",{className:"text-secondary-600",children:cn||"\xcen cur\xe2nd"})]}),(0,dt.jsxs)("div",{className:"bg-secondary-50 shadow-token rounded-token-lg p-token-lg mb-token-lg",children:[(0,dt.jsx)("h2",{className:"text-xl font-semibold text-primary-600 mb-token",children:sn||"Set\u0103ri Cont"}),(0,dt.jsx)("p",{className:"mb-token text-neutral-600",children:ln||"Deconecteaz\u0103-te de la contul t\u0103u."}),(0,dt.jsx)("button",{onClick:async()=>{try{await n(),r("/login")}catch(e){console.error("Logout failed:",e)}},className:"btn btn-danger","data-testid":"logout-btn",children:un||"Logout"})]}),(0,dt.jsx)(wo,{open:a,onClose:()=>{o.current=a,i(!1),console.log("[OptionsPage] Notificarea componentelor despre schimb\u0103ri \xeen categorii");const e=Date.now();localStorage.setItem("budget-app-last-category-update",e.toString()),console.log("[OptionsPage] Timestamp salvat:",new Date(e).toISOString())},userId:t.id})]})};let xo={data:""},So=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||xo,ko=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Co=/\/\*[^]*?\*\/|  +/g,Eo=/\n+/g,Ro=(e,t)=>{let n="",r="",a="";for(let i in e){let o=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+o+";":r+="f"==i[1]?Ro(o,i):i+"{"+Ro(o,"k"==i[1]?"":t)+"}":"object"==typeof o?r+=Ro(o,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=o&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ro.p?Ro.p(i,o):i+":"+o+";")}return n+(t&&a?t+"{"+a+"}":a)+r},To={},No=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+No(e[n]);return t}return e},Ao=(e,t,n,r,a)=>{let i=No(e),o=To[i]||(To[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!To[o]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=ko.exec(e.replace(Co,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Eo," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Eo," ").trim();return r[0]})(e);To[o]=Ro(a?{["@keyframes "+o]:t}:t,n?"":"."+o)}let s=n&&To.g?To.g:null;return n&&(To.g=To[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(To[o],t,r,s),o};function Po(e){let t=this||{},n=e.call?e(t.p):e;return Ao(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,a)=>{let i=t[a];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":Ro(e,""):!1===e?"":e}return e+r+(null==i?"":i)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,So(t.target),t.g,t.o,t.k)}Po.bind({g:1});let jo,Oo,Io,Lo=Po.bind({k:1});function $o(e,t){let n=this||{};return function(){let r=arguments;function a(i,o){let s=Object.assign({},i),l=s.className||a.className;n.p=Object.assign({theme:Oo&&Oo()},s),n.o=/ *go\d+/.test(l),s.className=Po.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);let u=e;return e[0]&&(u=s.as||e,delete s.as),Io&&u[0]&&Io(s),jo(u,s)}return t?t(a):a}}var Do=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Mo=(()=>{let e=0;return()=>(++e).toString()})(),Fo=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),zo=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return zo(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+a})))}}},Uo=[],Vo={toasts:[],pausedAt:void 0},Bo=e=>{Vo=zo(Vo,e),Uo.forEach((e=>{e(Vo)}))},Ho={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Go=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Mo()}}(t,e,n);return Bo({type:2,toast:r}),r.id},qo=(e,t)=>Go("blank")(e,t);qo.error=Go("error"),qo.success=Go("success"),qo.loading=Go("loading"),qo.custom=Go("custom"),qo.dismiss=e=>{Bo({type:3,toastId:e})},qo.remove=e=>Bo({type:4,toastId:e}),qo.promise=(e,t,n)=>{let r=qo.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let a=t.success?Do(t.success,e):void 0;return a?qo.success(a,{id:r,...n,...null==n?void 0:n.success}):qo.dismiss(r),e})).catch((e=>{let a=t.error?Do(t.error,e):void 0;a?qo.error(a,{id:r,...n,...null==n?void 0:n.error}):qo.dismiss(r)})),e};var Zo=(e,t)=>{Bo({type:1,toast:{id:e,height:t}})},Wo=()=>{Bo({type:5,time:Date.now()})},Ko=new Map,Jo=t=>{let{toasts:n,pausedAt:r}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,e.useState)(Vo),a=(0,e.useRef)(Vo);(0,e.useEffect)((()=>(a.current!==Vo&&r(Vo),Uo.push(r),()=>{let e=Uo.indexOf(r);e>-1&&Uo.splice(e,1)})),[]);let i=n.toasts.map((e=>{var n,r,a;return{...t,...t[e.type],...e,removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||Ho[e.type],style:{...t.style,...null==(a=t[e.type])?void 0:a.style,...e.style}}}));return{...n,toasts:i}}(t);(0,e.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>qo.dismiss(t.id)),n);t.visible&&qo.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let a=(0,e.useCallback)((()=>{r&&Bo({type:6,time:Date.now()})}),[r]),i=(0,e.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:i}=t||{},o=n.filter((t=>(t.position||i)===(e.position||i)&&t.height)),s=o.findIndex((t=>t.id===e.id)),l=o.filter(((e,t)=>t<s&&e.visible)).length;return o.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[n]);return(0,e.useEffect)((()=>{n.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Ko.has(e))return;let n=setTimeout((()=>{Ko.delete(e),Bo({type:4,toastId:e})}),t);Ko.set(e,n)}(e.id,e.removeDelay);else{let t=Ko.get(e.id);t&&(clearTimeout(t),Ko.delete(e.id))}}))}),[n]),{toasts:n,handlers:{updateHeight:Zo,startPause:Wo,endPause:a,calculateOffset:i}}},Qo=Lo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yo=Lo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xo=Lo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,es=$o("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qo} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yo} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Xo} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ts=Lo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ns=$o("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ts} 1s linear infinite;
`,rs=Lo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,as=Lo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,is=$o("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rs} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${as} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,os=$o("div")`
  position: absolute;
`,ss=$o("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ls=Lo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,us=$o("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ls} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cs=t=>{let{toast:n}=t,{icon:r,type:a,iconTheme:i}=n;return void 0!==r?"string"==typeof r?e.createElement(us,null,r):r:"blank"===a?null:e.createElement(ss,null,e.createElement(ns,{...i}),"loading"!==a&&e.createElement(os,null,"error"===a?e.createElement(es,{...i}):e.createElement(is,{...i})))},ds=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,hs=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,fs=$o("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ps=$o("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gs=e.memo((t=>{let{toast:n,position:r,style:a,children:i}=t,o=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=Fo()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ds(n),hs(n)];return{animation:t?`${Lo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lo(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(n.position||r||"top-center",n.visible):{opacity:0},s=e.createElement(cs,{toast:n}),l=e.createElement(ps,{...n.ariaProps},Do(n.message,n));return e.createElement(fs,{className:n.className,style:{...o,...a,...n.style}},"function"==typeof i?i({icon:s,message:l}):e.createElement(e.Fragment,null,s,l))}));!function(e,t,n,r){Ro.p=t,jo=e,Oo=n,Io=r}(e.createElement);var ms=t=>{let{id:n,className:r,style:a,onHeightUpdate:i,children:o}=t,s=e.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;i(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,i]);return e.createElement("div",{ref:s,className:r,style:a},o)},vs=Po`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ys=t=>{let{reverseOrder:n,position:r="top-center",toastOptions:a,gutter:i,children:o,containerStyle:s,containerClassName:l}=t,{toasts:u,handlers:c}=Jo(a);return e.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map((t=>{let a=t.position||r,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Fo()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}})(a,c.calculateOffset(t,{reverseOrder:n,gutter:i,defaultPosition:r}));return e.createElement(ms,{id:t.id,key:t.id,onHeightUpdate:c.updateHeight,className:t.visible?vs:"",style:s},"custom"===t.type?Do(t.message,t):o?o(t):e.createElement(gs,{toast:t,position:a}))})))},bs=qo;const ws=()=>{const[t,n]=(0,e.useState)(""),[r,a]=(0,e.useState)(""),{login:i,logout:o,loading:s,error:l,errorType:u}=(0,Ba.useAuthStore)();return(0,dt.jsxs)("form",{className:"form-container max-w-sm mx-auto mt-12 p-token bg-secondary-50 rounded-token shadow-token",onSubmit:async e=>{e.preventDefault(),await i(t,r);const{error:n}=Ba.useAuthStore.getState();if(n){let e=n;switch(u){case"INVALID_CREDENTIALS":e=Ct.C.EROARE_AUTENTIFICARE||"Date de autentificare incorecte.";break;case"RLS_DENIED":e=Ct.C.EROARE_RLS||"Acces interzis (RLS).";break;case"NETWORK":e=Ct.C.EROARE_RETEA||"Eroare de re\u021bea. \xcencearc\u0103 din nou.";break;default:e=n||Ct.C.LOGIN_ERROR}bs.error(e)}else bs.success(Ct.C.LOGIN_SUCCES)},"data-testid":"login-form",children:[(0,dt.jsx)("h2",{className:"text-xl font-bold mb-token text-center text-headings",children:"Autentificare"}),(0,dt.jsxs)("div",{className:"mb-token",children:[(0,dt.jsx)("label",{htmlFor:"email",className:"block mb-token font-medium text-secondary-700",children:"Email"}),(0,dt.jsx)("input",{id:"email",type:"email",value:t,onChange:e=>n(e.target.value),className:"input-field w-full",required:!0,"data-testid":"login-email"})]}),(0,dt.jsxs)("div",{className:"mb-token",children:[(0,dt.jsx)("label",{htmlFor:"password",className:"block mb-token font-medium text-secondary-700",children:"Parol\u0103"}),(0,dt.jsx)("input",{id:"password",type:"password",value:r,onChange:e=>a(e.target.value),className:"input-field w-full",required:!0,"data-testid":"login-password"})]}),l&&(0,dt.jsx)("div",{className:"mb-token text-error-600 text-center","data-testid":"login-error",children:(()=>{switch(u){case"INVALID_CREDENTIALS":return"Date de autentificare incorecte.";case"RLS_DENIED":return"Acces interzis (RLS).";case"NETWORK":return"Eroare de re\u021bea. \xcencearc\u0103 din nou.";default:return l}})()}),(0,dt.jsx)("button",{type:"submit",className:"btn btn-primary w-full transition disabled:opacity-60",disabled:s,"data-testid":"login-submit",children:s?"Se autentific\u0103...":"Autentificare"}),(0,dt.jsx)("div",{className:"text-center mt-token",children:(0,dt.jsx)(tt,{to:"/register",className:"btn btn-link text-sm text-accent hover:text-accent-hover","data-testid":"switch-to-register",children:"Nu ai cont? Creeaz\u0103 unul!"})})]})},_s=()=>{const[t,n]=(0,e.useState)(""),[r,a]=(0,e.useState)(""),[i,o]=(0,e.useState)(""),{register:s,loading:l,error:u,errorType:c}=(0,Ba.useAuthStore)(),[d,h]=(0,e.useState)(null);return(0,dt.jsxs)("form",{className:"form-container max-w-sm mx-auto mt-12 p-token bg-secondary-50 rounded-token shadow-token",onSubmit:async e=>{if(e.preventDefault(),h(null),r!==i)return h(null),void bs.error(Ct.C.PAROLE_NECORESPUNZATOARE);await s(t,r);const{error:n}=Ba.useAuthStore.getState();if(n){let e=n;switch(c){case"PASSWORD_WEAK":e=Ct.C.PAROLA_PREA_SLABA||"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.";break;case"NETWORK":e="Eroare de re\u021bea. \xcencearc\u0103 din nou.";break;default:e=n||Ct.C.REGISTER_ERROR}bs.error(e)}else h(Ct.C.REGISTER_SUCCES),bs.success(Ct.C.REGISTER_SUCCES)},"data-testid":"register-form",children:[(0,dt.jsx)("h2",{className:"text-xl font-bold mb-token text-center text-headings",children:"\xcenregistrare"}),(0,dt.jsxs)("div",{className:"mb-token",children:[(0,dt.jsx)("label",{htmlFor:"register-email",className:"block mb-token font-medium text-secondary-700",children:"Email"}),(0,dt.jsx)("input",{id:"register-email",type:"email",value:t,onChange:e=>n(e.target.value),className:"input-field w-full",required:!0,"data-testid":"register-email"})]}),(0,dt.jsxs)("div",{className:"mb-token",children:[(0,dt.jsx)("label",{htmlFor:"register-password",className:"block mb-token font-medium text-secondary-700",children:"Parol\u0103"}),(0,dt.jsx)("input",{id:"register-password",type:"password",value:r,onChange:e=>a(e.target.value),className:"input-field w-full",required:!0,"data-testid":"register-password"})]}),(0,dt.jsxs)("div",{className:"mb-token",children:[(0,dt.jsx)("label",{htmlFor:"register-confirm",className:"block mb-token font-medium text-secondary-700",children:"Confirm\u0103 parola"}),(0,dt.jsx)("input",{id:"register-confirm",type:"password",value:i,onChange:e=>o(e.target.value),className:"input-field w-full",required:!0,"data-testid":"register-confirm"})]}),u&&(0,dt.jsx)("div",{className:"mb-token text-error-600 text-center","data-testid":"register-error",children:(()=>{switch(c){case"PASSWORD_WEAK":return"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.";case"NETWORK":return"Eroare de re\u021bea. \xcencearc\u0103 din nou.";default:return u}})()}),d&&(0,dt.jsx)("div",{className:"mb-token text-success-600 text-center","data-testid":"register-success",children:d}),(0,dt.jsx)("button",{type:"submit",className:"btn btn-primary w-full transition disabled:opacity-60",disabled:l,"data-testid":"register-submit",children:l?"Se creeaz\u0103...":"Creeaz\u0103 cont"}),(0,dt.jsx)("div",{className:"text-center mt-token",children:(0,dt.jsx)(tt,{to:"/login",className:"btn btn-link text-sm text-accent hover:text-accent-hover","data-testid":"switch-to-login",children:"Ai deja cont? Autentific\u0103-te!"})})]})},xs=e=>{let{size:t=40}=e;return(0,dt.jsx)("div",{className:"flex justify-center items-center","data-testid":"spinner",children:(0,dt.jsxs)("svg",{width:t,height:t,viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"animate-spin",children:[(0,dt.jsx)("circle",{cx:"22",cy:"22",r:"20",className:"stroke-primary-500",strokeWidth:"4",fill:"none",opacity:"0.2"}),(0,dt.jsx)("path",{d:"M42 22c0-11.046-8.954-20-20-20",className:"stroke-primary-500",strokeWidth:"4",strokeLinecap:"round"})]})})},Ss=()=>{console.log("\ud83d\udd1c App render using react-router-dom");const{user:t,loading:n,checkUser:r}=(0,Ba.useAuthStore)(),a=Q();return(0,e.useEffect)((()=>{r()}),[r]),n?(0,dt.jsx)("div",{className:"fixed inset-0 bg-white/60 flex items-center justify-center z-50",children:(0,dt.jsx)(xs,{size:60})}):(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)(ys,{position:"top-right",toastOptions:{duration:3500}}),(0,dt.jsxs)("div",{className:"max-w-[1200px] mx-auto my-8 font-sans",children:[t&&(0,dt.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,dt.jsx)(tt,{to:"/transactions",className:"py-2 px-4 font-medium "+("/transactions"===a.pathname?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),"data-testid":"transactions-tab",children:$t}),(0,dt.jsx)(tt,{to:"/lunar-grid",className:"py-2 px-4 font-medium "+("/lunar-grid"===a.pathname?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),"data-testid":"lunar-grid-tab",children:Dt}),(0,dt.jsx)(tt,{to:"/options",className:"py-2 px-4 font-medium "+("/options"===a.pathname?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),"data-testid":"options-tab",children:Mt||"Op\u021biuni"})]}),(0,dt.jsx)(ye,{children:t?(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)(me,{path:"/",element:(0,dt.jsx)(ge,{to:"/transactions",replace:!0})}),(0,dt.jsx)(me,{path:"/transactions",element:(0,dt.jsx)(ni,{})}),(0,dt.jsx)(me,{path:"/lunar-grid",element:(0,dt.jsx)(bo,{})}),(0,dt.jsx)(me,{path:"/options",element:(0,dt.jsx)(_o,{})}),(0,dt.jsx)(me,{path:"*",element:(0,dt.jsx)(ge,{to:"/transactions",replace:!0})})]}):(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)(me,{path:"/login",element:(0,dt.jsx)(ws,{})})," ",(0,dt.jsx)(me,{path:"/register",element:(0,dt.jsx)(_s,{})})," ",(0,dt.jsx)(me,{path:"*",element:(0,dt.jsx)(ge,{to:"/login",replace:!0})})]})})]})]})};class ks extends e.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught:",e,t)}render(){var e;return this.state.hasError?(0,dt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-6 my-8 text-center",children:[(0,dt.jsx)("h2",{className:"text-lg font-bold text-red-700 mb-2",children:Ct.C.EROARE_TITLU}),(0,dt.jsx)("p",{className:"text-red-600",children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||Ct.C.EROARE_GENERALA})]}):this.props.children}}const Cs=ks;t.createRoot(document.getElementById("root")).render((0,dt.jsx)(e.StrictMode,{children:(0,dt.jsx)(Xe,{children:(0,dt.jsx)(Cs,{children:(0,dt.jsx)(Ss,{})})})}))})()})();
//# sourceMappingURL=main.e51e31c0.js.map