/*! For license information please see main.0dbf6874.js.LICENSE.txt */
(()=>{var e={341:(e,t,n)=>{"use strict";n.d(t,{N:()=>Ut});class r extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class a extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class s extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var o;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(o||(o={}));var l=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class u{constructor(e){let{headers:t={},customFetch:r,region:a=o.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,318)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return l(this,void 0,void 0,(function*(){try{const{headers:r,method:o,body:l}=t;let u,c={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(c["x-region"]=d),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):"string"===typeof l?(c["Content-Type"]="text/plain",u=l):"undefined"!==typeof FormData&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:u}).catch((e=>{throw new a(e)})),f=h.headers.get("x-relay-error");if(f&&"true"===f)throw new i(h);if(!h.ok)throw new s(h);let p,g=(null!==(n=h.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return p="application/json"===g?yield h.json():"application/octet-stream"===g?yield h.blob():"text/event-stream"===g?h:"multipart/form-data"===g?yield h.formData():yield h.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}}))}}var c=n(340);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:f,PostgrestTransformBuilder:p,PostgrestBuilder:g,PostgrestError:m}=c,v={"X-Client-Info":"realtime-js/2.11.2"};var y,b,w,x,S,_;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(b||(b={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(w||(w={})),function(e){e.websocket="websocket"}(x||(x={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(S||(S={}));class E{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const s=n.decode(e.slice(i,i+r));i+=r;const o=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:s,event:o,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class C{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(_||(_={}));const k=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,a)=>(n[a]=R(a,e,t,r),n)),{})},R=(e,t,n,r)=>{const a=t.find((t=>t.name===e)),i=null===a||void 0===a?void 0:a.type,s=n[e];return i&&!r.includes(i)?T(i,s):N(s)},T=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return P(t,n)}switch(e){case _.bool:return A(t);case _.float4:case _.float8:case _.int2:case _.int4:case _.int8:case _.numeric:case _.oid:return O(t);case _.json:case _.jsonb:return I(t);case _.timestamp:return j(t);case _.abstime:case _.date:case _.daterange:case _.int4range:case _.int8range:case _.money:case _.reltime:case _.text:case _.time:case _.timestamptz:case _.timetz:case _.tsrange:case _.tstzrange:default:return N(t)}},N=e=>e,A=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},O=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},I=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},P=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map((e=>T(t,e)))}return e},j=e=>"string"===typeof e?e.replace(" ","T"):e,L=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class D{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var F,M,$,z;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(F||(F={}));class U{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=U.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=U.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=U.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),s={},o={};return this.map(a,((e,t)=>{i[e]||(o[e]=t)})),this.map(i,((e,t)=>{const n=a[e];if(n){const r=t.map((e=>e.presence_ref)),a=n.map((e=>e.presence_ref)),i=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(s[e]=i),l.length>0&&(o[e]=l)}else s[e]=t})),this.syncDiff(a,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,((t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let a=e[t];if(!a)return;const i=n.map((e=>e.presence_ref));a=a.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=a,r(t,a,n),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(M||(M={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}($||($={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(z||(z={}));class V{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new D(this,w.join,this.params,this.timeout),this.rejoinTimer=new C((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this._on(w.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new U(this),this.broadcastEndpointURL=L(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:s}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(z.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(z.CLOSED)));const o={},l={broadcast:a,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:s};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:s,schema:o,table:l,filter:u}}=a,c=n&&n[r];if(!c||c.event!==s||c.schema!==o||c.table!==l||c.filter!==u)return this.unsubscribe(),void(null===e||void 0===e||e(z.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:c.id}))}return this.bindings.postgres_changes=i,void(e&&e(z.SUBSCRIBED))}null===e||void 0===e||e(z.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(z.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(z.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,a,i;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),s.receive("ok",(()=>n("ok"))),s.receive("error",(()=>n("error"))),s.receive("timeout",(()=>n("timed out")))}));{const{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=b.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new D(this,w.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout((()=>r.abort()),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new D(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:u}=w;if(n&&[s,o,l,u].indexOf(i)>=0&&n!==this._joinRef())return;let c=this._onMessage(i,t,n);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(c,n))):null===(a=this.bindings[i])||void 0===a||a.filter((e=>{var n,r,a,s,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"===typeof c&&"ids"in c){const e=c.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,s={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};c=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(c,n)}))}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&V.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(w.close,{},e)}_onError(e){this._on(w.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=k(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=k(e.columns,e.old_record)),t}}const B=()=>{},G="undefined"!==typeof WebSocket;class q{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=B,this.conn=null,this.sendBuffer=[],this.serializer=new E,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,318)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${x.websocket}`,this.httpEndpoint=L(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new C((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(G)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new H(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(174).then(n.t.bind(n,174,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return S.Connecting;case y.open:return S.Open;case y.closing:return S.Closing;default:return S.Closed}}isConnected(){return this.connectionState()===S.Open}channel(e){const t=new V(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${a})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(w.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${a&&"("+a+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(w.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class H{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=y.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Z extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function K(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class W extends Z{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Q extends Z{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var J=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Y=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,318)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},X=e=>{if(Array.isArray(e))return e.map((e=>X(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[a]=X(r)})),t};var ee=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const te=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ne=(e,t,r)=>ee(void 0,void 0,void 0,(function*(){const a=yield J(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,318))).Response:Response}));e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new W(te(n),e.status||500))})).catch((e=>{t(new Q(te(e),e))})):t(new Q(te(e),e))}));function re(e,t,n,r,a,i){return ee(this,void 0,void 0,(function*(){return new Promise(((s,o)=>{e(n,((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))})(t,r,a,i)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>s(e))).catch((e=>ne(e,o,r)))}))}))}function ae(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"GET",t,n,r)}))}function ie(e,t,n,r,a){return ee(this,void 0,void 0,(function*(){return re(e,"POST",t,r,a,n)}))}function se(e,t,n,r,a){return ee(this,void 0,void 0,(function*(){return re(e,"DELETE",t,r,a,n)}))}var oe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const le={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ue={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ce{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Y(r)}uploadOrUpdate(e,t,n,r){return oe(this,void 0,void 0,(function*(){try{let a;const i=Object.assign(Object.assign({},ue),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:a,headers:s},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield c.json();if(c.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(K(a))return{data:null,error:a};throw a}}))}upload(e,t,n){return oe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return oe(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ue.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const o=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:i}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(K(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return oe(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield ie(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+a.url),s=i.searchParams.get("token");if(!s)throw new Z("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}update(e,t,n){return oe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return oe(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return oe(this,void 0,void 0,(function*(){try{return{data:{path:(yield ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return oe(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),a=yield ie(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return oe(this,void 0,void 0,(function*(){try{const r=yield ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null}))),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}download(e,t){return oe(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield ae(this.fetch,`${this.url}/${n}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}}))}info(e){return oe(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield ae(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:X(e),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}exists(e){return oe(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(K(n)&&n instanceof Q){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}remove(e){return oe(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}list(e,t,n){return oe(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},le),t),{prefix:e||""});return{data:yield ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const de={"X-Client-Info":"storage-js/2.7.1"};var he=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class fe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},de),t),this.fetch=Y(n)}listBuckets(){return he(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}getBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return he(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,a){return ee(this,void 0,void 0,(function*(){return re(e,"PUT",t,r,a,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}}class pe extends fe{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new ce(this.url,this.headers,e,this.fetch)}}let ge="";ge="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const me={headers:{"X-Client-Info":`supabase-js-${ge}/2.49.4`}},ve={schema:"public"},ye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},be={};var we=n(318),xe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Se=e=>{let t;return t=e||("undefined"===typeof fetch?we.default:fetch),function(){return t(...arguments)}},_e=(e,t,n)=>{const r=Se(n),a="undefined"===typeof Headers?we.Headers:Headers;return(n,i)=>xe(void 0,void 0,void 0,(function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},i),{headers:l}))}))};var Ee=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Ce="2.69.1",ke=3e4,Re=9e4,Te={"X-Client-Info":`gotrue-js/${Ce}`},Ne="X-Supabase-Api-Version",Ae={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Oe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ie extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Pe(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class je extends Ie{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Le extends Ie{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class De extends Ie{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Fe extends De{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Me extends De{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $e extends De{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ze extends De{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ue extends De{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ve extends De{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Be(e){return Pe(e)&&"AuthRetryableFetchError"===e.name}class Ge extends De{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class qe extends De{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ze=" \t\n\r=".split(""),Ke=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ze.length;t+=1)e[Ze[t].charCodeAt(0)]=-2;for(let t=0;t<He.length;t+=1)e[He[t].charCodeAt(0)]=t;return e})();function We(e,t,n){const r=Ke[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Qe(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)We(e.charCodeAt(s),a,i);return t.join("")}function Je(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Ye(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Je(r,t)}}function Xe(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)We(e.charCodeAt(a),n,r);return new Uint8Array(t)}const et=()=>"undefined"!==typeof window&&"undefined"!==typeof document,tt={tested:!1,writable:!1},nt=()=>{if(!et())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(tt.tested)return tt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tt.tested=!0,tt.writable=!0}catch(t){tt.tested=!0,tt.writable=!1}return tt.writable};const rt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,318)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},at=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},it=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},st=async(e,t)=>{await e.removeItem(t)};class ot{constructor(){this.promise=new ot.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function lt(e){const t=e.split(".");if(3!==t.length)throw new qe("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Oe.test(t[n]))throw new qe("JWT not in base64url format");return{header:JSON.parse(Qe(t[0])),payload:JSON.parse(Qe(t[1])),signature:Xe(t[2]),raw:{header:t[0],payload:t[1]}}}function ut(e){return("0"+e.toString(16)).substr(-2)}async function ct(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,ut).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await at(e,`${t}-code-verifier`,a);const i=await ct(r);return[i,r===i?"plain":"s256"]}ot.promiseConstructor=Promise;const ht=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var ft=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const pt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gt=[502,503,504];async function mt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Ve(pt(e),0);if(gt.includes(e.status))throw new Ve(pt(e),e.status);let r,a;try{r=await e.json()}catch(s){throw new Le(pt(s),s)}const i=function(e){const t=e.headers.get(Ne);if(!t)return null;if(!t.match(ht))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(s){return null}}(e);if(i&&i.getTime()>=Ae.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Ge(pt(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Fe}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new Ge(pt(r),e.status,r.weak_password.reasons);throw new je(pt(r),e.status||500,a)}async function vt(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[Ne]||(i[Ne]=Ae.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const s=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,a,i){const s=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let o;try{o=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new Ve(pt(l),0)}o.ok||await mt(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await mt(l)}}(e,t,n+o,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function yt(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function bt(e){const t=yt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function xt(e){return{data:e,error:null}}function St(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,s=ft(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},s)},error:null}}function _t(e){return e}var Et=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class Ct{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=rt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:wt})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Et(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:St,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,s,o;try{const l={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:_t});if(u.error)throw u.error;const c=await u.json(),d=null!==(i=u.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(o=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(Pe(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:wt})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:wt})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}}const kt={getItem:e=>nt()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{nt()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{nt()&&globalThis.localStorage.removeItem(e)}};function Rt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Tt=!!(globalThis&&nt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Nt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class At extends Nt{}async function Ot(e,t,n){Tt&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),Tt&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw Tt&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new At(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tt)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Tt&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Tt&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const It={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Te,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pt(e,t,n){return await n()}class jt{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jt.nextInstanceID,jt.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},It),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Ct({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=rt(r.fetch),this.lock=r.lock||Pt,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:et()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Ot:this.lock=Pt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:nt()?this.storage=kt:(this.memoryStorage={},this.storage=Rt(this.memoryStorage)):(this.memoryStorage={},this.storage=Rt(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Ce}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),et()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Pe(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Pe(t)?{error:t}:{error:new Le("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:yt}),{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await dt(this.storage,this.storageKey)),a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},xform:yt})}else{if(!("phone"in e))throw new $e("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:s}=e;a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:yt})}}const{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:bt})}else{if(!("phone"in e))throw new $e("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:bt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Me}}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await it(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await st(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Me}}catch(a){if(Pe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,s=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:yt}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Me}}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await dt(this.storage,this.storageKey));const{error:o}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new $e("You must provide either an email or phone number.")}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:s}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:yt});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await dt(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:xt})}catch(a){if(Pe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Fe;const{error:r}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:s}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new $e("You must provide either an email or phone number and a type")}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await it(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Re;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession((async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:wt}):{data:{user:null},error:new Fe}}))}catch(t){if(Pe(t))return function(e){return Pe(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new Fe;const i=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await dt(this.storage,this.storageKey));const{data:l,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:i.access_token,xform:wt});if(u)throw u;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fe;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=lt(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Pe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Fe;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!et())throw new ze("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ze(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ue("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new ze("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ue("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:s,expires_at:o,token_type:l}=e;if(!a||!s||!i||!l)throw new ze("No session defined in URL");const u=Math.round(Date.now()/1e3),c=parseInt(s);let d=u+c;o&&(d=parseInt(o));const h=d-u;1e3*h<=ke&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${c}s`);const f=d-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,u);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:c,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(Pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await it(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Pe(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await dt(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Pe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,a,i,s;const{data:o,error:l}=t;if(l)throw l;const u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(s=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})}));if(r)throw r;return et()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Pe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Be(t)&&Date.now()+n-a<ke},new Promise(((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(a){if(!r(i,a))return void t(a)}})()})))}catch(a){if(this._debug(t,"error",a),Pe(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),et()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await it(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Re;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),Be(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Fe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ot;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Fe;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),Pe(a)){const e={session:null,error:a};return Be(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(a){r.push(a)}}));if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await at(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await st(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),ke);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/ke);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Nt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await dt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:s}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=lt(r.access_token);let s=null;i.aal&&(s=i.aal);let o=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new qe("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find((t=>t.kid===e)),!t)throw new qe("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:s,payload:o}}=lt(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await this.fetchJwk(r.kid,t),c=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,c,i,function(e){const t=[];return Ye(e,(e=>t.push(e))),new Uint8Array(t)}(`${s}.${o}`)))throw new qe("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}jt.nextInstanceID=0;const Lt=jt;class Dt extends Lt{constructor(e){super(e)}}var Ft=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class Mt{constructor(e,t,n){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=e.replace(/\/$/,"");this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const o=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:r,realtime:a,global:i}=e,{db:s,auth:o,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>Ee(this,void 0,void 0,(function*(){return""}))};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}(null!==n&&void 0!==n?n:{},{db:ve,realtime:be,auth:Object.assign(Object.assign({},ye),{storageKey:o}),global:me});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=l.global.headers)&&void 0!==a?a:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=_e(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new d(`${s}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new u(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ft(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,storageKey:o,flowType:l,lock:u,debug:c}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dt({url:this.authUrl,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,flowType:l,lock:u,debug:c,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new q(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const $t="https://pzyvibdgpfgohvewdmit.supabase.co",zt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6eXZpYmRncGZnb2h2ZXdkbWl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYwMTM4NDgsImV4cCI6MjA2MTU4OTg0OH0.nE0GEDQEwPEE-bYg54R4Td3kRFlgeft6Dfl7ItticdA";const Ut=((e,t,n)=>new Mt(e,t,n))($t,zt)},16:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});const r={LOGIN_SUCCES:"Autentificare reu\u0219it\u0103! Bine ai revenit.",LOGIN_ERROR:"Eroare la autentificare. Verific\u0103 emailul \u0219i parola.",LOGOUT_SUCCES:"Te-ai delogat cu succes!",REGISTER_SUCCES:"Cont creat! Verific\u0103 emailul pentru confirmare.",REGISTER_ERROR:"Eroare la crearea contului. \xcencearc\u0103 din nou.",PAROLE_NECORESPUNZATOARE:"Parolele nu coincid!",INVALID_TYPE:"Tip de tranzac\u021bie invalid!",INVALID_CATEGORY:"Categorie invalid\u0103!",MISSING_REQUIRED_FIELD:"C\xe2mp obligatoriu lips\u0103!",NOT_FOUND:"Resursa nu a fost g\u0103sit\u0103!",SERVER_ERROR:"Eroare intern\u0103 server!",TRANSACTION_CREATED:"Tranzac\u021bie ad\u0103ugat\u0103 cu succes!",TRANSACTION_UPDATED:"Tranzac\u021bie actualizat\u0103 cu succes!",TRANSACTION_DELETED:"Tranzac\u021bie \u0219tears\u0103 cu succes!",CAMPURI_OBLIGATORII:"Completeaz\u0103 toate c\xe2mpurile obligatorii",FRECV_RECURENTA:"Selecteaz\u0103 frecven\u021ba pentru tranzac\u021bie recurent\u0103",AVERTISMENT_DATE:"Datele introduse nu sunt valide sau complete.",EROARE_ADAUGARE:"Eroare la ad\u0103ugare",SUCCES_ADAUGARE:"Tranzac\u021bie ad\u0103ugat\u0103 cu succes",SUCCES_EDITARE:"Tranzac\u021bie editat\u0103 cu succes",SUCCES_STERGERE:"Tranzac\u021bie \u0219tears\u0103 cu succes",CONFIRMARE_STERGERE:"Sigur vrei s\u0103 \u0219tergi aceast\u0103 tranzac\u021bie? Aceast\u0103 ac\u021biune nu poate fi anulat\u0103.",EROARE_GENERALA:"A ap\u0103rut o eroare nea\u0219teptat\u0103. \xcencearc\u0103 din nou sau contacteaz\u0103 suportul.",EROARE_TITLU:"Eroare nea\u0219teptat\u0103",EROARE_FORMAT_DATE:"Format de date invalid sau nea\u0219teptat de la server.",EROARE_NECUNOSCUTA:"Eroare necunoscut\u0103",EROARE_INCARCARE_TRANZACTII:"Eroare la \xeenc\u0103rcarea tranzac\u021biilor",EROARE_SALVARE_TRANZACTIE:"Eroare la salvarea tranzac\u021biei",EROARE_STERGERE_TRANZACTIE:"Eroare la \u0219tergerea tranzac\u021biei",LOG_EROARE_INCARCARE:"Eroare la \xeenc\u0103rcarea tranzac\u021biilor:",LOG_EROARE_SALVARE:"Eroare la salvarea tranzac\u021biei:",LOG_EROARE_STERGERE:"Eroare la \u0219tergerea tranzac\u021biei:",EROARE_AUTENTIFICARE:"Date de autentificare incorecte.",EROARE_RLS:"Acces interzis (RLS).",EROARE_RETEA:"Eroare de re\u021bea. \xcencearc\u0103 din nou.",PAROLA_PREA_SLABA:"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.",EROARE_CATEGORIE_SUBCATEGORIE_INVALIDA:"Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.",VALIDARE:{SUMA_INVALIDA:"Suma introdus\u0103 nu este valid\u0103. Folosi\u021bi un format numeric corect (ex: 123.45).",FORMAT_DATE:"Data introdus\u0103 nu are un format valid.",CAMP_LIPSA:"Completa\u021bi toate c\xe2mpurile obligatorii."},CATEGORII:{NUME_GOL:"Numele nu poate fi gol",SUBCATEGORIE_EXISTENTA:"Exist\u0103 deja o subcategorie cu acest nume",EROARE_STERGERE:"Eroare la \u0219tergerea subcategoriei",NU_SE_POT_STERGE_PREDEFINITE:"Nu se pot \u0219terge subcategoriile predefinite, doar cele personalizate.",CONFIRMARE_STERGERE:"Sigur dori\u021bi s\u0103 \u0219terge\u021bi subcategoria {subcategoria} din categoria {categoria}? Aceast\u0103 ac\u021biune nu poate fi anulat\u0103."}}},952:(e,t,n)=>{"use strict";n.d(t,{useAuthStore:()=>u});var r=n(469),a=n(887),i=n(341),s=n(16);let o=function(e){return e.INVALID_CREDENTIALS="INVALID_CREDENTIALS",e.NETWORK="NETWORK",e.RLS_DENIED="RLS_DENIED",e.PASSWORD_WEAK="PASSWORD_WEAK",e.UNKNOWN="UNKNOWN",e}({});const l={async login(e,t){const{data:n,error:r}=await i.N.auth.signInWithPassword({email:e,password:t});let a,s=null;var l,u,c;(null!==n&&void 0!==n&&n.user&&(s={id:n.user.id,email:n.user.email||""}),r)&&(a=null!==(l=r.message)&&void 0!==l&&l.toLowerCase().includes("invalid login credentials")?o.INVALID_CREDENTIALS:null!==(u=r.message)&&void 0!==u&&u.toLowerCase().includes("row-level security")?o.RLS_DENIED:null!==(c=r.message)&&void 0!==c&&c.toLowerCase().includes("network")?o.NETWORK:o.UNKNOWN);return{user:s,error:(null===r||void 0===r?void 0:r.message)||null,errorType:a}},async register(e,t){if(!t||t.length<8||!/[A-Z]/.test(t)||!/[a-z]/.test(t)||!/[0-9]/.test(t)||!/[^A-Za-z0-9]/.test(t))return{user:null,error:s.C.PAROLA_PREA_SLABA,errorType:o.PASSWORD_WEAK};const{data:n,error:r}=await i.N.auth.signUp({email:e,password:t});let a,l=null;var u,c;(null!==n&&void 0!==n&&n.user&&(l={id:n.user.id,email:n.user.email||""}),r)&&(a=null!==(u=r.message)&&void 0!==u&&u.toLowerCase().includes("password")?o.PASSWORD_WEAK:null!==(c=r.message)&&void 0!==c&&c.toLowerCase().includes("network")?o.NETWORK:o.UNKNOWN);return{user:l,error:(null===r||void 0===r?void 0:r.message)||null,errorType:a}},async logout(){await i.N.auth.signOut()},getCurrentUser:()=>i.N.auth.getUser().then((e=>{let{data:t}=e;return null!==t&&void 0!==t&&t.user?{id:t.user.id,email:t.user.email||""}:null})),onAuthStateChange(e){const{data:t}=i.N.auth.onAuthStateChange(e);return i.N.auth.getSession().then((t=>{let{data:{session:n}}=t;n&&e("SIGNED_IN",n)})),t.subscription.unsubscribe}},u=(0,r.v)((0,a.Zr)((e=>({user:null,loading:!1,error:null,errorType:void 0,login:async(t,n)=>{e({loading:!0,error:null,errorType:void 0});const r=await l.login(t,n);e({user:r.user,error:r.error,errorType:r.errorType,loading:!1})},register:async(t,n)=>{e({loading:!0,error:null,errorType:void 0});const r=await l.register(t,n);e({user:r.user,error:r.error,errorType:r.errorType,loading:!1})},logout:async()=>{e({loading:!0,error:null}),await l.logout(),e({user:null,loading:!1})},checkUser:async()=>{e({loading:!0});const t=await l.getCurrentUser();e({user:t,loading:!1})}})),{name:"auth-storage",partialize:e=>({user:e.user})}));l.onAuthStateChange(((e,t)=>{"SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user?u.setState({user:{id:t.user.id,email:t.user.email||""},loading:!1,error:null}):"SIGNED_OUT"===e&&u.setState({user:null,loading:!1,error:null})}))},318:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),s=r.Headers,o=r.Request,l=r.Response},374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(318)),i=r(n(595));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let a=null,s=null,o=null,l=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(o=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(s=[],a=null,l=200,u="OK")}catch(c){404===e.status&&""===t?(l=204,u="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null===a||void 0===a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,u="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:s,count:o,status:l,statusText:u}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},42:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(34)),i=r(n(416)),s=n(401);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;r||a?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]})).forEach((e=>{let[t,n]=e;o.searchParams.append(t,n)}))):(t="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new i.default({method:t,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},416:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(926));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=i},34:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(416));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},926:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(374));class i extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":`${r}.offset`,i="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(72);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},340:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(42));t.PostgrestClient=a.default;const i=r(n(34));t.PostgrestQueryBuilder=i.default;const s=r(n(416));t.PostgrestFilterBuilder=s.default;const o=r(n(926));t.PostgrestTransformBuilder=o.default;const l=r(n(374));t.PostgrestBuilder=l.default;const u=r(n(595));t.PostgrestError=u.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default}},72:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},306:(e,t,n)=>{"use strict";var r=n(643),a=n(261);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),R=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var D,F=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var $=!1;function z(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ie(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ee=null;function Ce(e){if(e=ba(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=xa(t),Se(e.stateNode,e.type,t))}}function ke(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Re(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ee)&&(Ne(),Re())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ce){Pe=!1}function Le(e,t,n,r,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Fe=null,Me=!1,$e=null,ze={onError:function(e){De=!0,Fe=e}};function Ue(e,t,n,r,a,i,s,o,l){De=!1,Fe=null,Le.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Ge(a),e;if(s===r)return Ge(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,We=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=dt(o):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~a)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,Et,Ct,kt=!1,Rt=[],Tt=null,Nt=null,At=null,Ot=new Map,It=new Map,Pt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Dt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ya(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function $t(e,t,n){Mt(e)&&n.delete(t)}function zt(){kt=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==Nt&&Mt(Nt)&&(Nt=null),null!==At&&Mt(At)&&(At=null),Ot.forEach($t),It.forEach($t)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Rt.length){Ut(Rt[0],e);for(var n=1;n<Rt.length;n++){var r=Rt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Nt&&Ut(Nt,e),null!==At&&Ut(At,e),Ot.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Bt=w.ReactCurrentBatchConfig,Gt=!0;function qt(e,t,n,r){var a=bt,i=Bt.transition;Bt.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=a,Bt.transition=i}}function Ht(e,t,n,r){var a=bt,i=Bt.transition;Bt.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=a,Bt.transition=i}}function Zt(e,t,n,r){if(Gt){var a=Wt(e,t,n,r);if(null===a)Gr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,r,a),!0;case"dragenter":return Nt=Dt(Nt,e,t,n,r,a),!0;case"mouseover":return At=Dt(At,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,It.set(i,Dt(It.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&xt(i),null===(i=Wt(e,t,n,r))&&Gr(e,t,r,Kt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Kt=null;function Wt(e,t,n,r){if(Kt=null,null!==(e=ya(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=F({},un,{view:0,detail:0}),hn=an(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),gn=an(F({},fn,{dataTransfer:0})),mn=an(F({},dn,{relatedTarget:0})),vn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(F({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return En}var kn=F({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=an(kn),Tn=an(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(On),Pn=[9,13,27,32],jn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Dn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!jn||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),$n=!1;function zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Zn=null;function Kn(e){Mr(e,0)}function Wn(e){if(Z(wa(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Yn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Zn=Hn=null)}function nr(e){if("value"===e.propertyName&&Wn(Zn)){var t=[];qn(t,Zn,e,xe(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Zn)}function ir(e,t){if("click"===e)return Wn(t)}function sr(e,t){if("input"===e||"change"===e)return Wn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(n,i);var s=cr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Er={};function Cr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var kr=Cr("animationend"),Rr=Cr("animationiteration"),Tr=Cr("animationstart"),Nr=Cr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var jr=Or[Pr];Ir(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Ir(kr,"onAnimationEnd"),Ir(Rr,"onAnimationIteration"),Ir(Tr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,u){if(Ue.apply(this,arguments),De){if(!De)throw Error(i(198));var c=Fe;De=!1,Fe=null,Me||(Me=!0,$e=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Fr(a,o,u),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Fr(a,o,u),i=l}}}if(Me)throw e=$e,Me=!1,$e=null,e}function $r(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var a=qt;break;case 4:a=Ht;break;default:a=Zt}n=a.bind(null,t,n,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ya(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}Oe((function(){var r=i,a=xe(n),s=[];e:{var o=Ar.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Rn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Rr:case Tr:l=vn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Ie(p,h))&&c.push(qr(p,g,f)))),d)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,a),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wa(l),f=null==u?o:wa(u),(o=new c(g,p+"leave",l,n,a)).target=d,o.relatedTarget=f,g=null,ya(a)===r&&((c=new c(h,p+"enter",u,n,a)).target=f,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Zr(f))p++;for(f=0,g=h;g;g=Zr(g))f++;for(;0<p-f;)c=Zr(c),p--;for(;0<f-p;)h=Zr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Zr(c),h=Zr(h)}c=null}else c=null;null!==l&&Kr(s,o,l,c,!1),null!==u&&null!==d&&Kr(s,d,u,c,!0)}if("select"===(l=(o=r?wa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Qn;else if(Gn(o))if(Jn)m=sr;else{m=ar;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ir);switch(m&&(m=m(e,r))?qn(s,m,n,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wa(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(s,n,a)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Yt="value"in(Jt=a)?Jt.value:Jt.textContent,Vn=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,a),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:($n=!0,Mn);case"textInput":return(e=t.data)===Mn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!jn&&zn(e,t)?(e=en(),Xt=Yt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=y))}Mr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ie(e,n))&&r.unshift(qr(e,i,a)),null!=(i=Ie(e,t))&&r.push(qr(e,i,a))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,a?null!=(l=Ie(n,i))&&s.unshift(qr(n,l,o)):a||null!=(l=Ie(n,i))&&s.push(qr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Wr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Xr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Vt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ga="__reactEvents$"+da,ma="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[ha])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xa(e){return e[fa]||null}var Sa=[],_a=-1;function Ea(e){return{current:e}}function Ca(e){0>_a||(e.current=Sa[_a],Sa[_a]=null,_a--)}function ka(e,t){_a++,Sa[_a]=e.current,e.current=t}var Ra={},Ta=Ea(Ra),Na=Ea(!1),Aa=Ra;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Ra;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pa(){Ca(Na),Ca(Ta)}function ja(e,t,n){if(Ta.current!==Ra)throw Error(i(168));ka(Ta,t),ka(Na,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,B(e)||"Unknown",a));return F({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,Aa=Ta.current,ka(Ta,e),ka(Na,Na.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=La(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ca(Na),Ca(Ta),ka(Ta,e)):Ca(Na),ka(Na,n)}var Ma=null,$a=!1,za=!1;function Ua(e){null===Ma?Ma=[e]:Ma.push(e)}function Va(){if(!za&&null!==Ma){za=!0;var e=0,t=bt;try{var n=Ma;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ma=null,$a=!1}catch(a){throw null!==Ma&&(Ma=Ma.slice(e+1)),Ze(Xe,Va),a}finally{bt=t,za=!1}}return null}var Ba=[],Ga=0,qa=null,Ha=0,Za=[],Ka=0,Wa=null,Qa=1,Ja="";function Ya(e,t){Ba[Ga++]=Ha,Ba[Ga++]=qa,qa=e,Ha=t}function Xa(e,t,n){Za[Ka++]=Qa,Za[Ka++]=Ja,Za[Ka++]=Wa,Wa=e;var r=Qa;e=Ja;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Qa=1<<32-st(t)+a|n<<a|r,Ja=i+e}else Qa=1<<i|n<<a|r,Ja=e}function ei(e){null!==e.return&&(Ya(e,1),Xa(e,1,0))}function ti(e){for(;e===qa;)qa=Ba[--Ga],Ba[Ga]=null,Ha=Ba[--Ga],Ba[Ga]=null;for(;e===Wa;)Wa=Za[--Ka],Za[Ka]=null,Ja=Za[--Ka],Za[Ka]=null,Qa=Za[--Ka],Za[Ka]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wa?{id:Qa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ua(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ci(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=ua(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ua(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ua(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var gi=w.ReactCurrentBatchConfig;function mi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&yi(i)===t.type)?((r=a(t,n.props)).ref=mi(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=mi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=mi(e,null,t),n.return=e,n;case S:return(t=Mu(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?u(e,t,n,r):null;case S:return n.key===a?c(e,t,n,r):null;case I:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||L(n))return null!==a?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case I:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,a,null);vi(t,r)}return null}function g(a,i,o,l){for(var u=null,c=null,d=i,g=i=0,m=null;null!==d&&g<o.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(a,d,o[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(a,d),i=s(v,i,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===o.length)return n(a,d),ai&&Ya(a,g),u;if(null===d){for(;g<o.length;g++)null!==(d=h(a,o[g],l))&&(i=s(d,i,g),null===c?u=d:c.sibling=d,c=d);return ai&&Ya(a,g),u}for(d=r(a,d);g<o.length;g++)null!==(m=p(d,a,g,o[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=s(m,i,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(a,e)})),ai&&Ya(a,g),u}function m(a,o,l,u){var c=L(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,g=o,m=o=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(a,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(a,g),o=s(b,o,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return n(a,g),ai&&Ya(a,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(a,y.value,u))&&(o=s(y,o,m),null===d?c=y:d.sibling=y,d=y);return ai&&Ya(a,m),c}for(g=r(a,g);!y.done;m++,y=l.next())null!==(y=p(g,a,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),o=s(y,o,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(a,e)})),ai&&Ya(a,m),c}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var u=s.key,c=i;null!==c;){if(c.key===u){if((u=s.type)===_){if(7===c.tag){n(r,c.sibling),(i=a(c,s.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===I&&yi(u)===c.type){n(r,c.sibling),(i=a(c,s.props)).ref=mi(r,c,s),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===_?((i=Lu(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=ju(s.type,s.key,s.props,null,r.mode,l)).ref=mi(r,i,s),l.return=r,r=l)}return o(r);case S:e:{for(c=s.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Mu(s,r.mode,l)).return=r,r=i}return o(r);case I:return e(r,i,(c=s._init)(s._payload),l)}if(te(s))return g(r,i,s,l);if(L(s))return m(r,i,s,l);vi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Fu(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var wi=bi(!0),xi=bi(!1),Si=Ea(null),_i=null,Ei=null,Ci=null;function ki(){Ci=Ei=_i=null}function Ri(e){var t=Si.current;Ca(Si),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){_i=e,Ci=Ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===Ei){if(null===_i)throw Error(i(308));Ei=e,_i.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return t}var Oi=null;function Ii(e){null===Oi?Oi=[e]:Oi.push(e)}function Pi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ii(t)):(n.next=a.next,a.next=n),t.interleaved=n,ji(e,r)}function ji(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ji(e,n)}return null===(a=r.interleaved)?(t.next=t,Ii(r)):(t.next=a.next,a.next=t),r.interleaved=t,ji(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var a=e.updateQueue;Li=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,c=u=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Li=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Gi={},qi=Ea(Gi),Hi=Ea(Gi),Zi=Ea(Gi);function Ki(e){if(e===Gi)throw Error(i(174));return e}function Wi(e,t){switch(ka(Zi,t),ka(Hi,e),ka(qi,Gi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(qi),ka(qi,t)}function Qi(){Ca(qi),Ca(Hi),Ca(Zi)}function Ji(e){Ki(Zi.current);var t=Ki(qi.current),n=le(t,e.type);t!==n&&(ka(Hi,e),ka(qi,n))}function Yi(e){Hi.current===e&&(Ca(qi),Ca(Hi))}var Xi=Ea(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=w.ReactCurrentDispatcher,as=w.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,us=!1,cs=!1,ds=0,hs=0;function fs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Ys:Xs,e=n(r,a),cs){s=0;do{if(cs=!1,ds=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,a)}while(cs)}if(rs.current=Js,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,us=!1,t)throw Error(i(300));return e}function ms(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((is&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,o=r):u=u.next=h,ss.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==s);null===u?o=r:u.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Dl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ss(){}function _s(e,t){var n=ss,r=ys(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,bo=!0),r=r.queue,Ls(ks.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,As(9,Cs.bind(null,n,r,a,t),void 0,null),null===Nl)throw Error(i(349));0!==(30&is)||Es(n,t,a)}return a}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Rs(t)&&Ts(e)}function ks(e,t,n){return n((function(){Rs(t)&&Ts(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ts(e){var t=ji(e,1);null!==t&&nu(t,e,1,-1)}function Ns(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Zs.bind(null,ss,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return ys().memoizedState}function Is(e,t,n,r){var a=vs();ss.flags|=e,a.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Ps(e,t,n,r){var a=ys();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&ps(r,s.deps))return void(a.memoizedState=As(t,n,i,r))}ss.flags|=e,a.memoizedState=As(1|t,n,i,r)}function js(e,t){return Is(8390656,8,e,t)}function Ls(e,t){return Ps(2048,8,e,t)}function Ds(e,t){return Ps(4,2,e,t)}function Fs(e,t){return Ps(4,4,e,t)}function Ms(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $s(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4,4,Ms.bind(null,t,e),n)}function zs(){}function Us(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=gt(),ss.lanes|=n,Dl|=n,e.baseState=!0),t)}function Gs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{bt=n,as.transition=r}}function qs(){return ys().memoizedState}function Hs(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Ws(t,n);else if(null!==(n=Pi(e,t,n,r))){nu(n,e,r,eu()),Qs(n,t,r)}}function Zs(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Ws(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ii(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Pi(e,t,a,r))&&(nu(n,e,r,a=eu()),Qs(n,t,r))}}function Ks(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ws(e,t){cs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ai,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Ys={readContext:Ai,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4194308,4,Ms.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ns,useDebugValue:zs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=Gs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,a=vs();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Nl)throw Error(i(349));0!==(30&is)||Es(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,js(ks.bind(null,r,s,e),[e]),r.flags|=2048,As(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Nl.identifierPrefix;if(ai){var n=Ja;t=":"+t+"R"+(n=(Qa&~(1<<32-st(Qa)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xs={readContext:Ai,useCallback:Us,useContext:Ai,useEffect:Ls,useImperativeHandle:$s,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:Vs,useReducer:ws,useRef:Os,useState:function(){return ws(bs)},useDebugValue:zs,useDeferredValue:function(e){return Bs(ys(),os.memoizedState,e)},useTransition:function(){return[ws(bs)[0],ys().memoizedState]},useMutableSource:Ss,useSyncExternalStore:_s,useId:qs,unstable_isNewReconciler:!1},eo={readContext:Ai,useCallback:Us,useContext:Ai,useEffect:Ls,useImperativeHandle:$s,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:Vs,useReducer:xs,useRef:Os,useState:function(){return xs(bs)},useDebugValue:zs,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Bs(t,os.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ys().memoizedState]},useMutableSource:Ss,useSyncExternalStore:_s,useId:qs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Mi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,a))&&(nu(t,e,a,r),zi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Mi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,a))&&(nu(t,e,a,r),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Mi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=$i(e,a,r))&&(nu(t,e,r,n),zi(t,e,r))}};function ao(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function io(e,t,n){var r=!1,a=Ra,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Ia(t)?Aa:Ta.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Ra),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Ia(t)?Aa:Ta.current,a.context=Oa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Vi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Mi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,ql=r),co(0,t)},n}function po(e,t,n){(n=Mi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){co(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mi(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xi(t,null,n,r):wi(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var i=t.ref;return Ni(t,a),r=gs(e,t,n,r,i,a),n=ms(),null===e||bo?(ai&&n&&ei(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Go(e,t,a))}function So(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Iu(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_o(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Go(e,t,a)}return t.flags|=1,(e=Pu(i,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Go(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,n,r,a)}function Eo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ka(Pl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ka(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ka(Pl,Il),Il|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ka(Pl,Il),Il|=r;return wo(e,t,a,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,a){var i=Ia(n)?Aa:Ta.current;return i=Oa(t,i),Ni(t,a),n=gs(e,t,n,r,i,a),r=ms(),null===e||bo?(ai&&r&&ei(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Go(e,t,a))}function Ro(e,t,n,r,a){if(Ia(n)){var i=!0;Da(t)}else i=!1;if(Ni(t,a),null===t.stateNode)Bo(e,t),io(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ai(u):u=Oa(t,u=Ia(n)?Aa:Ta.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&so(t,s,r,u),Li=!1;var h=t.memoizedState;s.state=h,Vi(t,r,s,a),l=t.memoizedState,o!==r||h!==l||Na.current||Li?("function"===typeof c&&(no(t,n,c,r),l=t.memoizedState),(o=Li||ao(t,n,o,r,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fi(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Oa(t,l=Ia(n)?Aa:Ta.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Li=!1,h=t.memoizedState,s.state=h,Vi(t,r,s,a);var p=t.memoizedState;o!==d||h!==p||Na.current||Li?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(u=Li||ao(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,i,a)}function To(e,t,n,r,a,i){Co(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Fa(t,n,!1),Go(e,t,i);r=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?ja(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ja(0,t.context,!1),Wi(e,t.containerInfo)}function Ao(e,t,n,r,a){return fi(),pi(a),t.flags|=256,wo(e,t,n,r),t.child}var Oo,Io,Po,jo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,a=t.pendingProps,s=Xi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ka(Xi,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Du(l,a,0,null),e=Lu(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Lo,e):Mo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Du({mode:"visible",children:r.children},a,0,null),(s=Lu(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Lo,s);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,$o(e,t,o,r=uo(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Nl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,ji(e,a),nu(r,e,a,-1))}return gu(),$o(e,t,o,r=uo(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ru.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ua(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Za[Ka++]=Qa,Za[Ka++]=Ja,Za[Ka++]=Wa,Qa=e.id,Ja=e.overflow,Wa=t),t=Mo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Pu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Pu(r,o):(o=Lu(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,a}return e=(o=e.child).sibling,a=Pu(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Mo(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,n,r){return null!==r&&pi(r),wi(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Uo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Vo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Xi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ka(Xi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Uo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Uo(t,!0,n,null,i);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Ia(t.type)&&Pa(),Ho(t),null;case 3:return r=t.stateNode,Qi(),Ca(Na),Ca(Ta),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(su(ii),ii=null))),Io(e,t),Ho(t),null;case 5:Yi(t);var a=Ki(Zi.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ho(t),null}if(e=Ki(qi.current),di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ha]=t,r[fa]=s,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)$r(Lr[a],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":Q(r,s),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$r("invalid",r);break;case"textarea":ae(r,s),$r("invalid",r)}for(var l in ye(n,s),a=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&$r("scroll",r)}switch(n){case"input":H(r),X(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Xr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":$r("cancel",e),$r("close",e),a=r;break;case"iframe":case"object":case"embed":$r("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)$r(Lr[a],e);a=r;break;case"source":$r("error",e),a=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),a=r;break;case"details":$r("toggle",e),a=r;break;case"input":Q(e,r),a=W(e,r),$r("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),$r("invalid",e)}for(s in ye(n,a),u=a)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&$r("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Zi.current),Ki(qi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Ho(t),null;case 13:if(Ca(Xi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,s=!1;else if(s=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),s=!1}else null!==ii&&(su(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xi.current)?0===jl&&(jl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Qi(),Io(e,t),null===e&&Vr(t.stateNode.containerInfo),Ho(t),null;case 10:return Ri(t.type._context),Ho(t),null;case 19:if(Ca(Xi),null===(s=t.memoizedState))return Ho(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qo(s,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,qo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ka(Xi,1&Xi.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Vl&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Ho(t),null}else 2*Je()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=Xi.current,ka(Xi,r?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ko(e,t){switch(ti(t),t.tag){case 1:return Ia(t.type)&&Pa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),Ca(Na),Ca(Ta),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Yi(t),null;case 13:if(Ca(Xi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(Xi),null;case 4:return Qi(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Io=function(){},Po=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ki(qi.current);var i,s=null;switch(n){case"input":a=W(e,a),r=W(e,r),s=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&$r("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Yo=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ga],delete t[ma],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Qo||Xo(n,t);case 6:var r=cl,a=dl;cl=null,hl(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Vt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Eu(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));fl(s,o,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Eu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Eu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Eu(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(m){Eu(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(a,s),be(l,o);var c=be(l,s);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];"style"===d?me(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,c)}switch(l){case"input":Y(a,s);break;case"textarea":ie(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(a,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[fa]=s}catch(m){Eu(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){Eu(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Eu(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(c=Qo)||d,gl(t,e),Qo=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Yo=e,d=e.child;null!==d;){for(h=Yo=d;null!==Yo;){switch(p=(f=Yo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Xo(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Eu(r,n,m)}}break;case 5:Xo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Yo=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,c?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",o))}catch(m){Eu(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Eu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ul(e,ol(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){Eu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Yo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Yo;){var a=Yo,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Wo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Wo;var u=Qo;if(Wo=s,(Qo=l)&&!u)for(Yo=a;null!==Yo;)l=(s=Yo).child,22===s.tag&&null!==s.memoizedState?Sl(a):null!==l?(l.return=s,Yo=l):Sl(a);for(;null!==i;)Yo=i,bl(i,t,n),i=i.sibling;Yo=a,Wo=o,Qo=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Yo=i):wl(e)}}function wl(e){for(;null!==Yo;){var t=Yo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Bi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(i(163))}Qo||512&t.flags&&al(t)}catch(f){Eu(t,t.return,f)}}if(t===e){Yo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yo=n;break}Yo=t.return}}function xl(e){for(;null!==Yo;){var t=Yo;if(t===e){Yo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yo=n;break}Yo=t.return}}function Sl(e){for(;null!==Yo;){var t=Yo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Eu(t,a,l)}}var i=t.return;try{al(t)}catch(l){Eu(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Eu(t,s,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Yo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yo=o;break}Yo=t.return}}var _l,El=Math.ceil,Cl=w.ReactCurrentDispatcher,kl=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,Tl=0,Nl=null,Al=null,Ol=0,Il=0,Pl=Ea(0),jl=0,Ll=null,Dl=0,Fl=0,Ml=0,$l=null,zl=null,Ul=0,Vl=1/0,Bl=null,Gl=!1,ql=null,Hl=null,Zl=!1,Kl=null,Wl=0,Ql=0,Jl=null,Yl=-1,Xl=0;function eu(){return 0!==(6&Tl)?Je():-1!==Yl?Yl:Yl=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ol?Ol&-Ol:null!==gi.transition?(0===Xl&&(Xl=gt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Jl=null,Error(i(185));vt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Fl|=n),4===jl&&ou(e,Ol)),ru(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Je()+500,$a&&Va()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Nl?Ol:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){$a=!0,Ua(e)}(lu.bind(null,e)):Ua(lu.bind(null,e)),sa((function(){0===(6&Tl)&&Va()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Yl=-1,Xl=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var a=Tl;Tl|=2;var s=pu();for(Nl===e&&Ol===t||(Bl=null,Vl=Je()+500,hu(e,t));;)try{yu();break}catch(l){fu(e,l)}ki(),Cl.current=s,Tl=a,null!==Al?t=0:(Nl=null,Ol=0,t=jl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=iu(e,a))),1===t)throw n=Ll,hu(e,0),ou(e,r),ru(e,Je()),n;if(6===t)ou(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mu(e,r))&&(0!==(s=pt(e))&&(r=s,t=iu(e,s))),1===t))throw n=Ll,hu(e,0),ou(e,r),ru(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xu(e,zl,Bl);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xu.bind(null,e,zl,Bl),t);break}xu(e,zl,Bl);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ra(xu.bind(null,e,zl,Bl),r);break}xu(e,zl,Bl);break;default:throw Error(i(329))}}}return ru(e,Je()),e.callbackNode===n?au.bind(null,e):null}function iu(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=zl,zl=n,null!==t&&su(t)),e}function su(e){null===zl?zl=e:zl.push.apply(zl,e)}function ou(e,t){for(t&=~Ml,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Tl))throw Error(i(327));Su();var t=ht(e,0);if(0===(1&t))return ru(e,Je()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Ll,hu(e,0),ou(e,t),ru(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,zl,Bl),ru(e,Je()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Je()+500,$a&&Va())}}function cu(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&Su();var t=Tl;Tl|=1;var n=Rl.transition,r=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=r,Rl.transition=n,0===(6&(Tl=t))&&Va()}}function du(){Il=Pl.current,Ca(Pl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pa();break;case 3:Qi(),Ca(Na),Ca(Ta),ns();break;case 5:Yi(r);break;case 4:Qi();break;case 13:case 19:Ca(Xi);break;case 10:Ri(r.type._context);break;case 22:case 23:du()}n=n.return}if(Nl=e,Al=e=Pu(e.current,null),Ol=Il=t,jl=0,Ll=null,Ml=Fl=Dl=0,zl=$l=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Oi=null}return e}function fu(e,t){for(;;){var n=Al;try{if(ki(),rs.current=Js,us){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}us=!1}if(is=0,ls=os=ss=null,cs=!1,ds=0,kl.current=null,null===n||null===n.return){jl=1,Ll=t,Al=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&go(s,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){go(s,c,t),gu();break e}u=Error(i(426))}else if(ai&&1&l.mode){var v=mo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pi(lo(u,l));break e}}s=u=lo(u,l),4!==jl&&(jl=2),null===$l?$l=[s]:$l.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,fo(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,po(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=Js,null===e?Js:e}function gu(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Nl||0===(268435455&Dl)&&0===(268435455&Fl)||ou(Nl,Ol)}function mu(e,t){var n=Tl;Tl|=2;var r=pu();for(Nl===e&&Ol===t||(Bl=null,hu(e,t));;)try{vu();break}catch(a){fu(e,a)}if(ki(),Tl=n,Cl.current=r,null!==Al)throw Error(i(261));return Nl=null,Ol=0,jl}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!We();)bu(Al)}function bu(e){var t=_l(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,kl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zo(n,t,Il)))return void(Al=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return jl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===jl&&(jl=5)}function xu(e,t,n){var r=bt,a=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Kl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Nl&&(Al=Nl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Nu(tt,(function(){return Su(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Rl.transition,Rl.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,kl.current=null,function(e,t){if(ea=Gt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==r&&3!==h.nodeType||(u=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===a&&(l=o),f===s&&++d===r&&(u=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Gt=!1,Yo=t;null!==Yo;)if(e=(t=Yo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yo=e;else for(;null!==Yo;){t=Yo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:to(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Yo=e;break}Yo=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ta),Gt=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Qe(),Tl=l,bt=o,Rl.transition=s}else e.current=n;if(Zl&&(Zl=!1,Kl=e,Wl=a),s=e.pendingLanes,0===s&&(Hl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Gl)throw Gl=!1,e=ql,ql=null,e;0!==(1&Wl)&&0!==e.tag&&Su(),s=e.pendingLanes,0!==(1&s)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Va()}(e,t,n,r)}finally{Rl.transition=a,bt=r}return null}function Su(){if(null!==Kl){var e=wt(Wl),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Wl=0,0!==(6&Tl))throw Error(i(331));var a=Tl;for(Tl|=4,Yo=e.current;null!==Yo;){var s=Yo,o=s.child;if(0!==(16&Yo.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Yo=c;null!==Yo;){var d=Yo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Yo=h;else for(;null!==Yo;){var f=(d=Yo).sibling,p=d.return;if(il(d),d===c){Yo=null;break}if(null!==f){f.return=p,Yo=f;break}Yo=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Yo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Yo=o;else e:for(;null!==Yo;){if(0!==(2048&(s=Yo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Yo=y;break e}Yo=s.return}}var b=e.current;for(Yo=b;null!==Yo;){var w=(o=Yo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Yo=w;else e:for(o=b;null!==Yo;){if(0!==(2048&(l=Yo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Eu(l,l.return,S)}if(l===o){Yo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Yo=x;break e}Yo=l.return}}if(Tl=a,Va(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{bt=n,Rl.transition=t}}return!1}function _u(e,t,n){e=$i(e,t=fo(0,t=lo(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=$i(t,e=po(t,e=lo(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Ol&n)===n&&(4===jl||3===jl&&(130023424&Ol)===Ol&&500>Je()-Ul?hu(e,0):Ml|=n),ru(e,t)}function ku(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=ji(e,t))&&(vt(e,t,n),ru(e,n))}function Ru(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),ku(e,n)}function Nu(e,t){return Ze(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Au(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Iu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Lu(n.children,a,s,t);case E:o=8,a|=8;break;case C:return(e=Ou(12,n,t,2|a)).elementType=C,e.lanes=s,e;case N:return(e=Ou(13,n,t,a)).elementType=N,e.lanes=s,e;case A:return(e=Ou(19,n,t,a)).elementType=A,e.lanes=s,e;case P:return Du(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case R:o=9;break e;case T:o=11;break e;case O:o=14;break e;case I:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ou(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Lu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Mu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,a,i,s,o,l){return e=new $u(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ou(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Uu(e){if(!e)return Ra;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ia(n))return La(e,n,t)}return t}function Vu(e,t,n,r,a,i,s,o,l){return(e=zu(n,r,!0,e,0,i,0,o,l)).context=Uu(null),n=e.current,(i=Mi(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,$i(n,i,a),e.current.lanes=a,vt(e,a,r),ru(e,r),e}function Bu(e,t,n,r){var a=t.current,i=eu(),s=tu(a);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$i(a,t,s))&&(nu(e,a,s,i),zi(e,a,s)),s}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Na.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fi();break;case 5:Ji(t);break;case 1:Ia(t.type)&&Da(t);break;case 4:Wi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ka(Si,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ka(Xi,1&Xi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(ka(Xi,1&Xi.current),null!==(e=Go(e,t,n))?e.sibling:null);ka(Xi,1&Xi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ka(Xi,Xi.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Go(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ai&&0!==(1048576&t.flags)&&Xa(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var a=Oa(t,Ta.current);Ni(t,n),a=gs(null,t,r,e,a,n);var s=ms();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(r)?(s=!0,Da(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Di(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),wo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),a){case 0:t=ko(null,t,r,e,n);break e;case 1:t=Ro(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=So(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,ko(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ro(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(No(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Fi(e,t),Vi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ao(e,t,r,n,a=lo(Error(i(423)),t));break e}if(r!==a){t=Ao(e,t,r,n,a=lo(Error(i(424)),t));break e}for(ri=ua(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Go(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),Co(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Fo(e,t,n);case 4:return Wi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,ka(Si,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Na.current){t=Go(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Mi(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ti(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ti(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}wo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ni(t,n),r=r(a=Ai(a)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),So(e,t,r,a=to(r.type,a),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Bo(e,t),t.tag=1,Ia(r)?(e=!0,Da(t)):e=!1,Ni(t,n),io(t,r,a),oo(t,r,a,n),To(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 22:return Eo(e,t,n)}throw Error(i(156,t.tag))};var Zu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Wu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Xu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Gu(s);o.call(e)}}Bu(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Gu(s);i.call(e)}}var s=Vu(t,r,e,0,null,!1,0,"",Yu);return e._reactRootContainer=s,e[pa]=s.current,Vr(8===e.nodeType?e.parentNode:e),cu(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Gu(l);o.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=l,e[pa]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){Bu(t,l,n,r)})),l}(n,t,e,a,r);return Gu(s)}Wu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bu(e,t,null,null)},Wu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Bu(null,e,null,null)})),t[pa]=null}},Wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Je()),0===(6&Tl)&&(Vl=Je()+500,Va()))}break;case 13:cu((function(){var t=ji(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Hu(e,1)}},St=function(e){if(13===e.tag){var t=ji(e,134217728);if(null!==t)nu(t,e,134217728,eu());Hu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=ji(e,t);if(null!==n)nu(n,e,t,eu());Hu(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(i(90));Z(r),Y(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ne=cu;var ec={usingClientEntryPoint:!1,Events:[ba,wa,xa,ke,Re,uu]},tc={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{at=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(i(299));var n=!1,r="",a=Zu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(i(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=Zu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,a,0,s,o),e[pa]=t.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Wu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(i(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},367:(e,t,n)=>{"use strict";var r=n(766);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},766:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(306)},438:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},241:(e,t,n)=>{"use strict";var r=n(643),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:o.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},226:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,a)&&!E.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+T(l,0):i,x(s)?(a="",null!=e&&(a=e.replace(R,"$&/")+"/"),N(s,t,a,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(R,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",x(e))for(var u=0;u<e.length;u++){var c=i+T(o=e[u],u);l+=N(o,t,a,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=N(o=o.value,t,a,c=i+T(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return N(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},j={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},643:(e,t,n)=>{"use strict";e.exports=n(226)},507:(e,t,n)=>{"use strict";e.exports=n(241)},498:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,P(S);else{var t=r(c);null!==t&&j(x,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var i=f;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!N());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(u)&&a(u),w(n)}else a(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&j(x,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,C=null,k=-1,R=5,T=-1;function N(){return!(t.unstable_now()-T<R)}function A(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?_():(E=!1,C=null)}}else E=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,I=O.port2;O.port1.onmessage=A,_=function(){I.postMessage(null)}}else _=function(){v(A,0)};function P(e){C=e,E||(E=!0,_())}function j(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(m?(y(k),k=-1):m=!0,j(x,i-s))):(e.sortIndex=o,n(u,e),g||p||(g=!0,P(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},261:(e,t,n)=>{"use strict";e.exports=n(498)},333:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},887:(e,t,n)=>{"use strict";n.d(t,{Zr:()=>i});function r(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var r;const a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(a):a(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const a=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>a(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>a(e)(n)}}},i=(e,t)=>(n,i,s)=>{let o={storage:r((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1;const u=new Set,c=new Set;let d=o.storage;if(!d)return e((function(){console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...arguments)}),i,s);const h=()=>{const e=o.partialize({...i()});return d.setItem(o.name,{state:e,version:o.version})},f=s.setState;s.setState=(e,t)=>{f(e,t),h()};const p=e((function(){n(...arguments),h()}),i,s);let g;s.getInitialState=()=>p;const m=()=>{var e,t;if(!d)return;l=!1,u.forEach((e=>{var t;return e(null!=(t=i())?t:p)}));const r=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=i())?e:p))||void 0;return a(d.getItem.bind(d))(o.name).then((e=>{if(e){if("number"!==typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){const t=o.migrate(e.state,e.version);return t instanceof Promise?t.then((e=>[!0,e])):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[r,a]=e;if(g=o.merge(a,null!=(t=i())?t:p),n(g,!0),r)return h()})).then((()=>{null==r||r(g,void 0),g=i(),l=!0,c.forEach((e=>e(g)))})).catch((e=>{null==r||r(void 0,e)}))};return s.persist={setOptions:e=>{o={...o,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>l,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},o.skipHydration||m(),g||p}},469:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(643);const a=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"===typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!==typeof a||null===a)?a:Object.assign({},t,a),n.forEach((n=>n(t,e)))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(r,a,i);return i},i=e=>e;const s=e=>{const t=(e=>e?a(e):a)(e),n=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const n=r.useSyncExternalStore(e.subscribe,(()=>t(e.getState())),(()=>t(e.getInitialState())));return r.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},o=e=>e?s(e):s}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".65e21308.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(643),t=n(367),r=(n(438),"popstate");function a(){return d((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return l("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(iu){}}}function o(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?c(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function c(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=a,u=i.history,c="POP",d=null,f=p();function p(){return(u.state||{idx:null}).idx}function g(){c="POP";let e=p(),t=null==e?null:e-f;f=e,d&&d({action:c,location:v.location,delta:t})}function m(e){return h(e)}null==f&&(f=0,u.replaceState({...u.state,idx:f},""));let v={get action(){return c},get location(){return e(i,u)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(r,g),d=e,()=>{i.removeEventListener(r,g),d=null}},createHref:e=>t(i,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=l(v.location,e,t);n&&n(r,e),f=p()+1;let a=o(r,f),h=v.createHref(r);try{u.pushState(a,"",h)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;i.location.assign(h)}s&&d&&d({action:c,location:v.location,delta:1})},replace:function(e,t){c="REPLACE";let r=l(v.location,e,t);n&&n(r,e),f=p();let a=o(r,f),i=v.createHref(r);u.replaceState(a,"",i),s&&d&&d({action:c,location:v.location,delta:0})},go:e=>u.go(e)};return v}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),i(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let a=N(("string"===typeof t?c(t):t).pathname||"/",n);if(null==a)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=T(a);s=C(i[o],e,r)}return s}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(i(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=j([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,u,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:u})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of m(e.path))a(e,t,n);else a(e,t)})),t}function m(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=m(r.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,y=3,b=2,w=1,x=10,S=-2,_=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=S),t&&(r+=b),n.filter((e=>!_(e))).reduce(((e,t)=>e+(v.test(t)?y:""===t?w:x)),r)}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===i?t:t.slice(i.length)||"/",c=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(a,c.params),s.push({params:a,pathname:j([i,c.pathname]),pathnameBase:L(j([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=j([i,c.pathnameBase]))}return s}function k(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=R(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function I(e){let t=O(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function P(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=c(e):(r={...e},i(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?c(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:D(r),hash:F(a)}}(r,s),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}var j=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],z=(new Set($),["GET",...$]);new Set(z),Symbol("ResetLoaderData");var U=e.createContext(null);U.displayName="DataRouter";var V=e.createContext(null);V.displayName="DataRouterState";var B=e.createContext({isTransitioning:!1});B.displayName="ViewTransition";var G=e.createContext(new Map);G.displayName="Fetchers";var q=e.createContext(null);q.displayName="Await";var H=e.createContext(null);H.displayName="Navigation";var Z=e.createContext(null);Z.displayName="Location";var K=e.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var W=e.createContext(null);W.displayName="RouteError";function Q(){return null!=e.useContext(Z)}function J(){return i(Q(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(Z).location}var Y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X(t){e.useContext(H).static||e.useLayoutEffect(t)}function ee(){let{isDataRoute:t}=e.useContext(K);return t?function(){let{router:t}=ue("useNavigate"),n=de("useNavigate"),r=e.useRef(!1);X((()=>{r.current=!0}));let a=e.useCallback((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(r.current,Y),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...a}))}),[t,n]);return a}():function(){i(Q(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(U),{basename:n,navigator:r}=e.useContext(H),{matches:a}=e.useContext(K),{pathname:o}=J(),l=JSON.stringify(I(a)),u=e.useRef(!1);X((()=>{u.current=!0}));let c=e.useCallback((function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(u.current,Y),!u.current)return;if("number"===typeof e)return void r.go(e);let i=P(e,JSON.parse(l),o,"path"===a.relative);null==t&&"/"!==n&&(i.pathname="/"===i.pathname?n:j([n,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)}),[n,r,l,o,t]);return c}()}e.createContext(null);function te(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(K),{pathname:a}=J(),i=JSON.stringify(I(r));return e.useMemo((()=>P(t,JSON.parse(i),a,"path"===n)),[t,i,a,n])}function ne(t,n,r,a){i(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=e.useContext(H),{matches:u}=e.useContext(K),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",m=d&&d.route;{let e=m&&m.path||"";pe(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=J();if(n){let e="string"===typeof n?c(n):n;i("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let b=v.pathname||"/",w=b;if("/"!==g){let e=g.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!l&&r&&r.matches&&r.matches.length>0?r.matches:f(t,{pathname:w});s(m||null!=x,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),s(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=oe(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:j([g,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:j([g,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,r,a);return n&&S?e.createElement(Z.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function re(){let t=he(),n=M(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,o)}var ae=e.createElement(re,null),ie=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(K.Provider,{value:this.props.routeContext},e.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function se(t){let{routeContext:n,match:r,children:a}=t,i=e.useContext(U);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(K.Provider,{value:n},a)}function oe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let a=t,s=r?.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(r)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight(((t,i,u)=>{let c,d=!1,h=null,f=null;r&&(c=s&&i.route.id?s[i.route.id]:void 0,h=i.route.errorElement||ae,o&&(l<0&&0===u?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===u&&(d=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(a.slice(0,u+1)),g=()=>{let n;return n=c?h:d?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(se,{match:i,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?e.createElement(ie,{location:r.location,revalidation:r.revalidation,component:h,error:c,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(t){let n=e.useContext(U);return i(n,le(t)),n}function ce(t){let n=e.useContext(V);return i(n,le(t)),n}function de(t){let n=function(t){let n=e.useContext(K);return i(n,le(t)),n}(t),r=n.matches[n.matches.length-1];return i(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function he(){let t=e.useContext(W),n=ce("useRouteError"),r=de("useRouteError");return void 0!==t?t:n.errors?.[r]}var fe={};function pe(e,t,n){t||fe[e]||(fe[e]=!0,s(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)}));function ge(t){let{to:n,replace:r,state:a,relative:o}=t;i(Q(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext(H);s(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=e.useContext(K),{pathname:c}=J(),d=ee(),h=P(n,I(u),c,"path"===o),f=JSON.stringify(h);return e.useEffect((()=>{d(JSON.parse(f),{replace:r,state:a,relative:o})}),[d,f,o,r,a]),null}function me(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve(t){let{basename:n="/",children:r=null,location:a,navigationType:o="POP",navigator:l,static:u=!1}=t;i(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=e.useMemo((()=>({basename:d,navigator:l,static:u,future:{}})),[d,l,u]);"string"===typeof a&&(a=c(a));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:v="default"}=a,y=e.useMemo((()=>{let e=N(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:v},navigationType:o}}),[d,f,p,g,m,v,o]);return s(null!=y,`<Router basename="${d}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:e.createElement(H.Provider,{value:h},e.createElement(Z.Provider,{children:r,value:y}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}e.Component;function be(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,a)=>{if(!e.isValidElement(t))return;let s=[...n,a];if(t.type===e.Fragment)return void r.push.apply(r,be(t.props.children,s));i(t.type===me,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=be(t.props.children,s)),r.push(o)})),r}var we="get",xe="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||Ee.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xe}"`),null)}function ke(e,t){let n,r,a,i,s;if(Se(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?N(s,t):null,n=e.getAttribute("method")||we,a=Ce(e.getAttribute("enctype"))||xe,i=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?N(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||we,a=Ce(e.getAttribute("formenctype"))||Ce(s.getAttribute("enctype"))||xe,i=new FormData(s,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(iu){_e=!0}return _e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=we,r=null,a=xe,s=e}var o;return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}function Re(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Te(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ne(e){return null!=e&&"string"===typeof e.page}function Ae(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Oe(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ie(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a})).flat(1),[...new Set(r)];var r}function Pe(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,a)=>{if(t&&!Ne(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e}),[])}function je(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Le=new Set([100,101,204,205]);function De(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===N(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function Fe(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let a,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(M(n))return e.createElement(Me,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Me,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Me(t){let{title:n,renderScripts:r,isOutsideRemixApp:a,children:i}=t,{routeModules:s}=Be();return s.root?.Layout&&!a?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?e.createElement(Qe,null):null)))}function $e(e,t){return"lazy"===e.mode&&!0===t}function ze(){let t=e.useContext(U);return Re(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ue(){let t=e.useContext(V);return Re(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ve=e.createContext(void 0);function Be(){let t=e.useContext(Ve);return Re(t,"You must render this element inside a <HydratedRouter> element"),t}function Ge(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qe(e,t,n){if(n&&!We)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function He(t){let{page:n,...r}=t,{router:a}=ze(),i=e.useMemo((()=>f(a.routes,n,a.basename)),[a.routes,n,a.basename]);return i?e.createElement(Ke,{page:n,matches:i,...r}):null}function Ze(t){let{manifest:n,routeModules:r}=Be(),[a,i]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Pe((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Te(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ae).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||i(t)})),()=>{e=!0}}),[t,n,r]),a}function Ke(t){let{page:n,matches:r,...a}=t,i=J(),{manifest:s,routeModules:o}=Be(),{basename:l}=ze(),{loaderData:u,matches:c}=Ue(),d=e.useMemo((()=>Oe(n,r,c,s,i,"data")),[n,r,c,s,i]),h=e.useMemo((()=>Oe(n,r,c,s,i,"assets")),[n,r,c,s,i]),f=e.useMemo((()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!d.some((e=>e.route.id===n.route.id))&&n.route.id in u&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let a=De(n,l);return t&&e.size>0&&a.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[l,u,i,s,d,r,n,o]),p=e.useMemo((()=>Ie(h,s)),[h,s]),g=Ze(h);return e.createElement(e.Fragment,null,f.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...a}))),p.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...a}))),g.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Ve.displayName="FrameworkContext";var We=!1;function Qe(t){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:i,routeDiscovery:s,ssr:o}=Be(),{router:l,static:u,staticContext:c}=ze(),{matches:d}=Ue(),h=$e(s,o);i&&(i.didRenderScripts=!0);let p=qe(d,null,a);e.useEffect((()=>{0}),[]);let g=e.useMemo((()=>{let a=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=u?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(n.url)}`};\n${p.map(((e,t)=>{let r=`route${t}`,a=n.routes[e.route.id];Re(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:u}=a,c=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:u,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(u)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,a=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach((e=>{let n=f(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let o=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:o,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:je(a),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:je(i),type:"module",async:!0}))}),[]),m=We?[]:(n.entry.imports.concat(Ie(p,n,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let y="object"===typeof n.sri?n.sri:{};return We?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,h?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:y[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:y[n.entry.module],suppressHydrationWarning:!0}),m.map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:y[n],suppressHydrationWarning:!0}))),g)}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ye&&(window.__reactRouterVersion="7.6.0")}catch(iu){}function Xe(t){let{basename:n,children:r,window:i}=t,s=e.useRef();null==s.current&&(s.current=a({window:i,v5Compat:!0}));let o=s.current,[l,u]=e.useState({action:o.action,location:o.location}),c=e.useCallback((t=>{e.startTransition((()=>u(t)))}),[u]);return e.useLayoutEffect((()=>o.listen(c)),[o,c]),e.createElement(ve,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=e.forwardRef((function(t,n){let r,{onClick:a,discover:o="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:g,preventScrollReset:m,viewTransition:v,...y}=t,{basename:b}=e.useContext(H),w="string"===typeof g&&et.test(g),x=!1;if("string"===typeof g&&w&&(r=g,Ye))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=N(t.pathname,b);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:x=!0}catch(iu){s(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=e.useContext(H),{hash:s,pathname:o,search:l}=te(t,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:j([r,o])),a.createHref({pathname:u,search:l,hash:s})}(g,{relative:c}),[_,E,C]=function(t,n){let r=e.useContext(Ve),[a,i]=e.useState(!1),[s,o]=e.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(a){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return r?"intent"!==t?[s,f,{}]:[s,f,{onFocus:Ge(l,p),onBlur:Ge(u,g),onMouseEnter:Ge(c,p),onMouseLeave:Ge(d,g),onTouchStart:Ge(h,p)}]:[!1,f,{}]}(l,y),k=function(t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=J(),d=te(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(t,{replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o})}}),[c,l,d,r,a,n,t,i,s,o])}(g,{replace:h,state:f,target:p,preventScrollReset:m,relative:c,viewTransition:v});let R=e.createElement("a",{...y,...C,href:r||S,onClick:x||d?a:function(e){a&&a(e),e.defaultPrevented||k(e)},ref:Je(n,E),target:p,"data-discover":w||"render"!==o?void 0:"true"});return _&&!w?e.createElement(e.Fragment,null,R,e.createElement(He,{page:S})):R}));tt.displayName="Link",e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:c,children:d,...h}=t,f=te(u,{relative:h.relative}),p=J(),g=e.useContext(V),{navigator:m,basename:v}=e.useContext(H),y=null!=g&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(B);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=at("useViewTransitionState"),s=te(t,{relative:n.relative});if(!r.isTransitioning)return!1;let o=N(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=N(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=k(s.pathname,l)||null!=k(s.pathname,o)}(f)&&!0===c,b=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&v&&(x=N(x,v)||x);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let _,E=w===b||!o&&w.startsWith(b)&&"/"===w.charAt(S),C=null!=x&&(x===b||!o&&x.startsWith(b)&&"/"===x.charAt(b.length)),R={isActive:E,isPending:C,isTransitioning:y},T=E?r:void 0;_="function"===typeof s?s(R):[s,E?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(R):l;return e.createElement(tt,{...h,"aria-current":T,className:_,ref:n,style:A,to:u,viewTransition:c},"function"===typeof d?d(R):d)})).displayName="NavLink";var nt=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:l,state:c,method:d=we,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m,...v}=t,y=ot(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(H),a=e.useContext(K);i(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...te(t||".",{relative:n})},l=J();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:j([r,o.pathname]));return u(o)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",x="string"===typeof h&&et.test(h);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:m})},...v,"data-discover":x||"render"!==r?void 0:"true"})}));function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(t){let n=e.useContext(U);return i(n,rt(t)),n}nt.displayName="Form";var it=0,st=()=>`__${String(++it)}__`;function ot(){let{router:t}=at("useSubmit"),{basename:n}=e.useContext(H),r=de("useRouteId");return e.useCallback((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:u}=ke(e,n);if(!1===a.navigate){let e=a.fetcherKey||st();await t.fetch(e,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[t,n,r])}var lt="undefined"===typeof window||"Deno"in globalThis;function ut(){}function ct(e){return"number"===typeof e&&e>=0&&e!==1/0}function dt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ht(e,t){return"function"===typeof e?e(t):e}function ft(e,t){return"function"===typeof e?e(t):e}function pt(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s)if(r){if(t.queryHash!==mt(s,t.options))return!1}else if(!yt(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof o||t.isStale()===o)&&((!a||a===t.state.fetchStatus)&&!(i&&!i(t)))}function gt(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(vt(t.options.mutationKey)!==vt(i))return!1}else if(!yt(t.options.mutationKey,i))return!1}return(!r||t.state.status===r)&&!(a&&!a(t))}function mt(e,t){return(t?.queryKeyHashFn||vt)(e)}function vt(e){return JSON.stringify(e,((e,t)=>St(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function yt(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every((n=>yt(e[n],t[n]))))}function bt(e,t){if(e===t)return e;const n=xt(e)&&xt(t);if(n||St(e)&&St(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),s=i.length,o=n?[]:{};let l=0;for(let u=0;u<s;u++){const a=n?u:i[u];(!n&&r.includes(a)||n)&&void 0===e[a]&&void 0===t[a]?(o[a]=void 0,l++):(o[a]=bt(e[a],t[a]),o[a]===e[a]&&void 0!==e[a]&&l++)}return a===s&&l===a?e:o}return t}function wt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function xt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function St(e){if(!_t(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!_t(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function _t(e){return"[object Object]"===Object.prototype.toString.call(e)}function Et(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?bt(e,t):t}function Ct(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Rt=Symbol();function Tt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Rt?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function Nt(e,t){return"function"===typeof e?e(...t):!!e}var At=e=>setTimeout(e,0);var Ot=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},a=At;const i=r=>{t?e.push(r):a((()=>{n(r)}))};return{batch:i=>{let s;t++;try{s=i()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i((()=>{e(...n)}))},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{a=e}}}(),It=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pt=new class extends It{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!lt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},jt=new class extends It{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!lt&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function Lt(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function Dt(e){return Math.min(1e3*2**e,3e4)}function Ft(e){return"online"!==(e??"online")||jt.isOnline()}var Mt=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function $t(e){return e instanceof Mt}function zt(e){let t,n=!1,r=0,a=!1;const i=Lt(),s=()=>Pt.isFocused()&&("always"===e.networkMode||jt.isOnline())&&e.canRun(),o=()=>Ft(e.networkMode)&&e.canRun(),l=n=>{a||(a=!0,e.onSuccess?.(n),t?.(),i.resolve(n))},u=n=>{a||(a=!0,e.onError?.(n),t?.(),i.reject(n))},c=()=>new Promise((n=>{t=e=>{(a||s())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,a||e.onContinue?.()})),d=()=>{if(a)return;let t;const i=0===r?e.initialPromise:void 0;try{t=i??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch((t=>{if(a)return;const i=e.retry??(lt?0:3),o=e.retryDelay??Dt,l="function"===typeof o?o(r,t):o,h=!0===i||"number"===typeof i&&r<i||"function"===typeof i&&i(r,t);var f;!n&&h?(r++,e.onFail?.(r,t),(f=l,new Promise((e=>{setTimeout(e,f)}))).then((()=>s()?void 0:c())).then((()=>{n?u(t):d()}))):u(t)}))};return{promise:i,cancel:t=>{a||(u(new Mt(t)),e.abort?.())},continue:()=>(t?.(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?d():c().then(d),i)}}var Ut=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ct(this.gcTime)&&(this.#a=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lt?1/0:3e5))}clearGcTimeout(){this.#a&&(clearTimeout(this.#a),this.#a=void 0)}},Vt=class extends Ut{#i;#s;#o;#l;#u;#c;#d;constructor(e){super(),this.#d=!1,this.#c=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#l=e.client,this.#o=this.#l.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#i=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#i,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){this.options={...this.#c,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(e,t){const n=Et(this.state.data,e,this.options);return this.#h({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#u?.promise;return this.#u?.cancel(e),t?t.then(ut).catch(ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#i)}isActive(){return this.observers.some((e=>!1!==ft(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!dt(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#u&&(this.#d?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#d=!0,n.signal)})},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:()=>{const e=Tt(this.options,t),n={client:this.#l,queryKey:this.queryKey,meta:this.meta};return r(n),this.#d=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(a),this.options.behavior?.onFetch(a,this),this.#s=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===a.fetchOptions?.meta||this.#h({type:"fetch",meta:a.fetchOptions?.meta});const i=e=>{$t(e)&&e.silent||this.#h({type:"error",error:e}),$t(e)||(this.#o.config.onError?.(e,this),this.#o.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#u=zt({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void i(t)}this.#o.config.onSuccess?.(e,this),this.#o.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else i(new Error(`${this.queryHash} data is undefined`))},onError:i,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#u.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Bt(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return $t(n)&&n.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Ot.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#o.notify({query:this,type:"updated",action:e})}))}};function Bt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ft(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Gt=class extends It{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#f=new Map}#f;build(e,t,n){const r=t.queryKey,a=t.queryHash??mt(r,t);let i=this.get(a);return i||(i=new Vt({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#f.has(e.queryHash)||(this.#f.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#f.get(e.queryHash);t&&(e.destroy(),t===e&&this.#f.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ot.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#f.get(e)}getAll(){return[...this.#f.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>pt(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>pt(e,t))):t}notify(e){Ot.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Ot.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Ot.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},qt=class extends Ut{#p;#g;#u;constructor(e){super(),this.mutationId=e.mutationId,this.#g=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter((t=>t!==e)),this.scheduleGc(),this.#g.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#g.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#h({type:"continue"})};this.#u=zt({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#g.canRun(this)});const n="pending"===this.state.status,r=!this.#u.canStart();try{if(n)t();else{this.#h({type:"pending",variables:e,isPaused:r}),await(this.#g.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:r})}const a=await this.#u.start();return await(this.#g.config.onSuccess?.(a,e,this.state.context,this)),await(this.options.onSuccess?.(a,e,this.state.context)),await(this.#g.config.onSettled?.(a,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(a,null,e,this.state.context)),this.#h({type:"success",data:a}),a}catch(a){try{throw await(this.#g.config.onError?.(a,e,this.state.context,this)),await(this.options.onError?.(a,e,this.state.context)),await(this.#g.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,a,e,this.state.context)),a}finally{this.#h({type:"error",error:a})}}finally{this.#g.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Ot.batch((()=>{this.#p.forEach((t=>{t.onMutationUpdate(e)})),this.#g.notify({mutation:this,type:"updated",action:e})}))}};var Ht=class extends It{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#m=new Set,this.#v=new Map,this.#y=0}#m;#v;#y;build(e,t,n){const r=new qt({mutationCache:this,mutationId:++this.#y,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#m.add(e);const t=Zt(e);if("string"===typeof t){const n=this.#v.get(t);n?n.push(e):this.#v.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#m.delete(e)){const t=Zt(e);if("string"===typeof t){const n=this.#v.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#v.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Zt(e);if("string"===typeof t){const n=this.#v.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=Zt(e);if("string"===typeof t){const n=this.#v.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){Ot.batch((()=>{this.#m.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#m.clear(),this.#v.clear()}))}getAll(){return Array.from(this.#m)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>gt(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>gt(e,t)))}notify(e){Ot.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Ot.batch((()=>Promise.all(e.map((e=>e.continue().catch(ut))))))}};function Zt(e){return e.options.scope?.id}function Kt(e){return{onFetch:(t,n)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let n=!1;const u=Tt(t.options,t.fetchOptions),c=async(e,r,a)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const i={client:t.client,queryKey:t.queryKey,pageParam:r,direction:a?"backward":"forward",meta:t.options.meta};var s;s=i,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const o=await u(i),{maxPages:l}=t.options,c=a?kt:Ct;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,r,l)}};if(a&&i.length){const e="backward"===a,t={pages:i,pageParams:s},n=(e?Qt:Wt)(r,t);o=await c(t,n,e)}else{const t=e??i.length;do{const e=0===l?s[0]??r.initialPageParam:Wt(r,o);if(l>0&&null==e)break;o=await c(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Wt(e,t){let{pages:n,pageParams:r}=t;const a=n.length-1;return n.length>0?e.getNextPageParam(n[a],n,r[a],r):void 0}function Qt(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}function Jt(e,t){return!!t&&null!=Wt(e,t)}function Yt(e,t){return!(!t||!e.getPreviousPageParam)&&null!=Qt(e,t)}var Xt=n(507),en=e.createContext(void 0),tn=t=>{const n=e.useContext(en);if(t)return t;if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},nn=t=>{let{client:n,children:r}=t;return e.useEffect((()=>(n.mount(),()=>{n.unmount()})),[n]),(0,Xt.jsx)(en.Provider,{value:n,children:r})},rn=n(333),an=n.n(rn);const sn={"fx-modal-transition":{base:"transition-opacity transition-visibility duration-300 ease-in-out",variants:{visible:"opacity-100 visible",hidden:"opacity-0 invisible"}},"fx-fade":{base:"transition-opacity transition-transform duration-300 ease-in-out",variants:{in:"opacity-100 translate-y-0",out:"opacity-0 -translate-y-5"}},"fx-mobile-touch":{base:"transition-transform duration-100 ease-in-out",variants:{active:"scale-97",focus:"outline-focus outline-offset-2"}},"fx-slide":{base:"transition-transform duration-300 ease-in-out",variants:{inRight:"translate-x-0",outRight:"translate-x-full",inLeft:"translate-x-0",outLeft:"-translate-x-full",inTop:"translate-y-0",outTop:"-translate-y-full",inBottom:"translate-y-0",outBottom:"translate-y-full"}},"animate-container":{base:"overflow-hidden transition-all duration-300 ease-in-out",variants:{expanded:"max-h-screen opacity-100",collapsed:"max-h-0 opacity-0"}}},on={"modal-overlay":{base:"fixed inset-0 bg-secondary-900/50 flex items-center justify-center z-50",variants:{fixed:"fixed",absolute:"absolute"}},"modal-container":{base:"bg-white shadow-xl rounded-lg overflow-hidden",variants:{default:"w-full max-w-md",wide:"w-full max-w-3xl",fullWidth:"w-full max-w-5xl",small:"w-full max-w-sm"},sizes:{auto:"",sm:"max-h-[70vh]",md:"max-h-[80vh]",lg:"max-h-[90vh]",xl:"max-h-screen"}},"modal-header":{base:"p-4 border-b border-secondary-200 flex items-center justify-between",variants:{default:"",compact:"p-2",withBg:"bg-secondary-50"}},"modal-title":{base:"text-lg font-semibold text-secondary-900",variants:{default:"",center:"text-center w-full",large:"text-xl"}},"modal-close-button":{base:"p-2 rounded-full text-secondary-500 hover:bg-secondary-100 hover:text-secondary-700 transition-colors",variants:{default:"",primary:"text-primary-500 hover:bg-primary-50 hover:text-primary-700",contrast:"bg-white"}},"modal-body":{base:"p-4 overflow-y-auto",variants:{default:"",compact:"p-2",spacious:"p-6",noPadding:"p-0"},sizes:{auto:"",sm:"max-h-[300px]",md:"max-h-[400px]",lg:"max-h-[500px]",xl:"max-h-[600px]"}},"modal-footer":{base:"p-4 border-t border-secondary-200 flex items-center justify-end space-x-2",variants:{default:"",compact:"p-2",spaceBetween:"justify-between",center:"justify-center",withBg:"bg-secondary-50"}}},ln={...{button:{base:"font-medium rounded-lg transition-all duration-200 inline-flex items-center justify-center \n           relative overflow-hidden shadow-sm \n           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2\n           active:shadow-inner active:translate-y-0.5",variants:{primary:"bg-gradient-to-br from-primary-500 to-primary-600 text-white\n                hover:from-primary-600 hover:to-primary-700 hover:shadow-md\n                active:from-primary-700 active:to-primary-800\n                focus-visible:ring-primary-300",secondary:"bg-white text-secondary-700 border border-secondary-300 \n                  hover:bg-secondary-50 hover:shadow-md hover:text-secondary-800\n                  active:bg-secondary-100 active:text-secondary-900\n                  focus-visible:ring-secondary-200",success:"bg-gradient-to-br from-success-500 to-success-600 text-white \n                hover:from-success-600 hover:to-success-700 hover:shadow-md\n                active:from-success-700 active:to-success-800\n                focus-visible:ring-success-300",danger:"bg-gradient-to-br from-error-500 to-error-600 text-white \n              hover:from-error-600 hover:to-error-700 hover:shadow-md\n              active:from-error-700 active:to-error-800\n              focus-visible:ring-error-300",warning:"bg-gradient-to-br from-warning-400 to-warning-500 text-black\n                hover:from-warning-500 hover:to-warning-600 hover:shadow-md\n                active:from-warning-600 active:to-warning-700\n                focus-visible:ring-warning-300",ghost:"bg-transparent text-primary-600 \n              hover:bg-primary-50 hover:text-primary-700\n              active:bg-primary-100 active:text-primary-800\n              focus-visible:ring-primary-200",outline:"bg-transparent border-2 border-current text-primary-600 \n                hover:bg-primary-50 hover:text-primary-700\n                active:bg-primary-100 active:text-primary-800\n                focus-visible:ring-primary-200",link:"bg-transparent text-primary-600 underline p-0 shadow-none\n             hover:text-primary-700 hover:bg-transparent\n             active:text-primary-800\n             focus-visible:ring-primary-200 focus-visible:ring-offset-0"},sizes:{xs:"text-xs px-2.5 py-1.5 rounded",sm:"text-sm px-3 py-1.5 rounded-md",md:"text-sm px-4 py-2 rounded-md leading-4",lg:"text-base px-5 py-2.5 rounded-lg",xl:"text-lg px-6 py-3 rounded-xl"},states:{disabled:"opacity-50 cursor-not-allowed pointer-events-none shadow-none border-opacity-50",loading:"opacity-80 cursor-wait",active:"translate-y-0.5 shadow-inner"}},"button-group":{base:"inline-flex",variants:{attached:"inline-flex [&>*:not(:first-child)]:-ml-px \n                [&>*:not(:first-child)]:rounded-l-none \n                [&>*:not(:last-child)]:rounded-r-none\n                [&>*:focus-visible]:relative [&>*:focus-visible]:z-10",spaced:"inline-flex space-x-2"}}},...{input:{base:"w-full border rounded-lg px-3 py-2 \n           transition-all duration-200\n           bg-white shadow-sm\n           placeholder:text-secondary-400\n           appearance-none focus:outline-none",variants:{primary:"border-secondary-300 text-secondary-900\n                hover:border-secondary-400 hover:shadow\n                focus:border-primary-500 focus:ring-2 focus:ring-primary-100 focus:shadow-md",success:"border-success-300 text-secondary-900\n                hover:border-success-400 hover:shadow\n                focus:border-success-500 focus:ring-2 focus:ring-success-100 focus:shadow-md",error:"border-error-300 text-secondary-900\n              hover:border-error-400 hover:shadow\n              focus:border-error-500 focus:ring-2 focus:ring-error-100 focus:shadow-md"},sizes:{sm:"px-2.5 py-1.5 text-sm rounded",md:"px-3 py-2 text-sm rounded-md",lg:"px-4 py-2.5 text-base rounded-lg",xl:"px-5 py-3 text-lg rounded-xl"},states:{disabled:"bg-secondary-50 cursor-not-allowed text-secondary-400 shadow-none border-secondary-200",readonly:"bg-secondary-50 cursor-default shadow-none",error:"border-error-500 focus:ring-error-200",focus:"ring-2 ring-primary-100 shadow-md",hover:"shadow-lg"}},select:{base:"w-full appearance-none bg-white border rounded-lg px-3 py-2 pr-8\n           transition-all duration-200\n           shadow-sm\n           bg-no-repeat bg-right\n           focus:outline-none\n           bg-[url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")]\n           bg-[length:1em_1em]\n           pr-[2.5em]",variants:{primary:"border-secondary-300 text-secondary-900\n                hover:border-secondary-400 hover:shadow\n                focus:border-primary-500 focus:ring-2 focus:ring-primary-100 focus:shadow-md",success:"border-success-300 text-secondary-900\n                hover:border-success-400 hover:shadow\n                focus:border-success-500 focus:ring-2 focus:ring-success-100 focus:shadow-md",error:"border-error-300 text-secondary-900\n              hover:border-error-400 hover:shadow\n              focus:border-error-500 focus:ring-2 focus:ring-error-100 focus:shadow-md"},sizes:{sm:"px-2.5 py-1.5 text-sm rounded",md:"px-3 py-2 text-sm rounded-md",lg:"px-4 py-2.5 text-base rounded-lg",xl:"px-5 py-3 text-lg rounded-xl"},states:{disabled:"bg-secondary-50 cursor-not-allowed text-secondary-400 shadow-none border-secondary-200",readonly:"bg-secondary-50 cursor-default shadow-none",error:"border-error-500 focus:ring-error-200"}},textarea:{base:"w-full min-h-[100px] border rounded-lg px-3 py-2 \n           transition-all duration-200\n           bg-white shadow-sm\n           placeholder:text-secondary-400\n           appearance-none focus:outline-none resize-vertical",variants:{primary:"border-secondary-300 text-secondary-900\n                hover:border-secondary-400 hover:shadow\n                focus:border-primary-500 focus:ring-2 focus:ring-primary-100 focus:shadow-md",success:"border-success-300 text-secondary-900\n                hover:border-success-400 hover:shadow\n                focus:border-success-500 focus:ring-2 focus:ring-success-100 focus:shadow-md",error:"border-error-300 text-secondary-900\n              hover:border-error-400 hover:shadow\n              focus:border-error-500 focus:ring-2 focus:ring-error-100 focus:shadow-md"},sizes:{sm:"px-2.5 py-2 text-sm rounded",md:"px-3 py-2.5 text-sm rounded-md",lg:"px-4 py-3 text-base rounded-lg",xl:"px-5 py-3.5 text-lg rounded-xl"},states:{disabled:"bg-secondary-50 cursor-not-allowed text-secondary-400 shadow-none border-secondary-200",readonly:"bg-secondary-50 cursor-default shadow-none",error:"border-error-500 focus:ring-error-200"}},checkbox:{base:"h-4 w-4 rounded border-secondary-300 \n           shadow-sm\n           transition-colors duration-200\n           focus:outline-none focus:ring-2 focus:ring-offset-2",variants:{primary:"text-primary-600 focus:ring-primary-500 checked:border-primary-600 checked:bg-primary-600",success:"text-success-600 focus:ring-success-500 checked:border-success-600 checked:bg-success-600",error:"text-error-600 focus:ring-error-500 checked:border-error-600 checked:bg-error-600"},states:{disabled:"opacity-50 cursor-not-allowed bg-secondary-100",error:"border-error-500 focus:ring-error-300"}},"checkbox-group":{base:"flex items-center space-x-2",variants:{vertical:"flex-col items-start space-y-2 space-x-0"},states:{disabled:"opacity-60"}},"checkbox-label":{base:"ml-2 block text-sm font-medium text-secondary-700 select-none transition-colors duration-200",states:{disabled:"text-secondary-400",error:"text-error-600"}},radio:{base:"h-4 w-4 border-secondary-300 \n           shadow-sm\n           transition-colors duration-200\n           focus:outline-none focus:ring-2 focus:ring-offset-2",variants:{primary:"text-primary-600 focus:ring-primary-500 checked:border-primary-600 checked:bg-primary-600",success:"text-success-600 focus:ring-success-500 checked:border-success-600 checked:bg-success-600",error:"text-error-600 focus:ring-error-500 checked:border-error-600 checked:bg-error-600"},states:{disabled:"opacity-50 cursor-not-allowed bg-secondary-100",error:"border-error-500 focus:ring-error-300"}},"radio-label":{base:"ml-2 block text-sm font-medium text-secondary-700 select-none transition-colors duration-200",states:{disabled:"text-secondary-400",error:"text-error-600"}}},...{badge:{base:"inline-flex items-center justify-center font-medium rounded-full px-2.5 py-0.5\n           text-xs leading-4 whitespace-nowrap\n           transition-all duration-200\n           shadow-sm",variants:{primary:"bg-primary-100 text-primary-800 border border-primary-200 hover:bg-primary-200",secondary:"bg-secondary-100 text-secondary-800 border border-secondary-200 hover:bg-secondary-200",success:"bg-success-100 text-success-800 border border-success-200 hover:bg-success-200",error:"bg-error-100 text-error-800 border border-error-200 hover:bg-error-200",warning:"bg-warning-100 text-warning-800 border border-warning-200 hover:bg-warning-200",info:"bg-blue-100 text-blue-800 border border-blue-200 hover:bg-blue-200","primary-gradient":"bg-gradient-to-r from-primary-50 to-primary-100 text-primary-800 border border-primary-200","success-gradient":"bg-gradient-to-r from-success-50 to-success-100 text-success-800 border border-success-200","error-gradient":"bg-gradient-to-r from-error-50 to-error-100 text-error-800 border border-error-200"},states:{pulse:"animate-pulse"},sizes:{xs:"px-1.5 py-0.5 text-[0.625rem]",sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1 text-base"}},alert:{base:"relative border rounded-lg p-4 my-2 text-sm\n           transition-all duration-200\n           shadow-sm\n           flex items-start",variants:{info:"bg-gradient-to-r from-blue-50 to-blue-50/70 border-l-4 border-blue-500 text-blue-800\n            hover:shadow-md",success:"bg-gradient-to-r from-success-50 to-success-50/70 border-l-4 border-success-500 text-success-800\n               hover:shadow-md",warning:"bg-gradient-to-r from-warning-50 to-warning-50/70 border-l-4 border-warning-500 text-warning-800\n               hover:shadow-md",error:"bg-gradient-to-r from-error-50 to-error-50/70 border-l-4 border-error-500 text-error-800\n             hover:shadow-md"},sizes:{sm:"p-3 text-xs rounded-md",md:"p-4 text-sm rounded-lg",lg:"p-5 text-base rounded-xl"}},"list-container":{base:"space-y-2",variants:{compact:"space-y-1"}},"list-item":{base:"px-4 py-2 hover:bg-secondary-50 flex items-center justify-between",variants:{compact:"px-2 py-1 text-sm"},states:{active:"bg-secondary-100 font-semibold"}},toast:{base:"rounded-lg shadow-lg border-l-4 p-4 max-w-sm w-full \n           pointer-events-auto\n           transform transition-all duration-300 ease-in-out\n           translate-y-0 opacity-100\n           hover:shadow-xl",variants:{info:"bg-gradient-to-r from-blue-50 to-blue-50/80 border-blue-500 text-blue-800",success:"bg-gradient-to-r from-success-50 to-success-50/80 border-success-500 text-success-800",warning:"bg-gradient-to-r from-warning-50 to-warning-50/80 border-warning-500 text-warning-800",error:"bg-gradient-to-r from-error-50 to-error-50/80 border-error-500 text-error-800"}},"toast-container":{base:"fixed z-50 p-4 flex flex-col space-y-2 pointer-events-none",variants:{topRight:"top-0 right-0",topLeft:"top-0 left-0",bottomRight:"bottom-0 right-0",bottomLeft:"bottom-0 left-0",topCenter:"top-0 left-1/2 transform -translate-x-1/2",bottomCenter:"bottom-0 left-1/2 transform -translate-x-1/2"}}},...{card:{base:"bg-white rounded-lg overflow-hidden \n           transition-all duration-200\n           will-change-transform",variants:{default:"border border-secondary-200 shadow-sm \n                hover:shadow-md hover:border-secondary-300\n                hover:-translate-y-0.5",elevated:"shadow-md \n                hover:shadow-lg hover:-translate-y-1\n                active:shadow-sm active:translate-y-0",flat:"border border-secondary-200\n            hover:border-secondary-300\n            hover:bg-secondary-50/50",interactive:"border border-secondary-200 shadow-sm \n                    hover:shadow-md hover:border-primary-200 hover:-translate-y-0.5\n                    cursor-pointer active:shadow-inner active:translate-y-0.5","gradient-border":"border-2 border-transparent bg-white\n                          shadow-sm\n                          hover:shadow-md\n                          bg-gradient-to-r from-primary-500 to-secondary-500\n                          [mask:linear-gradient(#fff_0_0)_padding-box,linear-gradient(#fff_0_0)] \n                          [mask-composite:exclude]"},sizes:{sm:"p-3 rounded",md:"p-5 rounded-md",lg:"p-7 rounded-lg"}},"card-header":{base:"px-5 py-4 border-b border-secondary-200 bg-gradient-to-r from-secondary-50 to-secondary-100/50 font-semibold"},"card-body":{base:"p-5"},"card-footer":{base:"px-5 py-4 border-t border-secondary-200 bg-gradient-to-r from-secondary-50 to-secondary-100/50"},"card-section":{base:"p-5"},modal:{base:"fixed inset-0 z-50 flex items-center justify-center\n           transition-opacity duration-300 ease-out",variants:{default:"bg-black bg-opacity-50",blur:"backdrop-blur-sm bg-black bg-opacity-30"}},"modal-content":{base:"bg-white rounded-lg shadow-2xl max-h-[90vh] overflow-auto\n           transform transition-all duration-300 ease-out\n           scale-100 opacity-100 translate-y-0",sizes:{sm:"w-full max-w-md",md:"w-full max-w-lg",lg:"w-full max-w-2xl",xl:"w-full max-w-4xl",full:"w-full max-w-full h-full rounded-none"}},"modal-header":{base:"px-6 py-4 border-b border-secondary-200 bg-gradient-to-r from-secondary-50 to-white flex justify-between items-center"},"modal-body":{base:"p-6"},"modal-footer":{base:"px-6 py-4 border-t border-secondary-200 bg-gradient-to-r from-secondary-50 to-white flex justify-end space-x-2"},container:{base:"mx-auto px-4 sm:px-6 lg:px-8",sizes:{sm:"max-w-4xl",md:"max-w-5xl",lg:"max-w-6xl",xl:"max-w-7xl",full:"max-w-full"}},grid:{base:"grid",variants:{cols1:"grid-cols-1",cols2:"grid-cols-1 md:grid-cols-2",cols3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",cols4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",auto:"grid-cols-auto"}},flex:{base:"flex",variants:{default:"items-center",center:"items-center justify-center",start:"items-start justify-start",end:"items-center justify-end",between:"items-center justify-between",around:"items-center justify-around",column:"flex-col","column-start":"flex-col items-start justify-start"},sizes:{sm:"gap-1",md:"gap-2",lg:"gap-4"}},"flex-group":{base:"flex",variants:{default:"items-center",center:"items-center justify-center",start:"items-start justify-start",end:"items-center justify-end",between:"items-center justify-between",around:"items-center justify-around",column:"flex-col","column-start":"flex-col items-start justify-start",compact:"items-center space-x-2",loose:"items-center space-x-4"},sizes:{sm:"gap-1",md:"gap-2",lg:"gap-4"}},"form-container":{base:"w-full",variants:{default:"space-y-4",compact:"space-y-2",loose:"space-y-6",card:"bg-white rounded-lg shadow-sm p-6 border border-secondary-200 space-y-4"},sizes:{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full"}},divider:{base:"border-t my-6",variants:{light:"border-secondary-100",default:"border-secondary-200",dark:"border-secondary-300",gradient:"h-px bg-gradient-to-r from-secondary-200 via-secondary-300 to-secondary-200 border-0"}},"section-header":{base:"font-semibold mb-token text-headings-secondary"}},...{tab:{base:"px-4 py-2 text-sm font-medium\n           transition-all duration-200",variants:{underline:"border-b-2 border-transparent hover:border-secondary-300 hover:text-secondary-700\n                 active:border-primary-500 active:text-primary-600",pill:"rounded-full hover:bg-secondary-100 hover:text-secondary-700\n            active:bg-primary-100 active:text-primary-700",card:"rounded-t-lg hover:bg-secondary-50 hover:text-secondary-700\n            active:bg-white active:text-primary-600 active:border-t active:border-l active:border-r active:border-secondary-200"},states:{active:{underline:"border-b-2 border-primary-500 text-primary-600",pill:"bg-primary-100 text-primary-700 shadow-sm",card:"bg-white text-primary-600 border-t border-l border-r border-secondary-200 shadow-sm"}}},"tab-panel":{base:"p-4 transition-all duration-300 transform opacity-100 translate-y-0",variants:{card:"bg-white border border-secondary-200 rounded-b-lg p-4 shadow-sm"}},"tab-panels":{base:"mt-2"},sidebar:{base:"flex flex-col h-full bg-white border-r border-secondary-200\n           transition-all duration-300\n           shadow-sm",sizes:{sm:"w-64",md:"w-72",lg:"w-80"}},"sidebar-header":{base:"p-4 border-b border-secondary-200 font-semibold bg-gradient-to-r from-secondary-50 to-white"},"sidebar-content":{base:"flex-1 overflow-y-auto py-4"},"sidebar-footer":{base:"p-4 border-t border-secondary-200 bg-secondary-50"},navbar:{base:"bg-white border-b border-secondary-200 shadow-sm\n           transition-all duration-200",variants:{primary:"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-md",secondary:"bg-gradient-to-r from-secondary-700 to-secondary-800 text-white shadow-md",transparent:"bg-transparent border-transparent"}},"navbar-container":{base:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},breadcrumb:{base:"flex items-center space-x-2 text-sm"},"breadcrumb-item":{base:"text-secondary-500 hover:text-secondary-700 transition-colors duration-200",states:{active:"text-secondary-900 font-medium"}},"breadcrumb-separator":{base:"text-secondary-300"},pagination:{base:"flex items-center justify-center space-x-1"},"pagination-item":{base:"inline-flex items-center justify-center w-8 h-8 rounded-md text-sm font-medium \n           transition-colors duration-200",variants:{default:"text-secondary-600 hover:bg-secondary-100"},states:{active:"bg-primary-100 text-primary-700",disabled:"text-secondary-300 cursor-not-allowed"}},dropdown:{base:"absolute z-10 mt-1 rounded-md bg-white shadow-lg \n           ring-1 ring-black ring-opacity-5 divide-y divide-secondary-100 \n           focus:outline-none\n           transform transition-all duration-200 ease-out\n           origin-top-right opacity-100 scale-100",sizes:{sm:"w-48",md:"w-56",lg:"w-64"}},"dropdown-item":{base:"block px-4 py-2 text-sm text-secondary-700 \n           transition-colors duration-150\n           hover:bg-secondary-100 hover:text-secondary-900\n           focus:bg-secondary-100 focus:text-secondary-900 focus:outline-none",variants:{active:"bg-primary-100 text-primary-900",disabled:"text-secondary-400 pointer-events-none",danger:"text-error-600 hover:bg-error-50 hover:text-error-700"}}},...{"table-container":{base:"overflow-x-auto rounded-lg shadow-sm bg-white border border-secondary-100"},table:{base:"min-w-full divide-y divide-secondary-200",variants:{striped:"min-w-full divide-y divide-secondary-200 [&>tbody>*:nth-child(odd)]:bg-secondary-50",bordered:"min-w-full divide-y divide-secondary-200 border-collapse border border-secondary-200 [&>*>tr>*]:border [&>*>tr>*]:border-secondary-200","hover-rows":"min-w-full divide-y divide-secondary-200 [&>tbody>tr:hover]:bg-primary-50/50"}},"table-header":{base:"bg-gradient-to-r from-secondary-50 to-secondary-100/50 \n           text-left text-xs font-medium text-secondary-500 uppercase tracking-wider py-3 px-4\n           transition-colors duration-200\n           first:rounded-tl-lg last:rounded-tr-lg"},"table-cell":{base:"px-4 py-3 whitespace-nowrap text-sm text-secondary-900 transition-colors duration-200",variants:{"with-hover":"hover:bg-secondary-50 cursor-pointer"}},"table-row":{base:"transition-colors duration-150 even:bg-secondary-50/30",variants:{"with-hover":"hover:bg-primary-50/50 cursor-pointer"},states:{active:"bg-primary-50",selected:"bg-primary-50/70 hover:bg-primary-50"}},"table-pagination":{base:"flex items-center justify-between border-t border-secondary-200 px-4 py-3 sm:px-6 bg-secondary-50"},"table-page-button":{base:"relative inline-flex items-center px-2 py-2 text-sm font-medium rounded-md\n           transition-all duration-200\n           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-1",variants:{active:"bg-primary-50 text-primary-600 cursor-default",default:"text-secondary-500 hover:bg-secondary-100 active:bg-secondary-200",disabled:"text-secondary-300 cursor-not-allowed"}},"table-sort-header":{base:"group inline-flex items-center"},"table-sort-icon":{base:"w-4 h-4 ml-1 transition-transform duration-200",variants:{asc:"text-secondary-500",desc:"text-secondary-500 transform rotate-180",none:"text-secondary-300 opacity-0 group-hover:opacity-100"}}},...{dropdown:{base:"absolute z-10 mt-1 w-56 rounded-md bg-white shadow-lg \n           ring-1 ring-black ring-opacity-5 divide-y divide-secondary-100 \n           focus:outline-none\n           transform transition-all duration-200 ease-out\n           origin-top-right opacity-100 scale-100"},"dropdown-item":{base:"block px-4 py-2 text-sm text-secondary-700 \n           transition-colors duration-150\n           hover:bg-secondary-100 hover:text-secondary-900\n           focus:bg-secondary-100 focus:text-secondary-900 focus:outline-none",variants:{active:"bg-primary-100 text-primary-900",disabled:"text-secondary-400 pointer-events-none",danger:"text-error-600 hover:bg-error-50 hover:text-error-700"}},"loader-container":{base:"flex justify-center items-center py-4",variants:{primary:"text-primary-500",secondary:"text-secondary-500",light:"text-white",dark:"text-secondary-800"}},"loader-svg":{base:"animate-spin",sizes:{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}},"loader-circle":{base:"opacity-25"},"loader-path":{base:"opacity-75"},"loader-text":{base:"ml-3 text-secondary-700 text-sm animate-pulse"},pill:{base:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-medium\n           transition-all duration-200\n           shadow-sm",variants:{primary:"bg-primary-100 text-primary-800 hover:bg-primary-200",secondary:"bg-secondary-100 text-secondary-800 hover:bg-secondary-200",success:"bg-success-100 text-success-800 hover:bg-success-200",error:"bg-error-100 text-error-800 hover:bg-error-200",warning:"bg-warning-100 text-warning-800 hover:bg-warning-200","primary-gradient":"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow hover:shadow-md","success-gradient":"bg-gradient-to-r from-success-500 to-success-600 text-white shadow hover:shadow-md"}},"form-group":{base:"flex flex-col space-y-1.5 mb-4\n           transition-all duration-200",variants:{default:"",inline:"sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",grid:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"}},"form-label":{base:"block text-sm font-medium text-secondary-700 transition-colors duration-200",states:{required:'after:content-["*"] after:ml-0.5 after:text-error-500'}},"form-error":{base:"text-error-600 text-xs mt-1 transition-all duration-200 opacity-100"},"fx-no-outline":{base:"outline-none !important shadow-none !important"},"fx-gradient-text":{base:"bg-clip-text text-transparent bg-gradient-to-r",variants:{primary:"from-primary-500 to-primary-700",success:"from-success-500 to-success-700",error:"from-error-500 to-error-700",rainbow:"from-primary-500 via-warning-500 to-error-500"}},"fx-glass":{base:"backdrop-blur-md bg-white/70 border border-white/20",variants:{dark:"backdrop-blur-md bg-secondary-900/70 border border-secondary-700/20 text-white"}},"fx-shadow-glow":{base:"transition-all duration-300",variants:{primary:"shadow-[0_0_15px_rgba(22,163,74,0.5)]",success:"shadow-[0_0_15px_rgba(5,150,105,0.5)]",error:"shadow-[0_0_15px_rgba(220,38,38,0.5)]"}},"fx-sliding-gradient":{base:"relative overflow-hidden before:absolute before:inset-0 \n           before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent\n           before:translate-x-[-100%] hover:before:translate-x-[100%] before:transition-transform before:duration-1000\n           before:z-10 before:pointer-events-none"},indicator:{base:"inline-block rounded-full",variants:{primary:"bg-white",success:"bg-success-100",warning:"bg-warning-300",error:"bg-error-300"},sizes:{sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"},states:{active:"animate-pulse",static:""}},text:{variants:{accent:"text-accent"}},spacing:{variants:{small:"mb-2",section:"mb-token"}}},...sn,...on};function un(e,t,n,r,a){const i=ln[e];if(!i)return console.warn(`Nu exist\u0103 configura\u021bie pentru tipul de component\u0103: ${e}`),"";const s=[];if(i.base&&s.push(i.base),t&&i.variants&&i.variants[t]&&s.push(i.variants[t]),n&&i.sizes&&i.sizes[n]&&s.push(i.sizes[n]),r&&i.states&&i.states[r]){const e=i.states[r];if("string"===typeof e)s.push(e);else if("object"===typeof e&&t){const n=e[t];n&&s.push(n)}}return a&&a.length>0&&a.forEach((e=>{const n=`fx-${e}`;ln[n]&&ln[n].base&&(s.push(ln[n].base),t&&ln[n].variants&&ln[n].variants[t]&&s.push(ln[n].variants[t]))})),s.filter(Boolean).join(" ")}const cn=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={withShadow:"shadow-glow",withGradient:"gradient-text",withTranslate:"sliding-gradient",withGlowFocus:"focus-glow",withFloatingLabel:"floating-label",withHoverEffect:"hover-scale",withSmoothTransition:"smooth-transition",withMinimalistStyle:"minimalist",withRound:"rounded-full",withFadeIn:"fadeIn",withSlideIn:"slideIn",withTransition:"smooth-transition",withBorderAnimation:"border-animation",withScaleEffect:"scale-effect",withPulse:"pulse-animation",withGlow:"badge-glow",withTextHighlight:"text-highlight",withAccentBorder:"accent-border"},r=(0,e.useMemo)((()=>Object.entries(t).filter((e=>{let[t,n]=e;return Boolean(n)})).map((e=>{let[t]=e;return n[t]})).filter(Boolean)),[t]);return{getClasses:(e,t,n,a)=>un(e,t,n,a,r),hasEffect:e=>Boolean(t[e]),effectsList:r}};e.Component;class dn{static getOrCompute(e,t,n){const r=this.cache.get(e),a=Date.now();if(r&&(!n||r.expiry>a))return r.value;try{const r=t(),i=n?a+n:Number.MAX_SAFE_INTEGER;return r instanceof Promise?r.then((t=>(this.cache.set(e,{value:t,expiry:i}),t))):(this.cache.set(e,{value:r,expiry:i}),r)}catch(i){throw console.error("[CacheRegistry] Eroare la calculul valorii:",i),i}}static invalidate(e){return this.cache.delete(e)}static invalidateByPrefix(e){let t=0;for(const n of this.cache.keys())n.startsWith(e)&&(this.cache.delete(n),t++);return t}static cleanup(){let e=0;const t=Date.now();for(const[n,r]of this.cache.entries())r.expiry<=t&&(this.cache.delete(n),e++);return e}static reset(){this.cache.clear()}}dn.cache=new Map;function hn(e,t){return async function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(null===t||void 0===t||!t.cacheKey)return e(...r);const i="function"===typeof t.cacheKey?t.cacheKey(...r):`${t.cacheKey}:${JSON.stringify(r)}`;try{return dn.getOrCompute(i,(async()=>{const n=await e(...r);return t.transformer?t.transformer(n):n}),t.maxAge)}catch(s){return console.error("[ReactQueryUtils] Cache error:",s),e(...r)}}}const fn={TRANSACTIONS:"/transactions"};function pn(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach((e=>{let[t,r]=e;void 0!==r&&null!==r&&n.searchParams.append(t,String(r))})),n.toString()}new class{constructor(){this.getTransactionById=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];const i=t.keyGenerator?t.keyGenerator(...r):`memoized:${e.name}:${JSON.stringify(r)}`;return dn.getOrCompute(i,(()=>e(...r)),t.maxAge)}}((async e=>{const t=await fetch(`${fn.TRANSACTIONS}/${e}`);if(!t.ok)throw new Error(`Eroare la ob\u021binerea tranzac\u021biei: ${t.statusText}`);return t.json()}),{maxAge:3e5,keyGenerator:e=>`transaction:${e}`}),this.getTransactions=hn((async e=>{const t=pn(fn.TRANSACTIONS,e),n=await fetch(t);if(!n.ok)throw new Error(`Eroare la ob\u021binerea tranzac\u021biilor: ${n.statusText}`);return n.json()}),{cacheKey:e=>`transactions:list:${JSON.stringify(e||{})}`,maxAge:3e5}),this.getTransactionsPaginated=async e=>{const t=pn(fn.TRANSACTIONS,{...e,paginated:!0}),n=await fetch(t);if(!n.ok)throw new Error(`Eroare la ob\u021binerea tranzac\u021biilor paginate: ${n.statusText}`);return n.json()},this.getMonthlyTransactions=hn((async e=>{const{month:t,year:n,...r}=e,a=new Date(n,t-1,1),i=new Date(n,t,0),s=pn(fn.TRANSACTIONS,{...r,startDate:a.toISOString().split("T")[0],endDate:i.toISOString().split("T")[0],includeAdjacentDays:e.includeAdjacentDays||!1}),o=await fetch(s);if(!o.ok)throw new Error(`Eroare la ob\u021binerea tranzac\u021biilor lunare: ${o.statusText}`);return o.json()}),{cacheKey:e=>`transactions:monthly:${e.month}:${e.year}:${JSON.stringify(e)}`,maxAge:3e5}),this.createTransaction=async e=>{const t=await fetch(fn.TRANSACTIONS,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Eroare la crearea tranzac\u021biei: ${t.statusText}`);return t.json()},this.updateTransaction=async(e,t)=>{const n=await fetch(`${fn.TRANSACTIONS}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Eroare la actualizarea tranzac\u021biei: ${n.statusText}`);return n.json()},this.deleteTransaction=async e=>{const t=await fetch(`${fn.TRANSACTIONS}/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Eroare la \u0219tergerea tranzac\u021biei: ${t.statusText}`)},this.exportTransactions=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";const n=pn(`${fn.TRANSACTIONS}/export`,{...e,format:t}),r=await fetch(n);if(!r.ok)throw new Error(`Eroare la exportul tranzac\u021biilor: ${r.statusText}`);return r.blob()},this.importTransactions=async e=>{const t=new FormData;t.append("file",e);const n=await fetch(`${fn.TRANSACTIONS}/import`,{method:"POST",body:t});if(!n.ok)throw new Error(`Eroare la importul tranzac\u021biilor: ${n.statusText}`);return n.json()}}};const gn=10,mn=0,vn="date",yn={type:"",amount:"",category:"",subcategory:"",date:"",recurring:!1,frequency:""};let bn=function(e){return e.INCOME="INCOME",e.EXPENSE="EXPENSE",e.SAVING="SAVING",e}({}),wn=function(e){return e.PLANNED="PLANNED",e.COMPLETED="COMPLETED",e}({}),xn=function(e){return e.NONE="NONE",e.DAILY="DAILY",e.WEEKLY="WEEKLY",e.MONTHLY="MONTHLY",e.YEARLY="YEARLY",e}({}),Sn=function(e){return e.INCOME="INCOME",e.EXPENSE="EXPENSE",e.SAVING="SAVING",e}({});var _n=n(16);const En="Tip",Cn="Sum\u0103",kn="Categorie",Rn="Subcategorie",Tn="Dat\u0103",Nn="Recurent",An="Frecven\u021b\u0103",On="ad\u0103ugare tranzac\u021bie",In="Descriere",Pn="Email",jn="Parol\u0103",Ln="Confirm\u0103 parola",Dn="De la data:",Fn="P\xe2n\u0103 la data:",Mn="Suma minim\u0103:",$n="Suma maxim\u0103:",zn="Tranzac\u021bii",Un="Grid Lunar",Vn="Op\u021biuni",Bn="Alege",Gn="Introdu suma",qn="Adaug\u0103 o descriere (op\u021bional)",Hn="Adaug\u0103 subcategorie nou\u0103",Zn="Caut\u0103...",Kn="Suma minim\u0103",Wn="Suma maxim\u0103",Qn={RENAME:"Redenume\u0219te",ADD:"Adaug\u0103",CANCEL:"Anuleaz\u0103",DONE:"Gata",EDIT:"Editeaz\u0103",DELETE:"\u0218terge",NEXT_PAGE:"\xcenainte",PREV_PAGE:"\xcenapoi",ADD_SUBCATEGORY:"Adaug\u0103 subcategorie",MANAGE_CATEGORIES:"Gestionare categorii",LOGIN:"Autentificare",REGISTER:"Creaz\u0103 cont",LOADING:"Se \xeencarc\u0103...",RESET_FILTERS:"Reseteaz\u0103 filtre",RESET_ALL_FILTERS:"Reseteaz\u0103 toate"},Jn={HEADERS:{TYPE:"Tip",AMOUNT:"Sum\u0103",CURRENCY:"Moned\u0103",CATEGORY:"Categorie",SUBCATEGORY:"Subcategorie",DATE:"Dat\u0103",RECURRING:"Recurent",FREQUENCY:"Frecven\u021b\u0103"},EMPTY:"Nicio tranzac\u021bie",LOADING:"Se \xeencarc\u0103...",LOADING_MORE:"Se \xeencarc\u0103 mai multe tranzac\u021bii...",PAGE_INFO:"Pagina {current} din {total}",SHOWING_INFO:"Se afi\u0219eaz\u0103 {shown} din {total} tranzac\u021bii",BOOL:{YES:"Da",NO:"Nu"},NO_TRANSACTIONS:"Nu exist\u0103 tranzac\u021bii pentru criteriile selectate. \xcencerca\u021bi s\u0103 modifica\u021bi filtrele sau ad\u0103uga\u021bi o tranzac\u021bie nou\u0103.",NO_SUBCATEGORIES:"Nu exist\u0103 tranzac\u021bii pentru aceast\u0103 categorie"},Yn="Se \xeencarc\u0103...",Xn={HEADERS:{LUNA:"Luna",VENITURI:"Venituri",CHELTUIELI:"Cheltuieli",ECONOMII:"Economii",SOLD:"Sold",CATEGORII:"Categorii",TOTAL:"Total",ACTIUNI:"Ac\u021biuni",ZI:"Zi",SUMA:"Suma",TIP:"Tip",DATA:"Data",DESCRIERE:"Descriere",RECURENT:"Recurent",FRECVENTA:"Frecven\u021b\u0103"},DAYS_IN_MONTH:[31,28,31,30,31,30,31,31,30,31,30,31],NO_DATA:"Nu exist\u0103 date disponibile",LOADING:"Se \xeencarc\u0103 datele...",PROMPTS:{ENTER_AMOUNT:"Introduce\u021bi suma:",SELECT_CATEGORY:"Selecta\u021bi o categorie",SELECT_SUBCATEGORY:"Selecta\u021bi o subcategorie",SELECT_DAY:"Selecta\u021bi ziua",ENTER_DESCRIPTION:"Introduce\u021bi o descriere (op\u021bional)"},ACTIONS:{ADD_SUBCATEGORY:"Adaug\u0103 subcategorie",EDIT_SUBCATEGORY:"Editeaz\u0103 subcategorie",DELETE_SUBCATEGORY:"\u0218terge subcategorie",ADD_TRANSACTION:"Adaug\u0103 tranzac\u021bie",EDIT_TRANSACTION:"Editeaz\u0103 tranzac\u021bie",DELETE_TRANSACTION:"\u0218terge tranzac\u021bie",EXPAND_ALL:"Extinde toate categoriile",COLLAPSE_ALL:"Restr\xe2nge toate categoriile",SAVE_CHANGES:"Salveaz\u0103 modific\u0103rile",CANCEL:"Anuleaz\u0103",CONFIRM:"Confirm\u0103",CLOSE:"\xcenchide"},TABLE_CONTROLS:{EXPAND_ALL:"Extinde toate categoriile",COLLAPSE_ALL:"Colapseaz\u0103 toate categoriile",VIRTUAL_TABLE:"Tabel optimizat",LEGACY_TABLE:"Tabel clasic",VERSION:"Versiune"}},er={TYPE:[{value:bn.INCOME,label:"Venit"},{value:bn.EXPENSE,label:"Cheltuial\u0103"},{value:bn.SAVING,label:"Economisire"}],CATEGORY:[{value:Sn.INCOME,label:"Venituri"},{value:Sn.EXPENSE,label:"Cheltuieli"},{value:Sn.SAVING,label:"Economii"}],FREQUENCY:[{value:xn.DAILY,label:"Zilnic"},{value:xn.WEEKLY,label:"S\u0103pt\u0103m\xe2nal"},{value:xn.MONTHLY,label:"Lunar"},{value:xn.YEARLY,label:"Anual"}]},tr="Op\u021biuni",nr="Gestionare categorii",rr="Personaliza\u021bi categoriile \u0219i subcategoriile pentru a se potrivi nevoilor dvs. specifice de bugetare.",ar="Gestionare categorii",ir="Op\u021biuni de afi\u0219are",sr="Export date",or="Set\u0103ri Cont",lr="Deconecteaz\u0103-te de la contul t\u0103u.",ur="Logout",cr="\xcen cur\xe2nd",dr="Trebuie s\u0103 fi\u021bi autentificat pentru a accesa aceast\u0103 pagin\u0103.",hr={TITLE:"Gestionare Subcategorii",CATEGORIES_SECTION_TITLE:"Categorii",SUBCATEGORIES_SECTION_TITLE:"Subcategorii pentru",CUSTOM_BADGE:"custom",RENAME_BUTTON:"Redenume\u0219te",DELETE_BUTTON:"\u0218terge",ADD_PLACEHOLDER:"Adaug\u0103 subcategorie nou\u0103",ADD_BUTTON:"Adaug\u0103",NO_SELECTION:"Selecteaz\u0103 o categorie pentru a vedea \u0219i edita subcategoriile.",DELETE_CONFIRMATION_TITLE:"Confirmare \u0219tergere",DELETE_CONFIRMATION_TEXT:"E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi subcategoria {subcat} din {cat}?",DELETE_WARNING:"Aten\u021bie: Exist\u0103 {count} tranzac\u021bii care folosesc aceast\u0103 subcategorie.",CONFIRM_DELETE_BUTTON:"Confirm\u0103 \u0219tergerea",CANCEL_BUTTON:"Anuleaz\u0103"},fr={TITLE:"Filtre",SHOW_ADVANCED:"Filtre avansate",HIDE_ADVANCED:"Ascunde filtre avansate",NO_FILTERS:"Nu exist\u0103 filtre active",DATE_RANGE:"Interval date",AMOUNT_RANGE:"Interval sume",TEXT_SEARCH:"C\u0103utare text"},pr="custom",gr="Selecteaz\u0103 o categorie pentru a vedea \u0219i edita subcategoriile.",mr="Nu exist\u0103 tranzac\u021bii pentru criteriile selectate. \xcencerca\u021bi s\u0103 modifica\u021bi filtrele sau ad\u0103uga\u021bi o tranzac\u021bie nou\u0103.",vr="Nu exist\u0103 tranzac\u021bii pentru aceast\u0103 categorie";var yr,br;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(yr||(yr={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(br||(br={}));const wr=yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xr=e=>{switch(typeof e){case"undefined":return wr.undefined;case"string":return wr.string;case"number":return isNaN(e)?wr.nan:wr.number;case"boolean":return wr.boolean;case"function":return wr.function;case"bigint":return wr.bigint;case"symbol":return wr.symbol;case"object":return Array.isArray(e)?wr.array:null===e?wr.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?wr.promise:"undefined"!==typeof Map&&e instanceof Map?wr.map:"undefined"!==typeof Set&&e instanceof Set?wr.set:"undefined"!==typeof Date&&e instanceof Date?wr.date:wr.object;default:return wr.unknown}},Sr=yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _r extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof _r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yr.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}_r.create=e=>new _r(e);const Er=(e,t)=>{let n;switch(e.code){case Sr.invalid_type:n=e.received===wr.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Sr.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,yr.jsonStringifyReplacer)}`;break;case Sr.unrecognized_keys:n=`Unrecognized key(s) in object: ${yr.joinValues(e.keys,", ")}`;break;case Sr.invalid_union:n="Invalid input";break;case Sr.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${yr.joinValues(e.options)}`;break;case Sr.invalid_enum_value:n=`Invalid enum value. Expected ${yr.joinValues(e.options)}, received '${e.received}'`;break;case Sr.invalid_arguments:n="Invalid function arguments";break;case Sr.invalid_return_type:n="Invalid function return type";break;case Sr.invalid_date:n="Invalid date";break;case Sr.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:yr.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Sr.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Sr.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Sr.custom:n="Invalid input";break;case Sr.invalid_intersection_types:n="Intersection results could not be merged";break;case Sr.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Sr.not_finite:n="Number must be finite";break;default:n=t.defaultError,yr.assertNever(e)}return{message:n}};let Cr=Er;function kr(){return Cr}const Rr=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let o="";const l=r.filter((e=>!!e)).slice().reverse();for(const u of l)o=u(s,{data:t,defaultError:o}).message;return{...a,path:i,message:o}};function Tr(e,t){const n=kr(),r=Rr({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Er?void 0:Er].filter((e=>!!e))});e.common.issues.push(r)}class Nr{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Ar;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return Nr.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return Ar;if("aborted"===a.status)return Ar;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const Ar=Object.freeze({status:"aborted"}),Or=e=>({status:"dirty",value:e}),Ir=e=>({status:"valid",value:e}),Pr=e=>"aborted"===e.status,jr=e=>"dirty"===e.status,Lr=e=>"valid"===e.status,Dr=e=>"undefined"!==typeof Promise&&e instanceof Promise;function Fr(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Mr(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}var $r,zr,Ur;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}($r||($r={}));class Vr{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Br=(e,t)=>{if(Lr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new _r(e.common.issues);return this._error=t,this._error}}};function Gr(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var i,s;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!==o&&void 0!==o?o:a.defaultError}:"undefined"===typeof a.data?{message:null!==(i=null!==o&&void 0!==o?o:r)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(s=null!==o&&void 0!==o?o:n)&&void 0!==s?s:a.defaultError}},description:a}}class qr{get description(){return this._def.description}_getType(e){return xr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Nr,ctx:{common:e.parent.common,data:e.data,parsedType:xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Dr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xr(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Br(r,a)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xr(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return Lr(t)?{value:t.value}:{issues:r.common.issues}}catch(a){(null===(n=null===(t=null===a||void 0===a?void 0:a.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>Lr(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xr(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(Dr(r)?r:Promise.resolve(r));return Br(n,a)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:Sr.custom,...n(t)});return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new qa({schema:this,typeName:ai.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Ha.create(this,this._def)}nullable(){return Za.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ka.create(this)}promise(){return Ga.create(this,this._def)}or(e){return Na.create([this,e],this._def)}and(e){return Pa.create(this,e,this._def)}transform(e){return new qa({...Gr(this._def),schema:this,typeName:ai.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Ka({...Gr(this._def),innerType:this,defaultValue:t,typeName:ai.ZodDefault})}brand(){return new Ya({typeName:ai.ZodBranded,type:this,...Gr(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Wa({...Gr(this._def),innerType:this,catchValue:t,typeName:ai.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Xa.create(this,e)}readonly(){return ei.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Hr=/^c[^\s-]{8,}$/i,Zr=/^[0-9a-z]+$/,Kr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Wr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qr=/^[a-z0-9_-]{21}$/i,Jr=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Yr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let ea;const ta=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,na=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ra=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aa=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ia=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sa=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oa="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",la=new RegExp(`^${oa}$`);function ua(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ca(e){let t=`${oa}T${ua(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function da(e,t){if(!Jr.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return"object"===typeof a&&null!==a&&(!(!a.typ||!a.alg)&&(!t||a.alg===t))}catch(n){return!1}}function ha(e,t){return!("v4"!==t&&t||!na.test(e))||!("v6"!==t&&t||!aa.test(e))}class fa extends qr{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==wr.string){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.string,received:t.parsedType}),Ar}const t=new Nr;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const r=e.data.length>s.value,a=e.data.length<s.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?Tr(n,{code:Sr.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Tr(n,{code:Sr.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)Xr.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"email",code:Sr.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)ea||(ea=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ea.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"emoji",code:Sr.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)Wr.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"uuid",code:Sr.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)Qr.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"nanoid",code:Sr.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)Hr.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"cuid",code:Sr.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)Zr.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"cuid2",code:Sr.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)Kr.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"ulid",code:Sr.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(i){n=this._getOrReturnCtx(e,n),Tr(n,{validation:"url",code:Sr.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"regex",code:Sr.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){ca(s).test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else if("date"===s.kind){la.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.invalid_string,validation:"date",message:s.message}),t.dirty())}else if("time"===s.kind){new RegExp(`^${ua(s)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.invalid_string,validation:"time",message:s.message}),t.dirty())}else"duration"===s.kind?Yr.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"duration",code:Sr.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?(r=e.data,("v4"!==(a=s.version)&&a||!ta.test(r))&&("v6"!==a&&a||!ra.test(r))&&(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"ip",code:Sr.invalid_string,message:s.message}),t.dirty())):"jwt"===s.kind?da(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"jwt",code:Sr.invalid_string,message:s.message}),t.dirty()):"cidr"===s.kind?ha(e.data,s.version)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"cidr",code:Sr.invalid_string,message:s.message}),t.dirty()):"base64"===s.kind?ia.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"base64",code:Sr.invalid_string,message:s.message}),t.dirty()):"base64url"===s.kind?sa.test(e.data)||(n=this._getOrReturnCtx(e,n),Tr(n,{validation:"base64url",code:Sr.invalid_string,message:s.message}),t.dirty()):yr.assertNever(s);var r,a;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:Sr.invalid_string,...$r.errToObj(n)})}_addCheck(e){return new fa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$r.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$r.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$r.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$r.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$r.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$r.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$r.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$r.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$r.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$r.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$r.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$r.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$r.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...$r.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...$r.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...$r.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...$r.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...$r.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...$r.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...$r.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...$r.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...$r.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...$r.errToObj(t)})}nonempty(e){return this.min(1,$r.errToObj(e))}trim(){return new fa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function pa(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}fa.create=e=>{var t;return new fa({checks:[],typeName:ai.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Gr(e)})};class ga extends qr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==wr.number){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.number,received:t.parsedType}),Ar}let t;const n=new Nr;for(const r of this._def.checks)if("int"===r.kind)yr.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Tr(t,{code:Sr.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Tr(t,{code:Sr.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Tr(t,{code:Sr.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==pa(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Tr(t,{code:Sr.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Tr(t,{code:Sr.not_finite,message:r.message}),n.dirty()):yr.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,$r.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$r.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$r.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$r.toString(t))}setLimit(e,t,n,r){return new ga({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:$r.toString(r)}]})}_addCheck(e){return new ga({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$r.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$r.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$r.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$r.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$r.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$r.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:$r.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$r.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$r.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&yr.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ga.create=e=>new ga({checks:[],typeName:ai.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Gr(e)});class ma extends qr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==wr.bigint)return this._getInvalidInput(e);let t;const n=new Nr;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),Tr(t,{code:Sr.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),Tr(t,{code:Sr.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Tr(t,{code:Sr.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):yr.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.bigint,received:t.parsedType}),Ar}gte(e,t){return this.setLimit("min",e,!0,$r.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$r.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$r.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$r.toString(t))}setLimit(e,t,n,r){return new ma({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:$r.toString(r)}]})}_addCheck(e){return new ma({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$r.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$r.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$r.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$r.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$r.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ma.create=e=>{var t;return new ma({checks:[],typeName:ai.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Gr(e)})};class va extends qr{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==wr.boolean){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.boolean,received:t.parsedType}),Ar}return Ir(e.data)}}va.create=e=>new va({typeName:ai.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Gr(e)});class ya extends qr{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==wr.date){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.date,received:t.parsedType}),Ar}if(isNaN(e.data.getTime())){return Tr(this._getOrReturnCtx(e),{code:Sr.invalid_date}),Ar}const t=new Nr;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Tr(n,{code:Sr.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):yr.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ya({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:$r.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:$r.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ya.create=e=>new ya({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:ai.ZodDate,...Gr(e)});class ba extends qr{_parse(e){if(this._getType(e)!==wr.symbol){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.symbol,received:t.parsedType}),Ar}return Ir(e.data)}}ba.create=e=>new ba({typeName:ai.ZodSymbol,...Gr(e)});class wa extends qr{_parse(e){if(this._getType(e)!==wr.undefined){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.undefined,received:t.parsedType}),Ar}return Ir(e.data)}}wa.create=e=>new wa({typeName:ai.ZodUndefined,...Gr(e)});class xa extends qr{_parse(e){if(this._getType(e)!==wr.null){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.null,received:t.parsedType}),Ar}return Ir(e.data)}}xa.create=e=>new xa({typeName:ai.ZodNull,...Gr(e)});class Sa extends qr{constructor(){super(...arguments),this._any=!0}_parse(e){return Ir(e.data)}}Sa.create=e=>new Sa({typeName:ai.ZodAny,...Gr(e)});class _a extends qr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ir(e.data)}}_a.create=e=>new _a({typeName:ai.ZodUnknown,...Gr(e)});class Ea extends qr{_parse(e){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.never,received:t.parsedType}),Ar}}Ea.create=e=>new Ea({typeName:ai.ZodNever,...Gr(e)});class Ca extends qr{_parse(e){if(this._getType(e)!==wr.undefined){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.void,received:t.parsedType}),Ar}return Ir(e.data)}}Ca.create=e=>new Ca({typeName:ai.ZodVoid,...Gr(e)});class ka extends qr{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==wr.array)return Tr(t,{code:Sr.invalid_type,expected:wr.array,received:t.parsedType}),Ar;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(Tr(t,{code:e?Sr.too_big:Sr.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Tr(t,{code:Sr.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Tr(t,{code:Sr.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Vr(t,e,t.path,n))))).then((e=>Nr.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new Vr(t,e,t.path,n))));return Nr.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new ka({...this._def,minLength:{value:e,message:$r.toString(t)}})}max(e,t){return new ka({...this._def,maxLength:{value:e,message:$r.toString(t)}})}length(e,t){return new ka({...this._def,exactLength:{value:e,message:$r.toString(t)}})}nonempty(e){return this.min(1,e)}}function Ra(e){if(e instanceof Ta){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ha.create(Ra(r))}return new Ta({...e._def,shape:()=>t})}return e instanceof ka?new ka({...e._def,type:Ra(e.element)}):e instanceof Ha?Ha.create(Ra(e.unwrap())):e instanceof Za?Za.create(Ra(e.unwrap())):e instanceof ja?ja.create(e.items.map((e=>Ra(e)))):e}ka.create=(e,t)=>new ka({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ai.ZodArray,...Gr(t)});class Ta extends qr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=yr.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==wr.object){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.object,received:t.parsedType}),Ar}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof Ea&&"strip"===this._def.unknownKeys))for(const o in n.data)a.includes(o)||i.push(o);const s=[];for(const o of a){const e=r[o],t=n.data[o];s.push({key:{status:"valid",value:o},value:e._parse(new Vr(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof Ea){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(Tr(n,{code:Sr.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new Vr(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Nr.mergeObjectSync(t,e))):Nr.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return $r.errToObj,new Ta({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,i,s;const o=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=$r.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new Ta({...this._def,unknownKeys:"strip"})}passthrough(){return new Ta({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ta({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ta({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ai.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ta({...this._def,catchall:e})}pick(e){const t={};return yr.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Ta({...this._def,shape:()=>t})}omit(e){const t={};return yr.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Ta({...this._def,shape:()=>t})}deepPartial(){return Ra(this)}partial(e){const t={};return yr.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Ta({...this._def,shape:()=>t})}required(e){const t={};return yr.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Ha;)e=e._def.innerType;t[n]=e}})),new Ta({...this._def,shape:()=>t})}keyof(){return Ua(yr.objectKeys(this.shape))}}Ta.create=(e,t)=>new Ta({shape:()=>e,unknownKeys:"strip",catchall:Ea.create(),typeName:ai.ZodObject,...Gr(t)}),Ta.strictCreate=(e,t)=>new Ta({shape:()=>e,unknownKeys:"strict",catchall:Ea.create(),typeName:ai.ZodObject,...Gr(t)}),Ta.lazycreate=(e,t)=>new Ta({shape:e,unknownKeys:"strip",catchall:Ea.create(),typeName:ai.ZodObject,...Gr(t)});class Na extends qr{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new _r(e.ctx.common.issues)));return Tr(t,{code:Sr.invalid_union,unionErrors:n}),Ar}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new _r(e)));return Tr(t,{code:Sr.invalid_union,unionErrors:a}),Ar}}get options(){return this._def.options}}Na.create=(e,t)=>new Na({options:e,typeName:ai.ZodUnion,...Gr(t)});const Aa=e=>e instanceof $a?Aa(e.schema):e instanceof qa?Aa(e.innerType()):e instanceof za?[e.value]:e instanceof Va?e.options:e instanceof Ba?yr.objectValues(e.enum):e instanceof Ka?Aa(e._def.innerType):e instanceof wa?[void 0]:e instanceof xa?[null]:e instanceof Ha?[void 0,...Aa(e.unwrap())]:e instanceof Za?[null,...Aa(e.unwrap())]:e instanceof Ya||e instanceof ei?Aa(e.unwrap()):e instanceof Wa?Aa(e._def.innerType):[];class Oa extends qr{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==wr.object)return Tr(t,{code:Sr.invalid_type,expected:wr.object,received:t.parsedType}),Ar;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Tr(t,{code:Sr.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ar)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const a of t){const t=Aa(a.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,a)}}return new Oa({typeName:ai.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Gr(n)})}}function Ia(e,t){const n=xr(e),r=xr(t);if(e===t)return{valid:!0,data:e};if(n===wr.object&&r===wr.object){const n=yr.objectKeys(t),r=yr.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const i of r){const n=Ia(e[i],t[i]);if(!n.valid)return{valid:!1};a[i]=n.data}return{valid:!0,data:a}}if(n===wr.array&&r===wr.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=Ia(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===wr.date&&r===wr.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Pa extends qr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Pr(e)||Pr(r))return Ar;const a=Ia(e.value,r.value);return a.valid?((jr(e)||jr(r))&&t.dirty(),{status:t.value,value:a.data}):(Tr(n,{code:Sr.invalid_intersection_types}),Ar)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Pa.create=(e,t,n)=>new Pa({left:e,right:t,typeName:ai.ZodIntersection,...Gr(n)});class ja extends qr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==wr.array)return Tr(n,{code:Sr.invalid_type,expected:wr.array,received:n.parsedType}),Ar;if(n.data.length<this._def.items.length)return Tr(n,{code:Sr.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ar;!this._def.rest&&n.data.length>this._def.items.length&&(Tr(n,{code:Sr.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Vr(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Nr.mergeArray(t,e))):Nr.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ja({...this._def,rest:e})}}ja.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ja({items:e,typeName:ai.ZodTuple,rest:null,...Gr(t)})};class La extends qr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==wr.object)return Tr(n,{code:Sr.invalid_type,expected:wr.object,received:n.parsedType}),Ar;const r=[],a=this._def.keyType,i=this._def.valueType;for(const s in n.data)r.push({key:a._parse(new Vr(n,s,n.path,s)),value:i._parse(new Vr(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Nr.mergeObjectAsync(t,r):Nr.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new La(t instanceof qr?{keyType:e,valueType:t,typeName:ai.ZodRecord,...Gr(n)}:{keyType:fa.create(),valueType:e,typeName:ai.ZodRecord,...Gr(t)})}}class Da extends qr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==wr.map)return Tr(n,{code:Sr.invalid_type,expected:wr.map,received:n.parsedType}),Ar;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(((e,t)=>{let[i,s]=e;return{key:r._parse(new Vr(n,i,n.path,[t,"key"])),value:a._parse(new Vr(n,s,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return Ar;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return Ar;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}Da.create=(e,t,n)=>new Da({valueType:t,keyType:e,typeName:ai.ZodMap,...Gr(n)});class Fa extends qr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==wr.set)return Tr(n,{code:Sr.invalid_type,expected:wr.set,received:n.parsedType}),Ar;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Tr(n,{code:Sr.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Tr(n,{code:Sr.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Ar;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>a._parse(new Vr(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new Fa({...this._def,minSize:{value:e,message:$r.toString(t)}})}max(e,t){return new Fa({...this._def,maxSize:{value:e,message:$r.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Fa.create=(e,t)=>new Fa({valueType:e,minSize:null,maxSize:null,typeName:ai.ZodSet,...Gr(t)});class Ma extends qr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==wr.function)return Tr(t,{code:Sr.invalid_type,expected:wr.function,received:t.parsedType}),Ar;function n(e,n){return Rr({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,kr(),Er].filter((e=>!!e)),issueData:{code:Sr.invalid_arguments,argumentsError:n}})}function r(e,n){return Rr({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,kr(),Er].filter((e=>!!e)),issueData:{code:Sr.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Ga){const e=this;return Ir((async function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=new _r([]),u=await e._def.args.parseAsync(s,a).catch((e=>{throw l.addIssue(n(s,e)),l})),c=await Reflect.apply(i,this,u),d=await e._def.returns._def.type.parseAsync(c,a).catch((e=>{throw l.addIssue(r(c,e)),l}));return d}))}{const e=this;return Ir((function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=e._def.args.safeParse(s,a);if(!l.success)throw new _r([n(s,l.error)]);const u=Reflect.apply(i,this,l.data),c=e._def.returns.safeParse(u,a);if(!c.success)throw new _r([r(u,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ma({...this._def,args:ja.create(t).rest(_a.create())})}returns(e){return new Ma({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ma({args:e||ja.create([]).rest(_a.create()),returns:t||_a.create(),typeName:ai.ZodFunction,...Gr(n)})}}class $a extends qr{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}$a.create=(e,t)=>new $a({getter:e,typeName:ai.ZodLazy,...Gr(t)});class za extends qr{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Tr(t,{received:t.data,code:Sr.invalid_literal,expected:this._def.value}),Ar}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Ua(e,t){return new Va({values:e,typeName:ai.ZodEnum,...Gr(t)})}za.create=(e,t)=>new za({value:e,typeName:ai.ZodLiteral,...Gr(t)});class Va extends qr{constructor(){super(...arguments),zr.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Tr(t,{expected:yr.joinValues(n),received:t.parsedType,code:Sr.invalid_type}),Ar}if(Fr(this,zr,"f")||Mr(this,zr,new Set(this._def.values),"f"),!Fr(this,zr,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Tr(t,{received:t.data,code:Sr.invalid_enum_value,options:n}),Ar}return Ir(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Va.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Va.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}zr=new WeakMap,Va.create=Ua;class Ba extends qr{constructor(){super(...arguments),Ur.set(this,void 0)}_parse(e){const t=yr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==wr.string&&n.parsedType!==wr.number){const e=yr.objectValues(t);return Tr(n,{expected:yr.joinValues(e),received:n.parsedType,code:Sr.invalid_type}),Ar}if(Fr(this,Ur,"f")||Mr(this,Ur,new Set(yr.getValidEnumValues(this._def.values)),"f"),!Fr(this,Ur,"f").has(e.data)){const e=yr.objectValues(t);return Tr(n,{received:n.data,code:Sr.invalid_enum_value,options:e}),Ar}return Ir(e.data)}get enum(){return this._def.values}}Ur=new WeakMap,Ba.create=(e,t)=>new Ba({values:e,typeName:ai.ZodNativeEnum,...Gr(t)});class Ga extends qr{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==wr.promise&&!1===t.common.async)return Tr(t,{code:Sr.invalid_type,expected:wr.promise,received:t.parsedType}),Ar;const n=t.parsedType===wr.promise?t.data:Promise.resolve(t.data);return Ir(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Ga.create=(e,t)=>new Ga({type:e,typeName:ai.ZodPromise,...Gr(t)});class qa extends qr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ai.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{Tr(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Ar;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Ar:"dirty"===r.status||"dirty"===t.value?Or(r.value):r}));{if("aborted"===t.value)return Ar;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Ar:"dirty"===r.status||"dirty"===t.value?Or(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Ar:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Ar:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Lr(e))return e;const i=r.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Lr(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}yr.assertNever(r)}}qa.create=(e,t,n)=>new qa({schema:e,typeName:ai.ZodEffects,effect:t,...Gr(n)}),qa.createWithPreprocess=(e,t,n)=>new qa({schema:t,effect:{type:"preprocess",transform:e},typeName:ai.ZodEffects,...Gr(n)});class Ha extends qr{_parse(e){return this._getType(e)===wr.undefined?Ir(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ha.create=(e,t)=>new Ha({innerType:e,typeName:ai.ZodOptional,...Gr(t)});class Za extends qr{_parse(e){return this._getType(e)===wr.null?Ir(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Za.create=(e,t)=>new Za({innerType:e,typeName:ai.ZodNullable,...Gr(t)});class Ka extends qr{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===wr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ka.create=(e,t)=>new Ka({innerType:e,typeName:ai.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...Gr(t)});class Wa extends qr{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dr(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new _r(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new _r(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Wa.create=(e,t)=>new Wa({innerType:e,typeName:ai.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...Gr(t)});class Qa extends qr{_parse(e){if(this._getType(e)!==wr.nan){const t=this._getOrReturnCtx(e);return Tr(t,{code:Sr.invalid_type,expected:wr.nan,received:t.parsedType}),Ar}return{status:"valid",value:e.data}}}Qa.create=e=>new Qa({typeName:ai.ZodNaN,...Gr(e)});const Ja=Symbol("zod_brand");class Ya extends qr{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Xa extends qr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ar:"dirty"===e.status?(t.dirty(),Or(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ar:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Xa({in:e,out:t,typeName:ai.ZodPipeline})}}class ei extends qr{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Lr(e)&&(e.value=Object.freeze(e.value)),e);return Dr(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function ti(e,t){const n="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof n?{message:n}:n}function ni(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?Sa.create().superRefine(((r,a)=>{var i,s;const o=e(r);if(o instanceof Promise)return o.then((e=>{var i,s;if(!e){const e=ti(t,r),o=null===(s=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===s||s;a.addIssue({code:"custom",...e,fatal:o})}}));if(!o){const e=ti(t,r),o=null===(s=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===s||s;a.addIssue({code:"custom",...e,fatal:o})}})):Sa.create()}ei.create=(e,t)=>new ei({innerType:e,typeName:ai.ZodReadonly,...Gr(t)});const ri={object:Ta.lazycreate};var ai;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ai||(ai={}));const ii=fa.create,si=ga.create,oi=Qa.create,li=ma.create,ui=va.create,ci=ya.create,di=ba.create,hi=wa.create,fi=xa.create,pi=Sa.create,gi=_a.create,mi=Ea.create,vi=Ca.create,yi=ka.create,bi=Ta.create,wi=Ta.strictCreate,xi=Na.create,Si=Oa.create,_i=Pa.create,Ei=ja.create,Ci=La.create,ki=Da.create,Ri=Fa.create,Ti=Ma.create,Ni=$a.create,Ai=za.create,Oi=Va.create,Ii=Ba.create,Pi=Ga.create,ji=qa.create,Li=Ha.create,Di=Za.create,Fi=qa.createWithPreprocess,Mi=Xa.create,$i={string:e=>fa.create({...e,coerce:!0}),number:e=>ga.create({...e,coerce:!0}),boolean:e=>va.create({...e,coerce:!0}),bigint:e=>ma.create({...e,coerce:!0}),date:e=>ya.create({...e,coerce:!0})},zi=Ar;var Ui=Object.freeze({__proto__:null,defaultErrorMap:Er,setErrorMap:function(e){Cr=e},getErrorMap:kr,makeIssue:Rr,EMPTY_PATH:[],addIssueToContext:Tr,ParseStatus:Nr,INVALID:Ar,DIRTY:Or,OK:Ir,isAborted:Pr,isDirty:jr,isValid:Lr,isAsync:Dr,get util(){return yr},get objectUtil(){return br},ZodParsedType:wr,getParsedType:xr,ZodType:qr,datetimeRegex:ca,ZodString:fa,ZodNumber:ga,ZodBigInt:ma,ZodBoolean:va,ZodDate:ya,ZodSymbol:ba,ZodUndefined:wa,ZodNull:xa,ZodAny:Sa,ZodUnknown:_a,ZodNever:Ea,ZodVoid:Ca,ZodArray:ka,ZodObject:Ta,ZodUnion:Na,ZodDiscriminatedUnion:Oa,ZodIntersection:Pa,ZodTuple:ja,ZodRecord:La,ZodMap:Da,ZodSet:Fa,ZodFunction:Ma,ZodLazy:$a,ZodLiteral:za,ZodEnum:Va,ZodNativeEnum:Ba,ZodPromise:Ga,ZodEffects:qa,ZodTransformer:qa,ZodOptional:Ha,ZodNullable:Za,ZodDefault:Ka,ZodCatch:Wa,ZodNaN:Qa,BRAND:Ja,ZodBranded:Ya,ZodPipeline:Xa,ZodReadonly:ei,custom:ni,Schema:qr,ZodSchema:qr,late:ri,get ZodFirstPartyTypeKind(){return ai},coerce:$i,any:pi,array:yi,bigint:li,boolean:ui,date:ci,discriminatedUnion:Si,effect:ji,enum:Oi,function:Ti,instanceof:function(e){return ni((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:_i,lazy:Ni,literal:Ai,map:ki,nan:oi,nativeEnum:Ii,never:mi,null:fi,nullable:Di,number:si,object:bi,oboolean:()=>ui().optional(),onumber:()=>si().optional(),optional:Li,ostring:()=>ii().optional(),pipeline:Mi,preprocess:Fi,promise:Pi,record:Ci,set:Ri,strictObject:wi,string:ii,symbol:di,transformer:ji,tuple:Ei,undefined:hi,union:xi,unknown:gi,void:vi,NEVER:zi,ZodIssueCode:Sr,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:_r});Ui.object({id:Ui.string().uuid(),amount:Ui.number(),type:Ui.nativeEnum(bn),date:Ui.string(),description:Ui.string().optional(),category:Ui.string().optional(),subcategory:Ui.string().optional(),recurring:Ui.boolean().optional(),frequency:Ui.nativeEnum(xn).optional(),actualAmount:Ui.number().optional(),status:Ui.nativeEnum(wn).optional(),created_at:Ui.string().optional(),updated_at:Ui.string().optional()}).omit({id:!0,created_at:!0,updated_at:!0});const Vi={VENITURI:{"Surse de venit":["Salarii","Dividende","Chirii","Tichete de mas\u0103","Cadouri","Drepturi de autor","Pensii","Aloca\u021bii","Alte venituri"],Report:["Venituri reportate din luna anterioar\u0103"]},ECONOMII:{"Categorii de economii":["Fond de urgen\u021b\u0103","Fond de rezerv\u0103","Fond general"]},INFATISARE:{General:["\xcembr\u0103c\u0103minte, \xeenc\u0103l\u021b\u0103minte \u0219i accesorii","Salon de \xeenfrumuse\u021bare","Produse cosmetice","Opera\u021bii estetice","Produse de igien\u0103 personal\u0103","Produse de igien\u0103 pentru animale de companie","Cur\u0103\u021b\u0103torie, c\u0103lc\u0103torie, croitorie, cizm\u0103rie","\xcembr\u0103c\u0103minte \u0219i accesorii pentru animale de companie"]},EDUCATIE:{General:["Taxe \u0219colare | universitare","Gr\u0103dini\u021b\u0103 | Cre\u0219\u0103 | Afterschool | Bon\u0103","Cursuri | Traininguri de specializare","Materiale de studiu | c\u0103r\u021bi","Licen\u021be programe"]},CARIERA:{General:["Taxe autorizare | Examene titularizare sau specializare","Servicii realizare CV","Consultan\u021b\u0103 juridic\u0103 | financiar\u0103"]},SANATATE:{General:["Medicamente | Suplimente alimentare | Vitamine","Servicii medicale pentru preven\u021bie","Opera\u021bii","Terapii de recuperare","Abonamente medicale","Asigur\u0103ri de s\u0103n\u0103tate | medicale","Veterinar pentru animale de companie","Medicamente pentru animale de companie"]},NUTRITIE:{General:["Alimente","Restaurante","La pachet","Comenzi","Cafea","M\xe2ncare pentru animale de companie"]},LOCUINTA:{"Utilit\u0103\u021bi":["\xcentre\u021binere","Ap\u0103","Gaz","Energie electric\u0103","Tax\u0103 gunoi"],Servicii:["Abonamente telefonie","Cablu TV","Internet"],"\xcentre\u021binere \u0219i amenajare":["Repara\u021bii, montaj \u0219i amenaj\u0103ri interioare","Produse de cur\u0103\u021benie \u0219i consumabile","Servicii de cur\u0103\u021benie profesional\u0103","Mobilier | Decora\u021biuni","Electrice | Electrocasnice | Obiecte de iluminat"],"Taxe \u0219i asigur\u0103ri":["Asigur\u0103ri de locuin\u021b\u0103","Impozit pe cl\u0103diri \u0219i terenuri","Chirie"]},TIMP_LIBER:{Entertainment:["C\u0103r\u021bi sau abonamente c\u0103r\u021bi","Muzic\u0103 | Video sau abonamente","Reviste | Ziare sau abonamente","Filme sau abonamente","Cinema | Teatru | Concerte | Muzee"],"Sport \u0219i recreere":["Abonamente sal\u0103 de sport | \xeenot","Piscine | \u0218tranduri | Parcuri de distrac\u021bii | Locuri de joac\u0103","Echipamente sportive | pescuit"],Diverse:["Abonamente servicii online","Jocuri de societate | Juc\u0103rii pentru copii","Cadouri pentru cei dragi","Materiale & cursuri pentru hobby-uri","Pariuri | Loto | Casino","\u021aig\u0103ri | Vaping"]},CALATORII:{Transport:["Bilete pentru mijloace de transport/combustibil","Taxe de drum | de pod | rovignete","\xcenchiriere ma\u0219in\u0103"],Cazare:["Acomodare","Hotel pentru animale"],"Activit\u0103\u021bi":["Bilete pentru obiective turistice","\xcenchiriere echipamente","Suveniruri"],"Alte cheltuieli":["Asigurare de c\u0103l\u0103torie","Hran\u0103"]},TRANSPORT:{"Transport public":["Transport public"],"\xcentre\u021binere auto":["Revizii","Sp\u0103l\u0103torie auto","Accesorii/Consumabile pentru ma\u0219in\u0103","Combustibil","Schimbat cauciucuri var\u0103/iarn\u0103","Hotel pentru anvelope","Repara\u021bii auto"],"Taxe \u0219i asigur\u0103ri":["Taxe drumuri","Parcare","Asigurare RCA","Asigurare CASCO","Rovigneta","Impozit auto"]},INVESTITII:{Proiecte:["Investi\u021bie/Afacere 1","Investi\u021bie/Afacere 2","Investi\u021bie/Afacere 3","Investi\u021bie/Afacere 4","Investi\u021bie/Afacere 5"]}},Bi={[bn.INCOME]:["VENITURI"],[bn.SAVING]:["ECONOMII","INVESTITII"],[bn.EXPENSE]:["INFATISARE","EDUCATIE","CARIERA","SANATATE","NUTRITIE","LOCUINTA","TIMP_LIBER","CALATORII","TRANSPORT"]};bn.INCOME,bn.SAVING,bn.SAVING,bn.EXPENSE,bn.EXPENSE,bn.EXPENSE,bn.EXPENSE,bn.EXPENSE,bn.EXPENSE,bn.EXPENSE,bn.EXPENSE,bn.EXPENSE;const Gi={all:[qi="transactions"],lists:()=>[qi,"list"],list:e=>[qi,"list",...e?[e]:[]],details:()=>[qi,"detail"],detail:e=>[qi,"detail",e],infinite:e=>[qi,"infinite",...e?[e]:[]],custom:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[qi,e,...n]}};var qi;const Hi=()=>Promise.resolve({default:()=>null});Gi.custom("stats",{period:"month"}),Gi.custom("recent",{limit:5}),Gi.list({limit:20});const Zi=e=>{let{variant:t="primary",size:n="md",disabled:r=!1,isLoading:a=!1,className:i,children:s,dataTestId:o,withShadow:l=!1,withGradient:u=!1,withTranslate:c=!1,withRound:d=!1,withFadeIn:h=!1,withSlideIn:f=!1,...p}=e;const g=Boolean(a),m=g?"loading":r?"disabled":void 0,{getClasses:v}=cn({withShadow:l,withGradient:u,withTranslate:c,withRound:d,withFadeIn:h,withSlideIn:f});return(0,Xt.jsxs)("button",{className:an()(v("button",t,n,m),i),disabled:r||g,"data-testid":o||`button-${t}-${n}${g?"-loading":""}`,...p,children:[g&&(0,Xt.jsx)("span",{className:"mr-2",children:(0,Xt.jsxs)("svg",{className:v("loader-svg",void 0,"sm"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("circle",{className:v("loader-circle"),cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xt.jsx)("path",{className:v("loader-path"),fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),s]})},Ki=e=>{let{isFormValid:t,isLoading:n=!1,disabled:r=!1,loadingText:a=Qn.LOADING,submitText:i,children:s,...o}=e;return(0,Xt.jsx)(Zi,{type:"submit",variant:t?"success":"primary",disabled:!t||n||r,isLoading:Boolean(n),withShadow:Boolean(t),withGradient:Boolean(t),withTranslate:Boolean(t),...o,children:n?a:i||s})},Wi=(0,e.forwardRef)(((e,t)=>{let{label:n,error:r,variant:a="primary",size:i="md",className:s,disabled:o=!1,dataTestId:l,withFloatingLabel:u=!1,withGlowFocus:c=!1,withTransition:d=!1,withIconLeft:h,withIconRight:f,withFadeIn:p=!1,...g}=e;const m=o?"disabled":r?"error":void 0,{getClasses:v,hasEffect:y}=cn({withFloatingLabel:u,withGlowFocus:c,withTransition:d,withFadeIn:p});return(0,Xt.jsxs)("div",{className:an()(v("input-wrapper",a,i,m),{"has-icon-left":!!h},{"has-icon-right":!!f},s),children:[n&&(0,Xt.jsx)("label",{htmlFor:g.id,className:v("label",a,i,m),children:n}),(0,Xt.jsxs)("div",{className:"relative",children:[h&&(0,Xt.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:h}),(0,Xt.jsx)("input",{ref:t,className:an()(v("input",a,i,m),{"pl-10":!!h},{"pr-10":!!f}),disabled:o,"data-testid":l||`input-${a}-${i}`,...g}),f&&(0,Xt.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:f})]}),r&&(0,Xt.jsx)("div",{className:v("error-message",a,i,m),children:r})]})}));Wi.displayName="Input";const Qi=Wi,Ji=(0,e.forwardRef)(((e,t)=>{let{label:n,error:r,className:a,wrapperClassName:i,options:s,placeholder:o,id:l,variant:u="primary",size:c="md",disabled:d=!1,isLoading:h=!1,dataTestId:f,withHoverEffect:p=!1,withCustomIcon:g,withGlowFocus:m=!1,withTransition:v=!1,withMinimalistStyle:y=!1,withFadeIn:b=!1,...w}=e;const x=h?"loading":r?"error":d?"disabled":void 0,{getClasses:S,hasEffect:_}=cn({withHoverEffect:p,withGlowFocus:m,withTransition:v,withMinimalistStyle:y,withFadeIn:b}),E=_("withMinimalistStyle")?"relative border-b border-gray-300 focus-within:border-primary-500":"relative";return(0,Xt.jsxs)("div",{className:an()(S("form-group",void 0,void 0,void 0),i),children:[n&&(0,Xt.jsx)("label",{htmlFor:l||w.name,className:S("label",u,void 0,x),children:n}),(0,Xt.jsxs)("div",{className:E,children:[(0,Xt.jsxs)("select",{ref:t,id:l||w.name,className:an()(S("select",u,c,x),a),value:s.some((e=>e.value===w.value))?w.value:"","data-testid":f||`select-${u}-${c}${r?"-error":""}${d?"-disabled":""}`,disabled:d||h,...w,children:[o&&(0,Xt.jsx)("option",{value:"",children:o}),s.map((e=>(0,Xt.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value)))]}),(0,Xt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pointer-events-none pr-2",children:h?(0,Xt.jsxs)("svg",{className:"animate-spin h-4 w-4 text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g||(0,Xt.jsx)("svg",{className:an()("h-4 w-4",_("withMinimalistStyle")?"text-primary-500":"text-gray-500"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),r&&(0,Xt.jsx)("span",{className:S("error-message",u,void 0,x),"data-testid":"select-error",children:r})]})}));Ji.displayName="Select";const Yi=Ji,Xi=(0,e.forwardRef)(((e,t)=>{let{label:n,error:r,variant:a="primary",className:i,wrapperClassName:s,dataTestId:o,labelPosition:l="right",disabled:u=!1,withBorderAnimation:c=!1,withScaleEffect:d=!1,withTransition:h=!1,withFadeIn:f=!1,...p}=e;const g=r?"error":u?"disabled":void 0,{getClasses:m,hasEffect:v}=cn({withBorderAnimation:c,withScaleEffect:d,withTransition:h,withFadeIn:f}),y="left"===l?"rowReverse":void 0;return(0,Xt.jsxs)("div",{className:an()(m("checkbox-group",y,void 0,void 0),s),children:[n&&"left"===l&&(0,Xt.jsx)("label",{className:m("label",a,void 0,g),children:n}),(0,Xt.jsx)("input",{ref:t,type:"checkbox",className:an()(m("checkbox",a,void 0,g),i),disabled:u,"data-testid":o||`checkbox-${a}${r?"-error":""}${u?"-disabled":""}`,...p}),n&&"right"===l&&(0,Xt.jsx)("label",{className:m("label",a,void 0,g),children:n}),r&&(0,Xt.jsx)("span",{className:m("error-message",a,void 0,g),"data-testid":"checkbox-error",children:r})]})}));Xi.displayName="Checkbox";const es=Xi,ts=e=>{let{variant:t="primary",size:n="xs",pill:r=!1,children:a,className:i,dataTestId:s,withPulse:o=!1,isActive:l=!1,withShadow:u=!1,withGradient:c=!1,withGlow:d=!1,withFadeIn:h=!1}=e;const f=["primary","secondary","success","error","warning","info"].includes(t)?t:"primary",p=["xs","sm","md"].includes(n)?n:"xs",{getClasses:g}=cn({withPulse:o,withShadow:u,withGradient:c,withGlow:d,withFadeIn:h}),m=l?"active":void 0;return(0,Xt.jsx)("span",{className:an()(g("badge",f,p,m),r&&g("badge","pill",void 0,void 0),i),"data-testid":s||`badge-${t}${r?"-pill":""}`,children:a})},ns=e=>{switch(e){case"success":return(0,Xt.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return(0,Xt.jsx)("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return(0,Xt.jsx)("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return(0,Xt.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});default:return null}},rs=e=>{let{type:t="success",message:n,title:r,className:a,dismissible:i=!1,onDismiss:s,dataTestId:o,withFadeIn:l=!1,withAccentBorder:u=!1,withShadow:c=!1,withIcon:d=!1,withGradient:h=!1,withHoverEffect:f=!0}=e;const p=["success","error","warning","info"].includes(t)?t:"info",{getClasses:g}=cn({withFadeIn:l,withShadow:c,withGradient:h,withHoverEffect:f,withAccentBorder:u}),m=d?ns(t):null;return(0,Xt.jsx)("div",{className:an()(g("alert",p),a),role:"alert","data-testid":o||`alert-${t}`,children:(0,Xt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xt.jsxs)("div",{className:"flex items-start",children:[m&&(0,Xt.jsx)("span",{className:"mr-2 mt-1",children:m}),(0,Xt.jsxs)("div",{children:[r&&(0,Xt.jsx)("h3",{className:"font-semibold text-lg mb-1",style:{color:`var(--color-${p}-700)`},children:r}),(0,Xt.jsx)("div",{className:r?"mt-1":"",children:n})]})]}),i&&(0,Xt.jsx)("button",{type:"button",className:g("button","ghost","xs"),onClick:s,"aria-label":"\xcenchide","data-testid":"alert-dismiss-btn",children:(0,Xt.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var as=n(469);const is={AMOUNT_MIN:.01,AMOUNT_MAX:1e6,DATE_REGEX:/^\d{4}-\d{2}-\d{2}$/};var ss=n(952);const os=(0,as.v)(((e,t)=>({form:{...yn},error:"",success:"",loading:!1,setForm:t=>e({form:{...t}}),setField:(t,n)=>e((e=>({form:{...e.form,[t]:n}}))),setError:t=>e({error:t}),setSuccess:t=>e({success:t}),setLoading:t=>e({loading:t}),resetForm:()=>e({form:{...yn},error:"",success:""}),setTransactionService:()=>{},handleChange:e=>{const{name:n,value:r,type:a}=e.target;if("checkbox"===a){const r=e.target.checked;t().setField(n,r)}else t().setField(n,r)},validateForm:()=>{const{form:n}=t();if(!n.type||!n.amount||!n.category||!n.date)return e({error:_n.C.CAMPURI_OBLIGATORII}),!1;if(n.recurring&&!n.frequency)return e({error:_n.C.FRECV_RECURENTA}),!1;const r=parseFloat(n.amount);return isNaN(r)||r<is.AMOUNT_MIN||r>is.AMOUNT_MAX?(e({error:_n.C.AVERTISMENT_DATE}),!1):is.DATE_REGEX.test(n.date)?(e({error:""}),!0):(e({error:_n.C.AVERTISMENT_DATE}),!1)},handleSubmit:async n=>{if(null===n||void 0===n||n.preventDefault(),t().validateForm()){e({loading:!0,error:""});try{const{form:n}=t(),r=ss.useAuthStore.getState().user;if(!r||!r.id)return e({error:"Trebuie s\u0103 fi\u021bi autentificat pentru a ad\u0103uga tranzac\u021bii."}),void e({loading:!1});const a={type:n.type,amount:Number(n.amount),date:n.date,category:n.category,subcategory:n.subcategory||"",description:n.description||"",recurring:n.recurring||!1,frequency:n.frequency?n.frequency:void 0,status:wn.COMPLETED,userId:r.id};console.log("Trimit tranzac\u021bie cu payload:",a);const i=await fetch(fn.TRANSACTIONS,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok){const e=await i.json();throw new Error(e.message||"Eroare la ad\u0103ugarea tranzac\u021biei")}e({success:_n.C.SUCCES_ADAUGARE}),t().resetForm()}catch(r){console.error("Eroare la ad\u0103ugarea tranzac\u021biei:",r),e({error:"object"===typeof r&&r&&"message"in r?r.message:_n.C.EROARE_ADAUGARE})}finally{e({loading:!1})}}else e({loading:!1})},getForm:()=>t().form,getError:()=>t().error,getSuccess:()=>t().success,getLoading:()=>t().loading})));var ls=n(887),us=n(341);const cs=(e,t)=>{console.error(`[categoryService] ${e}:`,t)},ds="custom_categories",hs={async getUserCategories(e){if(!e)return{categories:[],version:1};try{const{data:t,error:n}=await us.N.from(ds).select("category_data, version").eq("user_id",e);if(n)return cs("getUserCategories",n),{categories:[],version:1};if(!t||0===t.length)return{categories:[],version:1};const r=t[0];if(!r.category_data||"object"!==typeof r.category_data)return{categories:[],version:1};const a=Array.isArray(r.category_data.categories)?r.category_data.categories:[];return{categories:a,version:"number"===typeof r.version?r.version:r.category_data.version||1}}catch(t){return cs("getUserCategories exception",t),{categories:[],version:1}}},async saveUserCategories(e,t){try{if(!e)return cs("saveUserCategories","User ID este obligatoriu"),!1;if(!t||"object"!==typeof t)return cs("saveUserCategories","Datele de categorie lipsesc sau sunt invalide"),!1;const n=Array.isArray(t.categories)?t.categories:[],r="number"===typeof t.version?t.version:1,a={user_id:e,category_data:{categories:n,version:r},updated_at:(new Date).toISOString(),version:r};console.debug("[categoryService] Payload trimis:",a);const{data:i,error:s}=await us.N.from(ds).select("id").eq("user_id",e);if(s)return cs("saveUserCategories select",s),!1;if(i&&0!==i.length){const{error:t}=await us.N.from(ds).update(a).eq("user_id",e);if(t)return cs("saveUserCategories update",t),!1}else{const{error:e}=await us.N.from(ds).insert([a]);if(e)return cs("saveUserCategories insert",e),!1}return!0}catch(n){return cs("saveUserCategories exception",n),!1}},async updateTransactionsForSubcategoryRename(e,t,n,r){try{if(!e)return cs("updateTransactionsForSubcategoryRename","User ID este obligatoriu"),!1;if(!t||!n||!r)return cs("updateTransactionsForSubcategoryRename","Categoria, numele vechi \u0219i numele nou sunt obligatorii"),!1;const{error:a}=await us.N.from("transactions").update({subcategory:r.trim()}).eq("user_id",e).eq("category",t).eq("subcategory",n);return!a||(cs("updateTransactionsForSubcategoryRename",a),!1)}catch(a){return cs("updateTransactionsForSubcategoryRename exception",a),!1}},async handleSubcategoryDeletion(e,t,n,r,a){try{if(!e)return cs("handleSubcategoryDeletion","User ID este obligatoriu"),!1;if(!t||!n)return cs("handleSubcategoryDeletion","Categoria \u0219i subcategoria sunt obligatorii"),!1;if("migrate"===r&&a){const{error:r}=await us.N.from("transactions").update({subcategory:a.trim()}).eq("user_id",e).eq("category",t).eq("subcategory",n);return!r||(cs("handleSubcategoryDeletion - migrate",r),!1)}if("delete"===r){const{error:r}=await us.N.from("transactions").update({subcategory:null}).eq("user_id",e).eq("category",t).eq("subcategory",n);return!r||(cs("handleSubcategoryDeletion - delete",r),!1)}return cs("handleSubcategoryDeletion",`Action necunoscut\u0103: ${r}`),!1}catch(i){return cs("handleSubcategoryDeletion exception",i),!1}},async getAvailableSubcategoriesForMigration(e,t,n){try{if(!e||!t||!n)return cs("getAvailableSubcategoriesForMigration","Parametri insuficien\u021bi"),[];const r=await this.getUserCategories(e);if(!r||!Array.isArray(r.categories))return[];const a=r.categories.find((e=>e.name===t));return a&&Array.isArray(a.subcategories)?a.subcategories.filter((e=>!!e&&"string"===typeof e.name)).map((e=>e.name)).filter((e=>e!==n)):[]}catch(r){return cs("getAvailableSubcategoriesForMigration exception",r),[]}},async checkForDuplicateSubcategory(e,t,n){try{if(!e||!t||!n)return!1;const r=n.trim().toLowerCase();if(!r)return!1;const a=await this.getUserCategories(e);if(!a||!Array.isArray(a.categories))return!1;const i=a.categories.find((e=>e.name===t));return!(!i||!Array.isArray(i.subcategories))&&i.subcategories.some((e=>e&&"string"===typeof e.name&&e.name.trim().toLowerCase()===r))}catch(r){return cs("checkForDuplicateSubcategory exception",r),!1}}},fs=(0,as.v)()((0,ls.Zr)(((e,t)=>({categories:[],version:1,loading:!1,error:null,async loadUserCategories(t){if(t){e({loading:!0,error:null});try{const n=await hs.getUserCategories(t);n&&Array.isArray(n.categories)?(e({categories:n.categories,version:n.version||1,loading:!1,error:null}),console.log(`[categoryStore] ${n.categories.length} categorii \xeenc\u0103rcate cu succes`)):(e({categories:[],version:1,loading:!1,error:null}),console.log("[categoryStore] Nici o categorie nu a fost g\u0103sit\u0103, se \xeencepe cu lista goal\u0103"))}catch(n){console.error("[categoryStore] Eroare la \xeenc\u0103rcarea categoriilor:",n),e({loading:!1,error:"Nu s-au putut \xeenc\u0103rca categoriile. Verific\u0103 conexiunea."})}}else console.warn("[categoryStore] loadUserCategories: utilizator neautentificat")},async saveCategories(n,r){e({loading:!0,error:null});const a=await hs.saveUserCategories(n,{categories:r,version:t().version+1});e(a?{categories:r,version:t().version+1,loading:!1}:{loading:!1,error:"Eroare la salvarea categoriilor."})},async renameSubcategory(n,r,a,i){const s=t().categories.map((e=>e.name===r?{...e,subcategories:e.subcategories.map((e=>e.name===a?{...e,name:i}:e))}:e));return await hs.saveUserCategories(n,{categories:s,version:t().version+1}),await hs.updateTransactionsForSubcategoryRename(n,r,a,i),e({categories:s,version:t().version+1}),!0},async deleteSubcategory(n,r,a,i,s){const o=t().categories.map((e=>e.name===r?{...e,subcategories:e.subcategories.filter((e=>e.name!==a))}:e));return await hs.saveUserCategories(n,{categories:o,version:t().version+1}),await hs.handleSubcategoryDeletion(n,r,a,i,s),e({categories:o,version:t().version+1}),!0},mergeWithDefaults(n){const r=t().categories,a=n.map((e=>{const t=r.find((t=>t.name===e.name));if(t){const n=t.subcategories.map((e=>e.name));return{...e,subcategories:[...t.subcategories,...e.subcategories.filter((e=>!n.includes(e.name)))],isCustom:t.isCustom}}return e})),i=r.filter((e=>!n.some((t=>t.name===e.name))));e({categories:[...a,...i]})},getSubcategoryCount:(e,t)=>(console.log("getSubcategoryCount: Metod\u0103 actualizat\u0103 dup\u0103 migrarea la React Query"),0)})),{name:"category-store",partialize:e=>({categories:e.categories,version:e.version})}));function ps(e){try{const t=e.split(".");if(1===t.length){const e=_n.C[t[0]];if("string"===typeof e)return e}else if(2===t.length&&"VALIDARE"===t[0]){const e=_n.C.VALIDARE,n=t[1];if(e&&n in e)return e[n]}return e}catch(t){return console.error(`Eroare la accesarea mesajului cu cheia: ${e}`,t),e}}const gs=t=>{let{onSave:n,onCancel:r}=t;const{form:a,error:i,success:s,loading:o,setField:l,handleSubmit:u,resetForm:c}=os(),d=(0,e.useCallback)((e=>{const{name:t,value:n,type:r}=e.target,a="checkbox"===r,i=a?e.target.checked:void 0;l(t,a?i:n),"recurring"===t&&a&&!1===i&&l("frequency",""),"type"===t&&(l("category",""),l("subcategory","")),"category"===t&&l("subcategory","")}),[l]),h=(0,e.useCallback)((async e=>{e.preventDefault(),await u(),null===n||void 0===n||n(a),c()}),[u,c,a,n]),f=fs((e=>e.categories)),p=e.useMemo((()=>{if(!a.type)return[];const e=(t=a.type,Bi[t]||[]);var t;return e.length?f.filter((t=>e.includes(t.name))):[]}),[a.type,f]),g=e.useMemo((()=>p.map((e=>({value:e.name,label:e.name.charAt(0)+e.name.slice(1).toLowerCase().replace(/_/g," ")+(e.isCustom?" \u27a1\ufe0f":"")})))),[p]),m=e.useMemo((()=>{if(!a.category)return[];const e=f.find((e=>e.name===a.category));return e?e.subcategories.map((e=>({value:e.name,label:e.name+(e.isCustom?" \u27a1\ufe0f":""),customStyle:e.isCustom?"text-accent":void 0}))):[]}),[a.category,f]),[v,y]=e.useState(null),b=e=>{y(e.target.name)},w=()=>{y(null)},{getClasses:x}=cn({withShadow:!0,withFadeIn:!0});return(0,Xt.jsxs)("form",{"aria-label":On,onSubmit:h,className:x("form-container",void 0,void 0,void 0),"data-testid":"transaction-form",children:[(0,Xt.jsxs)("div",{className:x("flex-group","between","md"),children:[(0,Xt.jsx)("h3",{className:x("form-label","secondary","md"),children:a.type?"Adaug\u0103 "+(a.type===bn.INCOME?"venit":"cheltuial\u0103"):"Adaug\u0103 tranzac\u021bie"}),o&&(0,Xt.jsx)(ts,{variant:"warning",withPulse:!0,pill:!0,children:"Se proceseaz\u0103..."})]}),(0,Xt.jsx)("div",{className:x("flex-group","start","md"),children:(0,Xt.jsx)(Yi,{name:"type",label:En+"*:",value:a.type,onChange:d,onFocus:b,onBlur:w,"aria-label":En,options:er.TYPE,placeholder:Bn,"data-testid":"type-select",withGlowFocus:!0,withHoverEffect:!0,withTransition:!0,className:"type"===v?x("input","primary",void 0,"focus"):""})}),(0,Xt.jsxs)("div",{className:x("grid"),children:[(0,Xt.jsx)(Qi,{name:"amount",type:"number",label:Cn+"*:",value:a.amount,onChange:d,onFocus:b,onBlur:w,"aria-label":Cn,error:"object"===typeof i?i.amount:void 0,"data-testid":"amount-input",withFloatingLabel:!0,withGlowFocus:"amount"===v,withTransition:!0}),(0,Xt.jsx)(Yi,{name:"category",label:kn+"*:",value:a.category,onChange:d,onFocus:b,onBlur:w,"aria-label":kn,options:g,disabled:!a.type||0===g.length,placeholder:Bn,"data-testid":"category-select",withGlowFocus:!0,withHoverEffect:!0,withTransition:!0,className:"category"===v?x("input","primary",void 0,"focus"):""}),(0,Xt.jsx)(Yi,{name:"subcategory",label:Rn,value:a.subcategory,onChange:d,onFocus:b,onBlur:w,"aria-label":Rn,options:m,disabled:!a.category||0===m.length,placeholder:Bn,"data-testid":"subcategory-select",withGlowFocus:!0,withHoverEffect:!0,withTransition:!0,className:"subcategory"===v?x("input","primary",void 0,"focus"):""}),(0,Xt.jsx)(Qi,{name:"date",type:"date",label:Tn+"*:",value:a.date,onChange:d,onFocus:b,onBlur:w,"aria-label":Tn,error:"object"===typeof i?i.date:void 0,"data-testid":"date-input",withGlowFocus:"date"===v}),(0,Xt.jsxs)("div",{className:x("flex-group","start","md"),children:[(0,Xt.jsx)(es,{name:"recurring",label:Nn+"?",checked:a.recurring,onChange:d,"data-testid":"recurring-checkbox",withBorderAnimation:!0,withScaleEffect:!0}),a.recurring&&(0,Xt.jsx)(ts,{variant:"primary",withPulse:!0,pill:!0,children:"Recurent"})]}),(0,Xt.jsx)(Yi,{name:"frequency",label:An,value:a.frequency,onChange:d,onFocus:b,onBlur:w,"aria-label":An,options:er.FREQUENCY,disabled:!a.recurring,placeholder:Bn,"data-testid":"frequency-select",withGlowFocus:!0,withHoverEffect:!0,withTransition:!0,className:"frequency"===v?x("input","primary",void 0,"focus"):""})]}),(0,Xt.jsxs)("div",{className:x("flex-group","between","md"),children:[(()=>{const e=Boolean(a.type&&a.amount&&a.category&&a.date&&(!a.recurring||a.recurring&&a.frequency));return(0,Xt.jsx)(Ki,{isFormValid:e,size:"md",isLoading:Boolean(o),"data-testid":"add-transaction-button","aria-label":Qn.ADD,submitText:Qn.ADD,children:e&&(0,Xt.jsx)("span",{className:x("indicator","primary","md","active")})})})(),(0,Xt.jsx)(Zi,{type:"button",variant:"secondary",size:"md","data-testid":"cancel-btn",onClick:()=>{c(),null===r||void 0===r||r()},withShadow:!0,children:Qn.CANCEL})]}),i&&"string"===typeof i&&(0,Xt.jsx)(rs,{type:"error",message:ps(i),"data-testid":"error-message",className:x("spacing","section"),withFadeIn:!0,withAccentBorder:!0,withShadow:!0,withIcon:!0}),s&&(0,Xt.jsx)(rs,{type:"success",message:ps(s),"data-testid":"success-message",className:x("spacing","section"),withFadeIn:!0,withAccentBorder:!0,withShadow:!0,withIcon:!0})]})},ms=e=>{let{sizeValue:t=40,sizeVariant:n="md",variant:r="primary",className:a,showBackground:i=!0,"data-testid":s,speed:o="normal",withFadeIn:l=!1,withPulse:u=!1,withGradient:c=!1,withShadow:d=!1}=e;const h=(()=>{if(40!==t)return t;switch(n){case"xs":return 16;case"sm":return 24;case"lg":return 48;case"xl":return 64;default:return 40}})(),{getClasses:f}=cn({withFadeIn:l,withPulse:u,withGradient:c,withShadow:d});return(0,Xt.jsx)("div",{className:an()(f("loader-container",r,n),a),"data-testid":s||"spinner",children:(0,Xt.jsxs)("svg",{width:h,height:h,viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:an()(f("loader-svg",r,n),(()=>{switch(o){case"slow":return"animate-spin-slow";case"fast":return"animate-spin-fast";default:return"animate-spin"}})()),children:[i&&(0,Xt.jsx)("circle",{cx:"22",cy:"22",r:"20",className:f("loader-circle",r),strokeWidth:"4",fill:"none",opacity:"0.2"}),(0,Xt.jsx)("path",{d:"M42 22c0-11.046-8.954-20-20-20",className:f("loader-path",r),strokeWidth:"4",strokeLinecap:"round"})]})})},vs=t=>{let{transactions:n,total:r,isLoading:a=!1,isFetchingNextPage:i=!1,hasNextPage:s=!1,fetchNextPage:o,isFiltered:l=!1,isFetching:u=!1,...c}=t;console.log("[TransactionTable] Render",{key:c.key,transactionsCount:null===n||void 0===n?void 0:n.length,total:r,isLoading:a,isFetching:u,isFetchingNextPage:i,hasNextPage:s,isFiltered:l,rest:c});const d=e.useRef(null),{getClasses:h}=cn({withFadeIn:!0,withShadow:!0,withTransition:!0});e.useEffect((()=>{if(console.log("[TransactionTable] Mounted"),!o)return;const e=new IntersectionObserver((e=>{const[t]=e;t.isIntersecting&&s&&!i&&o()}),{root:null,rootMargin:"0px",threshold:.1});return d.current&&e.observe(d.current),()=>{d.current&&e.unobserve(d.current),console.log("[TransactionTable] Unmounted")}}),[s,i,o]);const f=["hover-highlight","smooth-transition"],p=(e,t)=>{if(void 0===e||null===e)return{};const n="string"===typeof e?parseFloat(e):e;return isNaN(n)?{}:t===bn.EXPENSE?{color:"var(--color-error-600)"}:t===bn.INCOME?{color:"var(--color-success-600)"}:{}},g=e=>{if(void 0===e||null===e)return"";const t="string"===typeof e?parseFloat(e):e;return isNaN(t)?String(e):t.toFixed(2)+" RON"},m=e=>{if(!e)return"";if(e instanceof Date)return e.toLocaleDateString("ro-RO");try{return new Date(e).toLocaleDateString("ro-RO")}catch(iu){return String(e)}};return(0,Xt.jsxs)("div",{className:un("spacing","section"),style:{position:"relative"},children:[(0,Xt.jsxs)("div",{className:un("table-container",void 0,void 0,void 0,["responsive","shadow-hover","rounded-corners","fade-in"]),style:{position:"relative"},children:[u&&!a&&(0,Xt.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-60 flex items-center justify-center z-10","data-testid":"transaction-table-loading-overlay",style:{pointerEvents:"none"},"aria-label":Jn.LOADING,children:(0,Xt.jsx)(ms,{variant:"primary",sizeVariant:"md",withFadeIn:!0})}),(0,Xt.jsxs)("table",{className:un("table","striped"),"data-testid":"transaction-table",children:[(0,Xt.jsx)("thead",{children:(0,Xt.jsxs)("tr",{className:un("table-row",void 0,void 0,void 0,["sticky-header","gradient-bg-subtle"]),children:[(0,Xt.jsx)("th",{className:un("table-header"),children:Jn.HEADERS.TYPE}),(0,Xt.jsx)("th",{className:un("table-header"),children:Jn.HEADERS.AMOUNT}),(0,Xt.jsx)("th",{className:un("table-header"),children:Jn.HEADERS.CATEGORY}),(0,Xt.jsx)("th",{className:un("table-header"),children:Jn.HEADERS.SUBCATEGORY}),(0,Xt.jsx)("th",{className:un("table-header"),children:Jn.HEADERS.DATE}),(0,Xt.jsx)("th",{className:un("table-header"),children:Jn.HEADERS.RECURRING}),(0,Xt.jsx)("th",{className:un("table-header"),children:Jn.HEADERS.FREQUENCY})]})}),(0,Xt.jsxs)("tbody",{children:[a?(0,Xt.jsx)("tr",{"data-testid":"transaction-table-loading",children:(0,Xt.jsx)("td",{colSpan:7,className:un("table-cell",void 0,void 0,void 0,["text-center"]),children:(0,Xt.jsxs)("div",{className:an()(un("flex-group","center","md"),un("spacing","small")),children:[(0,Xt.jsx)(ms,{variant:"primary",sizeVariant:"sm",withFadeIn:!0}),(0,Xt.jsx)("span",{children:Jn.LOADING})]})})}):!u&&n&&0===n.length?(0,Xt.jsx)("tr",{"data-testid":"transaction-table-empty",children:(0,Xt.jsx)("td",{colSpan:7,className:un("table-cell",void 0,void 0,void 0,["text-center","py-8"]),children:(0,Xt.jsxs)("div",{className:un("flex-group","center","md",void 0,["flex-col","p-4"]),children:[(0,Xt.jsx)("span",{className:un("text","secondary","lg"),children:l?Jn.NO_TRANSACTIONS||mr:Jn.EMPTY}),l&&(0,Xt.jsx)(ts,{variant:"secondary",className:un("spacing","small",void 0,void 0,["mt-2"]),withShadow:!0,children:"\xcencerca\u021bi s\u0103 ajusta\u021bi filtrele"})]})})}):n.map(((e,t)=>(0,Xt.jsxs)("tr",{className:un("table-row",void 0,void 0,void 0,f),"data-testid":`transaction-item-${e.id||t}`,children:[(0,Xt.jsx)("td",{className:un("table-cell"),children:(0,Xt.jsx)(ts,{variant:e.type===bn.EXPENSE?"error":e.type===bn.INCOME?"success":"secondary",pill:!0,withShadow:!0,children:e.type||""})}),(0,Xt.jsx)("td",{className:un("table-cell"),style:p(e.amount,e.type),children:(0,Xt.jsx)("span",{className:un("text","accent"),children:g(e.amount)})}),(0,Xt.jsx)("td",{className:un("table-cell"),children:e.category||""}),(0,Xt.jsx)("td",{className:un("table-cell"),children:e.subcategory||""}),(0,Xt.jsx)("td",{className:un("table-cell"),children:m(e.date)}),(0,Xt.jsx)("td",{className:un("table-cell"),children:!0===e.recurring?(0,Xt.jsx)(ts,{variant:"primary",pill:!0,withPulse:!0,children:Jn.BOOL.YES}):(0,Xt.jsx)(ts,{variant:"secondary",pill:!0,children:Jn.BOOL.NO})}),(0,Xt.jsx)("td",{className:un("table-cell"),children:!0===e.recurring&&e.frequency?(0,Xt.jsx)(ts,{variant:"info",pill:!0,children:e.frequency}):""})]},`${e.id}-${t}`))),i&&(0,Xt.jsx)("tr",{"data-testid":"transaction-table-loading-more",children:(0,Xt.jsx)("td",{colSpan:7,className:un("table-cell",void 0,void 0,void 0,["text-center"]),children:(0,Xt.jsxs)("div",{className:an()(un("flex-group","center","md"),un("spacing","small")),children:[(0,Xt.jsx)(ms,{variant:"primary",sizeVariant:"sm",withFadeIn:!0}),(0,Xt.jsx)("span",{children:Jn.LOADING_MORE})]})})})]})]})]}),!a&&n&&n.length>0&&(0,Xt.jsxs)("div",{className:un("flex-group","between","md",void 0,["mt-4","text-sm","text-secondary-700"]),children:[(0,Xt.jsx)("span",{children:Jn.SHOWING_INFO.replace("{shown}",String(n.length)).replace("{total}",String(r))}),s&&(0,Xt.jsx)(Zi,{variant:"ghost",size:"sm",onClick:()=>null===o||void 0===o?void 0:o(),disabled:i,withTranslate:!0,"data-testid":"load-more-btn",children:i?Jn.LOADING_MORE:Qn.NEXT_PAGE})]}),(0,Xt.jsx)("div",{ref:d,style:{height:"10px",margin:"10px 0"}})]})};var ys=class extends It{constructor(e,t){super(),this.options=t,this.#l=e,this.#b=null,this.#w=Lt(),this.options.experimental_prefetchInRender||this.#w.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#l;#x=void 0;#S=void 0;#_=void 0;#E;#C;#w;#b;#k;#R;#T;#N;#A;#O;#I=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#x.addObserver(this),bs(this.#x,this.options)?this.#P():this.updateResult(),this.#j())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ws(this.#x,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ws(this.#x,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#L(),this.#D(),this.#x.removeObserver(this)}setOptions(e){const t=this.options,n=this.#x;if(this.options=this.#l.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof ft(this.options.enabled,this.#x))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#F(),this.#x.setOptions(this.options),t._defaulted&&!wt(this.options,t)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#x,observer:this});const r=this.hasListeners();r&&xs(this.#x,n,this.options,t)&&this.#P(),this.updateResult(),!r||this.#x===n&&ft(this.options.enabled,this.#x)===ft(t.enabled,this.#x)&&ht(this.options.staleTime,this.#x)===ht(t.staleTime,this.#x)||this.#M();const a=this.#$();!r||this.#x===n&&ft(this.options.enabled,this.#x)===ft(t.enabled,this.#x)&&a===this.#O||this.#z(a)}getOptimisticResult(e){const t=this.#l.getQueryCache().build(this.#l,e),n=this.createResult(t,e);return function(e,t){if(!wt(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#_=n,this.#C=this.options,this.#E=this.#x.state),n}getCurrentResult(){return this.#_}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),t?.(n),Reflect.get(e,n))})}trackProp(e){this.#I.add(e)}getCurrentQuery(){return this.#x}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#l.defaultQueryOptions(e),n=this.#l.getQueryCache().build(this.#l,t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#P({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#_)))}#P(e){this.#F();let t=this.#x.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ut)),t}#M(){this.#L();const e=ht(this.options.staleTime,this.#x);if(lt||this.#_.isStale||!ct(e))return;const t=dt(this.#_.dataUpdatedAt,e)+1;this.#N=setTimeout((()=>{this.#_.isStale||this.updateResult()}),t)}#$(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#x):this.options.refetchInterval)??!1}#z(e){this.#D(),this.#O=e,!lt&&!1!==ft(this.options.enabled,this.#x)&&ct(this.#O)&&0!==this.#O&&(this.#A=setInterval((()=>{(this.options.refetchIntervalInBackground||Pt.isFocused())&&this.#P()}),this.#O))}#j(){this.#M(),this.#z(this.#$())}#L(){this.#N&&(clearTimeout(this.#N),this.#N=void 0)}#D(){this.#A&&(clearInterval(this.#A),this.#A=void 0)}createResult(e,t){const n=this.#x,r=this.options,a=this.#_,i=this.#E,s=this.#C,o=e!==n?e.state:this.#S,{state:l}=e;let u,c={...l},d=!1;if(t._optimisticResults){const a=this.hasListeners(),i=!a&&bs(e,t),s=a&&xs(e,n,t,r);(i||s)&&(c={...c,...Bt(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:h,errorUpdatedAt:f,status:p}=c;u=c.data;let g=!1;if(void 0!==t.placeholderData&&void 0===u&&"pending"===p){let e;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(e=a.data,g=!0):e="function"===typeof t.placeholderData?t.placeholderData(this.#T?.state.data,this.#T):t.placeholderData,void 0!==e&&(p="success",u=Et(a?.data,e,t),d=!0)}if(t.select&&void 0!==u&&!g)if(a&&u===i?.data&&t.select===this.#k)u=this.#R;else try{this.#k=t.select,u=t.select(u),u=Et(a?.data,u,t),this.#R=u,this.#b=null}catch(S){this.#b=S}this.#b&&(h=this.#b,u=this.#R,f=Date.now(),p="error");const m="fetching"===c.fetchStatus,v="pending"===p,y="error"===p,b=v&&m,w=void 0!==u,x={status:p,fetchStatus:c.fetchStatus,isPending:v,isSuccess:"success"===p,isError:y,isInitialLoading:b,isLoading:b,data:u,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>o.dataUpdateCount||c.errorUpdateCount>o.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:y&&!w,isPaused:"paused"===c.fetchStatus,isPlaceholderData:d,isRefetchError:y&&w,isStale:Ss(e,t),refetch:this.refetch,promise:this.#w};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===x.status?e.reject(x.error):void 0!==x.data&&e.resolve(x.data)},r=()=>{const e=this.#w=x.promise=Lt();t(e)},a=this.#w;switch(a.status){case"pending":e.queryHash===n.queryHash&&t(a);break;case"fulfilled":"error"!==x.status&&x.data===a.value||r();break;case"rejected":"error"===x.status&&x.error===a.reason||r()}}return x}updateResult(){const e=this.#_,t=this.createResult(this.#x,this.options);if(this.#E=this.#x.state,this.#C=this.options,void 0!==this.#E.data&&(this.#T=this.#x),wt(t,e))return;this.#_=t;this.#U({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!this.#I.size)return!0;const r=new Set(n??this.#I);return this.options.throwOnError&&r.add("error"),Object.keys(this.#_).some((t=>{const n=t;return this.#_[n]!==e[n]&&r.has(n)}))})()})}#F(){const e=this.#l.getQueryCache().build(this.#l,this.options);if(e===this.#x)return;const t=this.#x;this.#x=e,this.#S=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#j()}#U(e){Ot.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#_)})),this.#l.getQueryCache().notify({query:this.#x,type:"observerResultsUpdated"})}))}};function bs(e,t){return function(e,t){return!1!==ft(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&ws(e,t,t.refetchOnMount)}function ws(e,t,n){if(!1!==ft(t.enabled,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&Ss(e,t)}return!1}function xs(e,t,n,r){return(e!==t||!1===ft(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&Ss(e,n)}function Ss(e,t){return!1!==ft(t.enabled,e)&&e.isStaleByTime(ht(t.staleTime,e))}function _s(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Es=e.createContext(_s()),Cs=e.createContext(!1),ks=(Cs.Provider,(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()})));function Rs(t,n,r){const a=tn(r),i=e.useContext(Cs),s=e.useContext(Es),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"===typeof t?function(){return Math.max(t(...arguments),1e3)}:Math.max(t??1e3,1e3),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(o),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(o,s),(t=>{e.useEffect((()=>{t.clearReset()}),[t])})(s);const l=!a.getQueryCache().get(o.queryHash),[u]=e.useState((()=>new n(a,o))),c=u.getOptimisticResult(o),d=!i&&!1!==t.subscribed;if(e.useSyncExternalStore(e.useCallback((e=>{const t=d?u.subscribe(Ot.batchCalls(e)):ut;return u.updateResult(),t}),[u,d]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),e.useEffect((()=>{u.setOptions(o)}),[o,u]),((e,t)=>e?.suspense&&t.isPending)(o,c))throw ks(o,u,s);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:a,suspense:i}=e;return t.isError&&!n.isReset()&&!t.isFetching&&a&&(i&&void 0===t.data||Nt(r,[t.error,a]))})({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!lt&&((e,t)=>e.isLoading&&e.isFetching&&!t)(c,i)){const e=l?ks(o,u,s):a.getQueryCache().get(o.queryHash)?.promise;e?.catch(ut).finally((()=>{u.updateResult()}))}return o.notifyOnChangeProps?c:u.trackResult(c)}function Ts(e,t){return Rs(e,ys,t)}const Ns="transactions",As={async fetchTransactions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=us.N.from(Ns).select("*",{count:"exact"});const a=["category","subcategory"];if(e&&(r=r.eq("user_id",e)),n.type&&(r=r.eq("type",n.type)),n.category&&(r=r.eq("category",n.category)),n.subcategory&&(r=r.eq("subcategory",n.subcategory)),void 0!==n.recurring&&(r=r.eq("recurring",n.recurring)),n.dateFrom&&(r=r.gte("date",n.dateFrom)),n.dateTo&&(r=r.lte("date",n.dateTo)),void 0!==n.minAmount&&(r=r.gte("amount",n.minAmount)),void 0!==n.maxAmount&&(r=r.lte("amount",n.maxAmount)),n.search){const e=n.search.trim().replace(/'/g,"''"),t=a.map((t=>`${t}.ilike.*${e}*`)).join(",");r=r.or(t)}t.sort&&(r=r.order(t.sort,{ascending:"asc"===t.order})),void 0!==t.limit&&void 0!==t.offset&&(r=r.range(t.offset,t.offset+t.limit-1));const{data:i,count:s,error:o}=await r;if(o)throw o;return{data:i,count:s||0}},async fetchActiveSubcategories(e,t,n){try{console.log(`[fetchActiveSubcategories] \xcencep c\u0103utarea subcategoriilor active cu: userId=${e}, category=${t}, type=${n}`);let r=us.N.from(Ns).select("category, subcategory").not("subcategory","is",null);e&&(r=r.eq("user_id",e)),t&&(r=r.eq("category",t)),n&&(r=r.eq("type",n));const{data:a,error:i}=await r;if(i)return console.error("Eroare la \xeenc\u0103rcarea subcategoriilor active:",i),[];if(!a||!Array.isArray(a))return console.warn("Nu am primit date pentru subcategorii active"),[];console.log(`[fetchActiveSubcategories] Am g\u0103sit ${a.length} tranzac\u021bii cu subcategorii`);const s={};a.forEach((e=>{if(!e.subcategory)return;const t=`${e.category}|${e.subcategory}`;s[t]?s[t].count++:s[t]={category:e.category,subcategory:e.subcategory,count:1}})),console.log(`[fetchActiveSubcategories] Am grupat \xeen ${Object.keys(s).length} subcategorii active`);return Object.values(s).sort(((e,t)=>e.category!==t.category?e.category.localeCompare(t.category):e.subcategory.localeCompare(t.subcategory)))}catch(r){return console.error("Eroare la fetchActiveSubcategories:",r),[]}},validateCategoryAndSubcategory:(e,t)=>(console.debug(`[validateCategoryAndSubcategory] Validare: category=${e}, subcategory=${t}`),e?(Object.keys(Vi).includes(e)||console.warn(`Categorie "${e}" nu exist\u0103 \xeen lista predefinit\u0103. Poate fi o categorie personalizat\u0103.`),t&&console.debug(`[DEBUG] Subcategorie "${t}" acceptat\u0103 pentru categoria "${e}" (validare delegat\u0103 backend-ului).`),!0):(console.error("Categoria este obligatorie!"),!1)),async createTransaction(e){const{useAuthStore:t}=await Promise.resolve().then(n.bind(n,952)),r=t.getState().user;if(!r||!r.id)throw new Error(_n.C.EROARE_NECUNOSCUTA||"Utilizatorul nu este autentificat!");this.validateCategoryAndSubcategory(e.category,e.subcategory||null);const a={...e,user_id:r.id},{data:i,error:s}=await us.N.from(Ns).insert([a]).select().single();if(s){var o,l;if(console.error("Error creating transaction:",s),null!==(o=s.message)&&void 0!==o&&o.includes("category")||null!==(l=s.message)&&void 0!==l&&l.includes("subcategory")){const e=_n.C.EROARE_CATEGORIE_SUBCATEGORIE_INVALIDA||"Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.";throw new Error(e)}throw s}return i},async updateTransaction(e,t){const{useAuthStore:r}=await Promise.resolve().then(n.bind(n,952)),a=r.getState().user;if(!a||!a.id)throw new Error(_n.C.EROARE_NECUNOSCUTA||"Utilizatorul nu este autentificat!");void 0!==t.category&&this.validateCategoryAndSubcategory(t.category,t.subcategory||null);const{data:i,error:s}=await us.N.from(Ns).update(t).eq("id",e).eq("user_id",a.id).select().single();if(s){var o,l;if(console.error("Error updating transaction:",s),null!==(o=s.message)&&void 0!==o&&o.includes("category")||null!==(l=s.message)&&void 0!==l&&l.includes("subcategory")){const e=_n.C.EROARE_CATEGORIE_SUBCATEGORIE_INVALIDA||"Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.";throw new Error(e)}throw s}return i},async deleteTransaction(e){const{useAuthStore:t}=await Promise.resolve().then(n.bind(n,952)),r=t.getState().user;if(!r||!r.id)throw new Error(_n.C.EROARE_NECUNOSCUTA||"Utilizatorul nu este autentificat!");const{error:a}=await us.N.from(Ns).delete().eq("id",e).eq("user_id",r.id);if(a)throw a},async fetchUserCategories(e){if(!e)throw new Error(_n.C.EROARE_NECUNOSCUTA||"ID utilizator necesar");try{const{data:t,error:n}=await us.N.from("user_categories").select("*").eq("user_id",e);if(n)throw n;return t||[]}catch(t){return console.error("Eroare la \xeenc\u0103rcarea categoriilor utilizatorului:",t),[]}}};const Os=t=>{let{type:n="",category:r="",subcategory:a="",onTypeChange:i=()=>{},onCategoryChange:s=()=>{},onSubcategoryChange:o=()=>{},dateFrom:l="",dateTo:u="",amountMin:c="",amountMax:d="",searchText:h="",onDateFromChange:f=()=>{},onDateToChange:p=()=>{},onAmountMinChange:g=()=>{},onAmountMaxChange:m=()=>{},onSearchTextChange:v=()=>{}}=t;const[y,b]=(0,e.useState)(!1),w=er.TYPE,x=fs((e=>e.categories)),S=(0,e.useMemo)((()=>{let e=x;n&&(e=x.filter((e=>"INCOME"===n?"VENITURI"===e.name:"EXPENSE"===n?"VENITURI"!==e.name&&"ECONOMII"!==e.name:"SAVING"!==n||"ECONOMII"===e.name)));return e.map((e=>({value:e.name,label:e.name.charAt(0)+e.name.slice(1).toLowerCase().replace(/_/g," ")+(e.isCustom?" \u27a1\ufe0f":"")})))}),[x,n]),{subcategories:_,isLoading:E,isEmpty:C}=function(){var t;let{category:n,type:r,enabled:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{user:i}=(0,ss.useAuthStore)(),s=null===i||void 0===i?void 0:i.id,o=Ts({queryKey:["activeSubcategories",s,n,r],queryFn:async()=>As.fetchActiveSubcategories(s,n,r),gcTime:3e5,staleTime:3e4,enabled:a&&!!s}),l=(0,e.useMemo)((()=>o.data?o.data.map((e=>({value:e.subcategory,label:e.subcategory.charAt(0)+e.subcategory.slice(1).toLowerCase().replace(/_/g," ")+` (${e.count})`,count:e.count,category:e.category}))):[]),[o.data]);return{subcategories:(0,e.useMemo)((()=>n?l.filter((e=>e.category===n)):l),[l,n]),isLoading:o.isLoading,isError:o.isError,error:o.error,refetch:o.refetch,isEmpty:0===(null===(t=o.data)||void 0===t?void 0:t.length),isSuccess:o.isSuccess}}({category:r,type:n,enabled:!!r}),k=(0,e.useMemo)((()=>{if(!r)return[];if(E){const e=x.find((e=>e.name===r));return e?e.subcategories.map((e=>({value:e.name,label:e.name.charAt(0)+e.name.slice(1).toLowerCase().replace(/_/g," ")+(e.isCustom?" \u27a1\ufe0f":"")}))):[]}return C||0===_.length?[{value:"",label:vr||Jn.NO_SUBCATEGORIES,disabled:!0}]:_.map((e=>({value:e.value,label:e.label,disabled:!1})))}),[r,x,E,_,C]),R=(0,e.useMemo)((()=>{let e=0;return n&&e++,r&&e++,a&&e++,l&&e++,u&&e++,c&&e++,d&&e++,h&&e++,e}),[n,r,a,l,u,c,d,h]);(0,e.useMemo)((()=>({type:n,category:r,subcategory:a,dateFrom:l,dateTo:u,amountMin:c,amountMax:d,searchText:h})),[n,r,a,l,u,c,d,h]);(0,e.useEffect)((()=>{!a||r&&!k.every((e=>e.value!==a))||o("")}),[r,a,k,o]);const T=(0,e.useCallback)((()=>{i(""),s(""),o(""),f(""),p(""),g(""),m(""),v("")}),[i,s,o,f,p,g,m,v]),N=(0,e.useCallback)((()=>{b((e=>!e))}),[]),[A,O]=(0,e.useState)(h),I=function(t,n){const[r,a]=(0,e.useState)(t);return(0,e.useEffect)((()=>{const e=setTimeout((()=>{a(t)}),n);return()=>{clearTimeout(e)}}),[t,n]),r}(A,400);(0,e.useEffect)((()=>{I!==h&&v(I)}),[I,h,v]);const P=(0,e.useCallback)((e=>{O(e.target.value)}),[]),j=(0,e.useCallback)((e=>{const t=e.target.value;i(t),s(""),o("")}),[i,s,o]),L=(0,e.useCallback)((e=>{const t=e.target.value;s(t),o("")}),[s,o]),D=(0,e.useCallback)((e=>{o(e.target.value)}),[o]),F=(0,e.useCallback)((e=>{f(e.target.value)}),[f]),M=(0,e.useCallback)((e=>{p(e.target.value)}),[p]),$=(0,e.useCallback)((e=>{g(e.target.value)}),[g]),z=(0,e.useCallback)((e=>{m(e.target.value)}),[m]),{getClasses:U}=cn({withFadeIn:!0,withShadow:!0,withTransition:!0});return(0,Xt.jsxs)("div",{className:U("flex-group","between","md"),children:[(0,Xt.jsxs)("div",{className:U("flex-group","start","md"),children:[(0,Xt.jsx)(Yi,{name:"type-filter",label:"",value:n||"","data-testid":"type-filter",onChange:j,options:w,placeholder:Bn+" tipul",size:"sm",withTransition:!0}),(0,Xt.jsx)(Yi,{name:"category-filter",label:"",value:r||"","data-testid":"category-filter",onChange:L,options:S,placeholder:Bn+" categoria",disabled:!n,size:"sm",withTransition:!0}),(0,Xt.jsx)(Yi,{name:"subcategory-filter",label:"",value:a||"","data-testid":"subcategory-filter",onChange:D,options:k,placeholder:E?Yn:Bn+" subcategoria",disabled:!r||0===k.length,isLoading:E,size:"sm",withTransition:!0})]}),(0,Xt.jsxs)("div",{className:U("flex-group","end","md"),children:[(0,Xt.jsx)(Qi,{name:"search-text-filter",label:"",value:A,"data-testid":"search-text-filter",onChange:P,placeholder:Zn,type:"text",withTransition:!0}),R>0&&(0,Xt.jsx)(Zi,{variant:"ghost",size:"sm",onClick:T,withShadow:!0,"data-testid":"reset-filters-btn","aria-label":Qn.RESET_FILTERS,children:Qn.RESET_FILTERS}),(0,Xt.jsx)(Zi,{variant:"secondary",size:"sm",onClick:N,withShadow:!0,"data-testid":"toggle-advanced-filters-btn","aria-label":y?fr.HIDE_ADVANCED:fr.SHOW_ADVANCED,children:y?fr.HIDE_ADVANCED:fr.SHOW_ADVANCED})]}),y&&(0,Xt.jsxs)("div",{className:U("card-section"),children:[(0,Xt.jsx)(Qi,{name:"date-from-filter",label:Dn,value:l,"data-testid":"date-from-filter",onChange:F,placeholder:Bn+" data de \xeenceput",type:"date",withTransition:!0}),(0,Xt.jsx)(Qi,{name:"date-to-filter",label:Fn,value:u,"data-testid":"date-to-filter",onChange:M,placeholder:Bn+" data de sf\xe2r\u0219it",type:"date",withTransition:!0}),(0,Xt.jsx)(Qi,{name:"amount-min-filter",label:Mn,value:c,"data-testid":"amount-min-filter",onChange:$,placeholder:Kn,type:"number",withTransition:!0}),(0,Xt.jsx)(Qi,{name:"amount-max-filter",label:$n,value:d,"data-testid":"amount-max-filter",onChange:z,placeholder:Wn,type:"number",withTransition:!0})]})]})},Is=e.memo(Os),Ps=(0,as.v)(((e,t)=>({filterType:"",filterCategory:"",limit:gn,offset:mn,sort:vn,totalItems:0,setFilterType:t=>e({filterType:t,offset:0}),setFilterCategory:t=>e({filterCategory:t,offset:0}),setLimit:t=>e({limit:t}),setOffset:t=>e({offset:t}),setSort:t=>e({sort:t}),setTotalItems:t=>e({totalItems:t}),resetFilters:()=>e({filterType:"",filterCategory:"",limit:gn,offset:mn,sort:vn}),nextPage:()=>{const{offset:n,limit:r,totalItems:a}=t(),i=n+r;i<a&&e({offset:i})},prevPage:()=>{const{offset:n,limit:r}=t(),a=Math.max(0,n-r);e({offset:a})},goToPage:n=>{const{limit:r,totalItems:a}=t(),i=Math.ceil(a/r)||1,s=Math.max(1,Math.min(n,i));e({offset:(s-1)*r})},getCurrentPage:()=>{const{offset:e,limit:n}=t();return Math.floor(e/n)+1},getTotalPages:()=>{const{totalItems:e,limit:n}=t();return Math.ceil(e/n)||1},getQueryParams:()=>{const{filterType:e,filterCategory:n,limit:r,offset:a,sort:i}=t();return{type:e,category:n,limit:r,offset:a,sort:i}}})));var js=class extends ys{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Kt()})}getOptimisticResult(e){return e.behavior=Kt(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:a,isRefetching:i,isError:s,isRefetchError:o}=r,l=n.fetchMeta?.fetchMore?.direction,u=s&&"forward"===l,c=a&&"forward"===l,d=s&&"backward"===l,h=a&&"backward"===l;return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Jt(t,n.data),hasPreviousPage:Yt(t,n.data),isFetchNextPageError:u,isFetchingNextPage:c,isFetchPreviousPageError:d,isFetchingPreviousPage:h,isRefetchError:o&&!u&&!d,isRefetching:i&&!c&&!h}}};function Ls(t){var n,r,a;const{user:i}=(0,ss.useAuthStore)(),s=null===i||void 0===i?void 0:i.id,o=t.limit||10,l=function(e,t){return Rs(e,js,t)}({queryKey:["transactions","infinite",s,t],initialPageParam:0,queryFn:async e=>{let{pageParam:n}=e;const r={limit:o,offset:n,sort:t.sort,order:t.order},a={type:t.type,category:t.category,subcategory:t.subcategory,recurring:t.recurring,dateFrom:t.startDate,dateTo:t.endDate,minAmount:t.minAmount,maxAmount:t.maxAmount,search:t.search};return await As.fetchTransactions(s,r,a)},getNextPageParam:(e,t)=>{const n=t.length*o;if(!(e.data.length<o)&&!(n>=e.count))return n},gcTime:3e5,staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,retry:3,enabled:!!s}),u=(0,e.useMemo)((()=>{var e;return((null===(e=l.data)||void 0===e?void 0:e.pages.flatMap((e=>e.data)))||[]).map((e=>{const t=e;return!t.userId&&s&&(t.userId=s),t._id&&!t.id&&(t.id=t._id),t}))}),[l.data,s]),c=(null===(n=l.data)||void 0===n||null===(r=n.pages[0])||void 0===r?void 0:r.count)||0;return{data:u,pages:(null===(a=l.data)||void 0===a?void 0:a.pages)||[],isLoading:l.isLoading,isFetching:l.isFetching,error:l.error,hasNextPage:l.hasNextPage||!1,fetchNextPage:l.fetchNextPage,isFetchingNextPage:l.isFetchingNextPage,totalCount:c}}const Ds=()=>{const[t,n]=e.useState({limit:gn,type:"",category:"",subcategory:""}),{type:r,category:a,subcategory:i}=t,s=Ps((e=>e.setFilterType)),o=Ps((e=>e.setFilterCategory)),{user:l}=(0,ss.useAuthStore)(),[u,c]=e.useState(""),[d,h]=e.useState(""),[f,p]=e.useState(""),[g,m]=e.useState(""),[v,y]=e.useState(""),b=(0,e.useMemo)((()=>({limit:gn,type:r||void 0,category:a||void 0,subcategory:i||void 0,startDate:u||void 0,endDate:d||void 0,...f?{minAmount:parseFloat(f)}:{},...g?{maxAmount:parseFloat(g)}:{},...v?{search:v}:{},sort:"date",order:"desc"})),[r,a,i,u,d,f,g,v]),{data:w,error:x,isLoading:S,hasNextPage:_,fetchNextPage:E,isFetchingNextPage:C,totalCount:k,isFiltered:R,isFetching:T}=function(t){const{data:n,isLoading:r,isFetching:a,error:i,hasNextPage:s,fetchNextPage:o,isFetchingNextPage:l,totalCount:u}=Ls(t),c=(0,e.useRef)([]);return n&&n.length>0&&(c.current=n),{data:!r&&!a||n&&0!==n.length?n:c.current,isLoading:r,isFetching:a,error:i,hasNextPage:s,fetchNextPage:o,isFetchingNextPage:l,totalCount:u,isFiltered:(0,e.useMemo)((()=>!!(t.type||t.category||t.startDate||t.endDate||t.minAmount||t.maxAmount||t.search)),[t])}}(b),N=(0,e.useMemo)((()=>w?w.map((e=>{const t={...e};return!t.userId&&null!==l&&void 0!==l&&l.id&&(t.userId=l.id),!t.id&&t._id&&(t.id=t._id),t.date&&"string"!==typeof t.date&&(t.date=String(t.date)),t})):[]),[w,null===l||void 0===l?void 0:l.id]);const A=k,O=e.useCallback(((e,t,r)=>{n((n=>({...n,type:void 0!==e?e:n.type,category:void 0!==t?t:n.category,subcategory:void 0!==r?r:n.subcategory}))),void 0!==e&&s(e),void 0!==t&&o(t)}),[s,o]),I=e.useCallback((e=>{n((t=>({...t,subcategory:e})))}),[]);e.useEffect((()=>{const e=Ps.getState().filterType,t=Ps.getState().filterCategory;n((n=>({...n,type:e||"",category:t||""})))}),[]),e.useEffect((()=>(console.log("[TransactionsPage] Mounted"),()=>{console.log("[TransactionsPage] Unmounted")})),[]);const P=un("flex",void 0,"lg",void 0,["flex-col"]);return console.log("[TransactionsPage] tableWrapperClass",P),(0,Xt.jsxs)("div",{className:un("container","primary","lg",void 0,["fade-in","page-wrapper"]),children:[(0,Xt.jsx)("h1",{className:un("form-label","primary","xl",void 0,["gradient-text-subtle","mb-token"]),"data-testid":"transactions-title",children:zn}),(0,Xt.jsxs)("div",{className:un("card","default","lg",void 0,["shadow-md","mb-token"]),children:[(0,Xt.jsx)("div",{className:un("card-header",void 0,void 0,void 0,["gradient-bg-subtle"]),children:(0,Xt.jsx)("h2",{className:un("form-label","secondary","md"),children:"Adaug\u0103 tranzac\u021bie nou\u0103"})}),(0,Xt.jsx)("div",{className:un("card-body"),children:(0,Xt.jsx)(gs,{})})]}),(0,Xt.jsx)("div",{className:un("flex",void 0,void 0,void 0,["mb-token"]),children:(0,Xt.jsx)(Is,{type:r,category:a,subcategory:i,onTypeChange:e=>O(e,void 0,""),onCategoryChange:e=>O(void 0,e,""),onSubcategoryChange:I,dateFrom:u,dateTo:d,amountMin:f,amountMax:g,searchText:v,onDateFromChange:c,onDateToChange:h,onAmountMinChange:p,onAmountMaxChange:m,onSearchTextChange:y})}),(0,Xt.jsx)("div",{className:P,children:(0,Xt.jsx)(vs,{transactions:N,total:A,isLoading:S,isFetchingNextPage:C,hasNextPage:_,fetchNextPage:E,isFiltered:R,isFetching:T})}),x&&(0,Xt.jsx)(rs,{type:"error",message:x.message||"Eroare la \xeenc\u0103rcarea tranzac\u021biilor","data-testid":"fetch-error",withIcon:!0,withFadeIn:!0,withAccentBorder:!0,withShadow:!0,className:un("spacing","section")})]})},Fs=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ms=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()},$s=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var zs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Us=(0,e.forwardRef)(((t,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...c}=t;return(0,e.createElement)("svg",{ref:n,...zs,width:a,height:a,stroke:r,strokeWidth:s?24*Number(i)/Number(a):i,className:Ms("lucide",o),...!l&&!$s(c)&&{"aria-hidden":"true"},...c},[...u.map((t=>{let[n,r]=t;return(0,e.createElement)(n,r)})),...Array.isArray(l)?l:[l]])})),Vs=(t,n)=>{const r=(0,e.forwardRef)(((r,a)=>{let{className:i,...s}=r;return(0,e.createElement)(Us,{ref:a,iconNode:n,className:Ms(`lucide-${o=Fs(t),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,i),...s});var o}));return r.displayName=Fs(t),r},Bs=Vs("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Gs=Vs("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),qs=Vs("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Hs=Vs("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Zs=t=>{let{initialAmount:n,day:r,month:a,year:i,category:s,subcategory:o,type:l,onSave:u,onCancel:c,anchorRef:d}=t;const[h,f]=e.useState(n||""),[p,g]=e.useState(!1),[m,v]=e.useState(""),[y,b]=e.useState(""),[w,x]=e.useState(null),S=(0,e.useRef)(null),{getClasses:_}=cn({withFadeIn:!0,withShadow:!0,withTransition:!0}),E=(0,e.useCallback)((()=>{h&&!isNaN(Number(h))&&u({amount:h,recurring:p,frequency:m||void 0,description:y})}),[h,p,m,u,y]);(0,e.useEffect)((()=>{var e;null===(e=S.current)||void 0===e||e.focus()}),[]),(0,e.useEffect)((()=>{function e(e){if(document.activeElement!==S.current){var t;if(e.key>="0"&&e.key<="9")f((t=>"0"===t?e.key:t+e.key)),null===(t=S.current)||void 0===t||t.focus(),e.preventDefault();"Enter"===e.key&&(E(),e.preventDefault()),"Escape"===e.key&&(c(),e.preventDefault())}}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[c,E]);const C=e=>{x(e.target.id)},k=()=>{x(null)};return(0,Xt.jsxs)("div",{className:_("card-section","secondary","sm","active"),"data-testid":"cell-transaction-popover",children:[(0,Xt.jsx)("div",{className:_("flex-group","between","sm"),children:(0,Xt.jsxs)("label",{htmlFor:"amount-input",className:_("form-label","secondary","sm"),children:[Cn,"*"]})}),(0,Xt.jsx)(Qi,{id:"amount-input",name:"amount",type:"number",value:h,onChange:e=>f(e.target.value),onFocus:C,onBlur:k,placeholder:Gn,"data-testid":"cell-amount-input",min:.01,step:"0.01",maxLength:12,autoFocus:!0,ref:S,withGlowFocus:"amount-input"===w,withTransition:!0}),(0,Xt.jsx)("div",{className:_("flex-group","between","sm"),children:(0,Xt.jsx)("label",{htmlFor:"description-input",className:_("form-label","secondary","sm"),children:In})}),(0,Xt.jsx)(Qi,{id:"description-input",name:"description",type:"text",value:y,onChange:e=>b(e.target.value),onFocus:C,onBlur:k,placeholder:qn,"data-testid":"cell-description-input",maxLength:100,withGlowFocus:"description-input"===w,withTransition:!0}),(0,Xt.jsx)("div",{className:_("spacing","section","sm"),children:(0,Xt.jsx)(es,{name:"recurring",checked:p,onChange:e=>g(e.target.checked),label:Nn,"data-testid":"cell-recurring-checkbox",withBorderAnimation:!0,withScaleEffect:!0})}),p&&(0,Xt.jsx)(Yi,{name:"frequency",value:m,onChange:e=>v(e.target.value),onFocus:C,onBlur:k,options:er.FREQUENCY,placeholder:Bn,"data-testid":"cell-frequency-select",withGlowFocus:!0,withHoverEffect:!0,withTransition:!0,className:"frequency"===w?_("input","primary",void 0,"focus"):""}),(0,Xt.jsxs)("div",{className:_("flex-group","between","md"),children:[(0,Xt.jsx)(Zi,{type:"button",variant:"primary",size:"sm",onClick:E,"data-testid":"cell-save-btn",withShadow:!0,children:Qn.ADD}),(0,Xt.jsx)(Zi,{type:"button",variant:"secondary",size:"sm",onClick:c,"data-testid":"cell-cancel-btn",withShadow:!0,children:Qn.CANCEL})]})]})},Ks=t=>{let{categoryKey:n,subcategories:r,transactions:a,days:i,popover:s,handleCellClick:o,handleCellDoubleClick:l,handleSavePopover:u,handleClosePopover:c,handleEditSubcategory:d,handleDeleteSubcategory:h,isCustomSubcategory:f,user:p,addingCategory:g,onStartAddSubcategory:m,onAddSubcategory:v,onCancelAddSubcategory:y}=t;const{renameSubcategory:b}=fs(),[w,x]=(0,e.useState)(""),[S,_]=(0,e.useState)(null),[E,C]=(0,e.useState)("");return(0,Xt.jsxs)(Xt.Fragment,{children:[r.map((e=>S===e?(0,Xt.jsxs)("tr",{className:"border-t border-secondary-200",children:[(0,Xt.jsx)("td",{className:"sticky left-0 excel-header z-10 px-4 py-2 pl-8",children:(0,Xt.jsxs)("div",{className:"flex items-center w-full",children:[(0,Xt.jsx)("input",{className:"input-field w-full",value:E,onChange:e=>C(e.target.value),onKeyDown:async t=>{"Enter"===t.key&&(await b(p.id||p,n,e,E.trim()),_(null)),"Escape"===t.key&&_(null)},autoFocus:!0,"data-testid":`edit-subcat-input-${e}`}),(0,Xt.jsx)("button",{className:"ml-2 btn btn-success",onClick:async()=>{await b(p.id||p,n,e,E.trim()),_(null)},"data-testid":`confirm-rename-${e}`,children:Qn.DONE}),(0,Xt.jsx)("button",{className:"ml-2 btn btn-error",onClick:()=>_(null),"data-testid":`cancel-rename-${e}`,children:Qn.CANCEL})]})}),i.map((e=>(0,Xt.jsx)("td",{},e)))]},`edit-${e}`):(0,Xt.jsxs)("tr",{className:"group hover:bg-secondary-100 border-t border-secondary-200","data-testid":`subcategory-row-${n}-${e}`,children:[(0,Xt.jsxs)("td",{className:"sticky left-0 excel-header z-10 px-4 py-2 pl-8","data-testid":`subcat-${e}`,children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-4 h-0 border-t border-secondary-400 mr-2"}),(0,Xt.jsxs)("span",{"data-testid":`subcat-label-${e}`,children:[e," ",f(n,e)&&(0,Xt.jsx)("span",{className:"text-accent text-sm ml-1",children:"\u27a1\ufe0f"})]})]}),p&&(0,Xt.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 mr-2 hidden [.group:hover_&]:!flex gap-2",children:f(n,e)?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("button",{className:"p-1 text-secondary-500 hover:text-accent focus:outline-none",onClick:t=>{t.stopPropagation(),_(e),C(e)},title:"Editeaz\u0103 subcategorie","data-testid":`edit-subcat-${n}-${e}`,children:(0,Xt.jsx)(qs,{size:14})}),(0,Xt.jsx)("button",{className:"p-1 text-secondary-500 hover:text-error-600 focus:outline-none",onClick:t=>{t.stopPropagation(),window.confirm(_n.C.CONFIRMARE_STERGERE)&&h(n,e)},title:"\u0218terge subcategorie","data-testid":`delete-subcat-${n}-${e}`,children:(0,Xt.jsx)(Hs,{size:14})})]}):(0,Xt.jsx)("button",{className:"p-1 text-secondary-400 hover:text-accent focus:outline-none",onClick:t=>{t.stopPropagation(),_(e),C(e)},title:"Redenume\u0219te subcategoria","data-testid":`rename-subcat-${n}-${e}`,children:(0,Xt.jsx)(qs,{size:14})})})]}),i.map((t=>{var r,i;const d=a.filter((r=>r.category===n&&r.subcategory===e&&new Date(r.date).getDate()===t)).reduce(((e,t)=>e+("COMPLETED"===t.status&&"number"===typeof t.actualAmount?t.actualAmount:t.amount)),0);return(0,Xt.jsxs)("td",{className:"excel-cell text-right "+(0!==d?d>0?"text-success-600 font-medium":"text-error-600 font-medium":"text-secondary-400"),"data-testid":`cell-${n}-${e}-${t}`,tabIndex:0,onClick:r=>o(r,n,e,t,0!==d?String(d):"",""),onDoubleClick:r=>l(r,n,e,t,0!==d?String(d):""),children:[0!==d?d.toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2}):"\u2014",s&&s.category===n&&s.subcategory===e&&s.day===t&&(0,Xt.jsx)("div",{style:{position:"absolute",left:(null===(r=s.anchorRect)||void 0===r?void 0:r.left)||0,top:((null===(i=s.anchorRect)||void 0===i?void 0:i.top)||0)+40,zIndex:100},"data-testid":`popover-cell-${n}-${e}-${t}`,children:(0,Xt.jsx)(Zs,{initialAmount:s.initialAmount,day:s.day,month:s.day,year:s.day,category:s.category,subcategory:s.subcategory,type:s.type,onSave:u,onCancel:c})})]},t)}))]},`${n}-${e}`))),!g&&m&&(0,Xt.jsxs)("tr",{className:"border-t border-secondary-200",children:[(0,Xt.jsx)("td",{className:"sticky left-0 bg-white z-10 px-4 py-2 pl-8",children:(0,Xt.jsx)("button",{className:"btn btn-accent",onClick:()=>m(n),"data-testid":`start-add-${n}`,children:"Adaug\u0103 subcategorie"})}),i.map((e=>(0,Xt.jsx)("td",{className:"excel-cell"},`empty-${e}`)))]},"start-add-row"),g===n&&(0,Xt.jsxs)("tr",{className:"border-t border-secondary-200",children:[(0,Xt.jsx)("td",{className:"sticky left-0 bg-white z-10 px-4 py-2 pl-8",children:(0,Xt.jsxs)("div",{className:"flex items-center w-full",children:[(0,Xt.jsx)("input",{className:"input-field w-full",placeholder:"Nume subcategorie","data-testid":"add-subcat-input",value:w,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(null===v||void 0===v||v(n,w)),"Escape"===e.key&&(null===y||void 0===y||y())}}),(0,Xt.jsx)("button",{className:"ml-2 btn btn-success",onClick:()=>null===v||void 0===v?void 0:v(n,w),"data-testid":`confirm-add-${n}`,children:"Done"}),(0,Xt.jsx)("button",{className:"ml-2 btn btn-error",onClick:()=>null===y||void 0===y?void 0:y(),"data-testid":`cancel-add-${n}`,children:"Cancel"})]})}),i.map((e=>(0,Xt.jsx)("td",{className:"excel-cell"},e)))]},"add-row")]})};function Ws(e){return{all:[e],details:t=>[e,"detail",t],list:t=>[e,"list",t],monthly:(t,n,r)=>[e,"monthly",t,n,r],infinite:t=>[e,"infinite",t],withParams:t=>[e,t]}}const Qs={transactions:Ws("transactions"),categories:Ws("categories"),users:Ws("users"),statistics:Ws("statistics")};function Js(e,t){var n,r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e5;return{...e,staleTime:null!==(n=e.staleTime)&&void 0!==n?n:a,gcTime:null!==(r=e.gcTime)&&void 0!==r?r:i,enabled:void 0!==t&&!1!==e.enabled}}class Ys{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e5;this.cache=new Map,this.maxAge=void 0,this.maxAge=e}get(e,t){const n=this.cache.get(e),r=Date.now();if(n&&r-n.timestamp<this.maxAge)return n.value;const a=t();return this.cache.set(e,{value:a,timestamp:r}),a}invalidate(e){this.cache.delete(e)}clear(){this.cache.clear()}}new Ys(12e4),new Ys(3e5);function Xs(e){return e.toString().padStart(2,"0")}function eo(e,t,n){var r,a;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{user:s}=(0,ss.useAuthStore)(),o=n||(null===s||void 0===s?void 0:s.id),{includeAdjacentDays:l=!1,staleTime:u=3e4,gcTime:c=3e5}=i,d=Ts(Js({queryKey:Qs.transactions.monthly(e,t,o),queryFn:async()=>{const n=function(e,t){const n=`${e}-${Xs(t)}-01`,r=new Date(e,t,0).getDate();return{from:n,to:`${e}-${Xs(t)}-${Xs(r)}`}}(e,t);let r=n.from,a=n.to;if(l){const n=1===t?e-1:e,i=1===t?12:t-1,s=new Date(n,i,0).getDate();r=`${n}-${Xs(i)}-${Xs(Math.max(1,s-5))}`,a=`${12===t?e+1:e}-${Xs(12===t?1:t+1)}-${Xs(6)}`}const i=await As.fetchTransactions(o,{limit:1e3,sort:"date"},{dateFrom:r,dateTo:a});return{data:i.data,count:i.count}},staleTime:u,gcTime:c,enabled:!0},o));return{transactions:(null===(r=d.data)||void 0===r?void 0:r.data)||[],isLoading:d.isLoading||d.isFetching,error:d.error,totalCount:(null===(a=d.data)||void 0===a?void 0:a.count)||0,refetch:d.refetch}}var to=class extends It{#l;#_=void 0;#V;#B;constructor(e,t){super(),this.#l=e,this.setOptions(t),this.bindMethods(),this.#G()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#l.defaultMutationOptions(e),wt(this.options,t)||this.#l.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#V,observer:this}),t?.mutationKey&&this.options.mutationKey&&vt(t.mutationKey)!==vt(this.options.mutationKey)?this.reset():"pending"===this.#V?.state.status&&this.#V.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#V?.removeObserver(this)}onMutationUpdate(e){this.#G(),this.#U(e)}getCurrentResult(){return this.#_}reset(){this.#V?.removeObserver(this),this.#V=void 0,this.#G(),this.#U()}mutate(e,t){return this.#B=t,this.#V?.removeObserver(this),this.#V=this.#l.getMutationCache().build(this.#l,this.options),this.#V.addObserver(this),this.#V.execute(e)}#G(){const e=this.#V?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#_={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#U(e){Ot.batch((()=>{if(this.#B&&this.hasListeners()){const t=this.#_.variables,n=this.#_.context;"success"===e?.type?(this.#B.onSuccess?.(e.data,t,n),this.#B.onSettled?.(e.data,null,t,n)):"error"===e?.type&&(this.#B.onError?.(e.error,t,n),this.#B.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach((e=>{e(this.#_)}))}))}};function no(t,n){const r=tn(n),[a]=e.useState((()=>new to(r,t)));e.useEffect((()=>{a.setOptions(t)}),[a,t]);const i=e.useSyncExternalStore(e.useCallback((e=>a.subscribe(Ot.batchCalls(e))),[a]),(()=>a.getCurrentResult()),(()=>a.getCurrentResult())),s=e.useCallback(((e,t)=>{a.mutate(e,t).catch(ut)}),[a]);if(i.error&&Nt(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const ro=["transactions"];function ao(){const e=tn();return no({mutationFn:async e=>As.createTransaction(e),onMutate:async t=>{await e.cancelQueries({queryKey:ro});const n=e.getQueryData(ro);if(n&&n.pages.length>0){const r={...n.pages[0]},a={id:`temp-${Date.now()}`,...t,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};r.data=[a,...r.data],r.count=(r.count||0)+1,e.setQueryData(ro,{...n,pages:[r,...n.pages.slice(1)]})}return{previousData:n}},onError:(t,n,r)=>{null!==r&&void 0!==r&&r.previousData&&e.setQueryData(ro,r.previousData)},onSuccess:()=>{e.invalidateQueries({queryKey:ro})}})}function io(e){return 0===e?"RON 0.00":`RON ${Math.abs(e).toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2})}`}const so="budget-app-category-expand",oo=t=>{var n;let{year:r,month:a}=t;const i=tn(),s=ao(),{getClasses:o}=cn({withFadeIn:!0,withShadow:!0,withTransition:!0}),[l,u]=e.useState(null),c=fs((e=>e.categories)),d=(fs((e=>e.loadUserCategories)),fs((e=>e.mergeWithDefaults)),fs((e=>e.deleteSubcategory))),h="Extinde toate categoriile",f="Colapseaz\u0103 toate categoriile",p=((e,t)=>{const n=new Date(e,t,0);return Array.from({length:n.getDate()},((e,t)=>t+1))})(r,a),{transactions:g,isLoading:m}=eo(r,a,null===(n=(0,ss.useAuthStore)((e=>e.user)))||void 0===n?void 0:n.id,{includeAdjacentDays:!0}),[v,y]=e.useState((()=>{try{const e=localStorage.getItem(so);return e?JSON.parse(e):{}}catch(e){return console.error("Error loading expanded categories from localStorage:",e),{}}})),b=e.useCallback((()=>{const e={};c.forEach((t=>{e[t.name]=!0})),y(e);try{localStorage.setItem(so,JSON.stringify(e))}catch{}}),[c]),w=e.useCallback((()=>{const e={};c.forEach((t=>{e[t.name]=!1})),y(e);try{localStorage.setItem(so,JSON.stringify(e))}catch{}}),[c]),x=e.useMemo((()=>{const e={};return c.forEach((t=>{e[t.name]=function(e,t){const n={};return e.forEach((e=>{if(e.category===t){const t=new Date(e.date).getDate(),r=e.status===wn.COMPLETED&&"number"===typeof e.actualAmount?e.actualAmount:e.amount;n[t]=(n[t]||0)+r}})),n}(g,t.name)})),e}),[g,c]),S=e.useRef(null),_=e.useCallback((()=>{console.log(" Marking transaction added for subtle refresh..."),S.current={timestamp:Date.now(),processed:!1},setTimeout((()=>{S.current&&(S.current.processed=!0),setTimeout((()=>{i.invalidateQueries({queryKey:["transactions",r,a]}),i.fetchQuery({queryKey:["transactions",r,a]})}),100)}),100)}),[r,a,i]),E=e.useMemo((()=>p.reduce(((e,t)=>(e[t]=function(e,t){return e.filter((e=>new Date(e.date).getDate()===t)).reduce(((e,t)=>{const n=t.status===wn.COMPLETED&&"number"===typeof t.actualAmount?t.actualAmount:t.amount;return t.type===bn.INCOME?e+n:e-Math.abs(n)}),0)}(g,t),e)),{})),[p,g]),C=e=>0===e?"text-secondary-400":e>0?"text-success-600 font-medium":"text-error-600 font-medium",[k,R]=e.useState(null),T=e=>"VENITURI"===e?bn.INCOME:"ECONOMII"===e?bn.SAVING:bn.EXPENSE,N=(e,t,n,r,a,i)=>{if(k&&k.category===t&&k.subcategory===n&&k.day===r)return;const s=T(t);R({category:t,subcategory:n,day:r,anchorRect:e.currentTarget.getBoundingClientRect(),initialAmount:a,type:s})},A=e.useCallback(((e,t,n,s,o)=>{e.preventDefault();T(t);const l=window.prompt(Xn.PROMPTS.ENTER_AMOUNT,o.replace(/[^0-9.-]/g,""));if(!l)return;if(isNaN(Number(l)))return void alert("Suma introdus\u0103 nu este valid\u0103!");new Date(r,a-1,s);i.invalidateQueries({queryKey:["transactions",r,a]}),R(null)}),[a,r,i]),O=async e=>{if(k){console.log("Saving transaction with data:",e);try{const{category:t,subcategory:n,day:i,type:o}=k,{amount:l,description:u,recurring:c,frequency:d}=e,h=new Date(r,a-1,i),f={amount:Number(l),category:t,subcategory:n,type:o,date:h.toISOString().slice(0,10),recurring:c,frequency:d,description:u||""};console.log("Sending transaction data:",f),s.mutate(f,{onSuccess:()=>{console.log("Tranzac\u021bie creat\u0103 cu succes!"),_()},onError:e=>{console.error("Eroare la crearea tranzac\u021biei:",e)}})}catch(t){console.error("Error saving transaction:",t)}finally{R(null)}}},I=()=>R(null),{user:P}=(0,ss.useAuthStore)(),j=e.useCallback(((e,t)=>{P&&d(P.id,e,t,"delete")}),[d,P]),L=(e,t)=>{const n=c.find((t=>t.name===e));if(!n)return!1;const r=n.subcategories.find((e=>e.name===t));return(null===r||void 0===r?void 0:r.isCustom)||!1},[D,F]=e.useState(null),{categories:M,saveCategories:$}=fs();return(0,Xt.jsxs)(e.Fragment,{children:[(0,Xt.jsxs)("div",{className:o("flex-group","end","md"),children:[(0,Xt.jsx)(Zi,{onClick:b,variant:"secondary",size:"sm",withShadow:!0,"data-testid":"expand-all-btn",children:h}),(0,Xt.jsx)(Zi,{onClick:w,variant:"secondary",size:"sm",withShadow:!0,"data-testid":"collapse-all-btn",children:f})]}),(0,Xt.jsx)("div",{className:`${o("card-section","secondary")} overflow-x-auto rounded-lg`,children:(0,Xt.jsxs)("table",{className:o("table","striped"),"data-testid":"lunar-grid-table",children:[(0,Xt.jsx)("thead",{children:(0,Xt.jsxs)("tr",{className:o("table-row","secondary"),children:[(0,Xt.jsx)("th",{className:`${o("table-header")} sticky left-0 z-20 text-left`,style:{minWidth:180},children:Xn.HEADERS.LUNA}),p.map((e=>(0,Xt.jsx)("th",{className:`${o("table-cell")} text-right`,children:e},e)))]})}),(0,Xt.jsxs)("tbody",{children:[c.map((t=>{const n=t.name,r=t.subcategories.map((e=>e.name)),a=!!v[n],i=x[n]||{};return(0,Xt.jsxs)(e.Fragment,{children:[(0,Xt.jsxs)("tr",{className:"bg-secondary-100 hover:bg-secondary-200 cursor-pointer",onClick:()=>(e=>{y((t=>{const n={...t,[e]:!t[e]};try{localStorage.setItem(so,JSON.stringify(n))}catch(r){console.error("Error saving to localStorage:",r)}return n}))})(n),"data-testid":`category-row-${n}`,children:[(0,Xt.jsxs)("td",{className:"sticky left-0 bg-teal-100 hover:bg-teal-200 z-10 font-semibold px-4 py-2 flex items-center","data-testid":`category-header-${n}`,children:[a?(0,Xt.jsx)(Bs,{size:16,className:"mr-1","data-testid":`category-expanded-${n}`}):(0,Xt.jsx)(Gs,{size:16,className:"mr-1","data-testid":`category-collapsed-${n}`}),n]}),p.map((e=>{const t=i[e]||0;return(0,Xt.jsx)("td",{className:`px-4 py-2 text-right ${C(t)}`,"data-testid":`category-total-${n}-${e}`,children:0!==t?io(t):"\u2014"},e)}))]}),a&&(0,Xt.jsx)(Ks,{categoryKey:n,subcategories:r,transactions:g,days:p,popover:k,handleCellClick:N,handleCellDoubleClick:A,handleSavePopover:O,handleClosePopover:I,handleEditSubcategory:(e,t)=>{u({category:e,subcategory:t,mode:"edit"})},handleDeleteSubcategory:j,isCustomSubcategory:L,user:P,addingCategory:D,onAddSubcategory:async(e,t)=>{if(!P||!t.trim())return;const n=M.find((t=>t.name===e));if(!n||n.subcategories.some((e=>e.name.toLowerCase()===t.trim().toLowerCase())))return;const r=M.map((n=>n.name===e?{...n,subcategories:[...n.subcategories,{name:t.trim(),isCustom:!0}]}:n));await $(P.id,r),F(null)},onCancelAddSubcategory:()=>F(null),onStartAddSubcategory:e=>F(e)})]},n)})),(0,Xt.jsxs)("tr",{className:"bg-gray-100 font-bold border-t-2",children:[(0,Xt.jsx)("td",{className:"sticky left-0 bg-gray-100 z-10 px-4 py-2","data-testid":"sold-label",children:Xn.HEADERS.SOLD}),p.map((e=>{const t=E[e];return(0,Xt.jsx)("td",{className:`px-4 py-2 text-right ${C(t)}`,"data-testid":`sold-day-${e}`,children:io(t)},e)}))]})]})]})})]})};function lo(e,t){return"function"===typeof e?e(t):e}function uo(e,t){return n=>{t.setState((t=>({...t,[e]:lo(n,t[e])})))}}function co(e){return e instanceof Function}function ho(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const a=t(e);null!=a&&a.length&&r(a)}))};return r(e),n}function fo(e,t,n){let r,a=[];return i=>{let s;n.key&&n.debug&&(s=Date.now());const o=e(i);if(!(o.length!==a.length||o.some(((e,t)=>a[t]!==e))))return r;let l;if(a=o,n.key&&n.debug&&(l=Date.now()),r=t(...o),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-s))/100,t=Math.round(100*(Date.now()-l))/100,r=t/16,a=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c\u23f1 ${a(t,5)} /${a(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function po(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}const go="debugHeaders";function mo(e,t,n){var r;let a={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(a),e},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach((t=>{null==t.createHeader||t.createHeader(a,e)})),a}const vo={createTable:e=>{e.getHeaderGroups=fo((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,a)=>{var i,s;const o=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[],l=null!=(s=null==a?void 0:a.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?s:[];return yo(t,[...o,...n.filter((e=>!(null!=r&&r.includes(e.id))&&!(null!=a&&a.includes(e.id)))),...l],e)}),po(e.options,go)),e.getCenterHeaderGroups=fo((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,a)=>yo(t,n=n.filter((e=>!(null!=r&&r.includes(e.id))&&!(null!=a&&a.includes(e.id)))),e,"center")),po(e.options,go)),e.getLeftHeaderGroups=fo((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var a;const i=null!=(a=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[];return yo(t,i,e,"left")}),po(e.options,go)),e.getRightHeaderGroups=fo((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var a;const i=null!=(a=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[];return yo(t,i,e,"right")}),po(e.options,go)),e.getFooterGroups=fo((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),po(e.options,go)),e.getLeftFooterGroups=fo((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),po(e.options,go)),e.getCenterFooterGroups=fo((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),po(e.options,go)),e.getRightFooterGroups=fo((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),po(e.options,go)),e.getFlatHeaders=fo((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),po(e.options,go)),e.getLeftFlatHeaders=fo((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),po(e.options,go)),e.getCenterFlatHeaders=fo((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),po(e.options,go)),e.getRightFlatHeaders=fo((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),po(e.options,go)),e.getCenterLeafHeaders=fo((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),po(e.options,go)),e.getLeftLeafHeaders=fo((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),po(e.options,go)),e.getRightLeafHeaders=fo((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),po(e.options,go)),e.getLeafHeaders=fo((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,a,i,s,o,l;return[...null!=(r=null==(a=e[0])?void 0:a.headers)?r:[],...null!=(i=null==(s=t[0])?void 0:s.headers)?i:[],...null!=(o=null==(l=n[0])?void 0:l.headers)?o:[]].map((e=>e.getLeafHeaders())).flat()}),po(e.options,go))}};function yo(e,t,n,r){var a,i;let s=0;const o=function(e,t){void 0===t&&(t=1),s=Math.max(s,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&o(e.columns,t+1)}),0)};o(e);let l=[];const u=(e,t)=>{const a={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},i=[];e.forEach((e=>{const s=[...i].reverse()[0];let o,l=!1;if(e.column.depth===a.depth&&e.column.parent?o=e.column.parent:(o=e.column,l=!0),s&&(null==s?void 0:s.column)===o)s.subHeaders.push(e);else{const a=mo(n,o,{id:[r,t,o.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${i.filter((e=>e.column===o)).length}`:void 0,depth:t,index:i.length});a.subHeaders.push(e),i.push(a)}a.headers.push(e),e.headerGroup=a})),l.push(a),t>0&&u(i,t-1)},c=t.map(((e,t)=>mo(n,e,{depth:s,index:t})));u(c,s-1),l.reverse();const d=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:a}=e;t+=n,r.push(a)}))):t=1;return n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return d(null!=(a=null==(i=l[0])?void 0:i.headers)?a:[]),l}const bo=(e,t,n,r,a,i,s)=>{let o={id:t,index:r,original:n,depth:a,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(o._valuesCache.hasOwnProperty(t))return o._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(o._valuesCache[t]=n.accessorFn(o.original,r),o._valuesCache[t]):void 0},getUniqueValues:t=>{if(o._uniqueValuesCache.hasOwnProperty(t))return o._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(o._uniqueValuesCache[t]=n.columnDef.getUniqueValues(o.original,r),o._uniqueValuesCache[t]):(o._uniqueValuesCache[t]=[o.getValue(t)],o._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=o.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=i?i:[],getLeafRows:()=>ho(o.subRows,(e=>e.subRows)),getParentRow:()=>o.parentId?e.getRow(o.parentId,!0):void 0,getParentRows:()=>{let e=[],t=o;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:fo((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=a.getValue())?t:e.options.renderFallbackValue},getContext:fo((()=>[e,n,t,a]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),po(e.options,"debugCells"))};return e._features.forEach((r=>{null==r.createCell||r.createCell(a,n,t,e)}),{}),a}(e,o,t,t.id)))),po(e.options,"debugRows")),_getAllCellsByColumnId:fo((()=>[o.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),po(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const t=e._features[l];null==t||null==t.createRow||t.createRow(o,e)}return o},wo={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},xo=(e,t,n)=>{var r,a;const i=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return Boolean(null==(a=e.getValue(t))||null==(a=a.toString())||null==(a=a.toLowerCase())?void 0:a.includes(i))};xo.autoRemove=e=>Oo(e);const So=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};So.autoRemove=e=>Oo(e);const _o=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};_o.autoRemove=e=>Oo(e);const Eo=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};Eo.autoRemove=e=>Oo(e);const Co=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));Co.autoRemove=e=>Oo(e)||!(null!=e&&e.length);const ko=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));ko.autoRemove=e=>Oo(e)||!(null!=e&&e.length);const Ro=(e,t,n)=>e.getValue(t)===n;Ro.autoRemove=e=>Oo(e);const To=(e,t,n)=>e.getValue(t)==n;To.autoRemove=e=>Oo(e);const No=(e,t,n)=>{let[r,a]=n;const i=e.getValue(t);return i>=r&&i<=a};No.resolveFilterValue=e=>{let[t,n]=e,r="number"!==typeof t?parseFloat(t):t,a="number"!==typeof n?parseFloat(n):n,i=null===t||Number.isNaN(r)?-1/0:r,s=null===n||Number.isNaN(a)?1/0:a;if(i>s){const e=i;i=s,s=e}return[i,s]},No.autoRemove=e=>Oo(e)||Oo(e[0])&&Oo(e[1]);const Ao={includesString:xo,includesStringSensitive:So,equalsString:_o,arrIncludes:Eo,arrIncludesAll:Co,arrIncludesSome:ko,equals:Ro,weakEquals:To,inNumberRange:No};function Oo(e){return void 0===e||null===e||""===e}const Io={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:uo("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"===typeof r?Ao.includesString:"number"===typeof r?Ao.inNumberRange:"boolean"===typeof r||null!==r&&"object"===typeof r?Ao.equals:Array.isArray(r)?Ao.arrIncludes:Ao.weakEquals},e.getFilterFn=()=>{var n,r;return co(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:Ao[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(a=t.options.enableFilters)||a)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find((t=>t.id===e.id)))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),a=null==t?void 0:t.find((t=>t.id===e.id)),i=lo(n,a?a.value:void 0);var s;if(Po(r,i,e))return null!=(s=null==t?void 0:t.filter((t=>t.id!==e.id)))?s:[];const o={id:e.id,value:i};var l;return a?null!=(l=null==t?void 0:t.map((t=>t.id===e.id?o:t)))?l:[]:null!=t&&t.length?[...t,o]:[o]}))}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=lo(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));if(t){if(Po(t.getFilterFn(),e.value,t))return!1}return!0}))}))},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Po(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||"undefined"===typeof t||"string"===typeof t&&!t}const jo={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"===typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,a;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=a=n):(r>n&&(r=n),a<n&&(a=n)))})),[r,a]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let a=t.getValue(e);null!=a&&(a=+a)>=a&&(++n,r+=a)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(!function(e){return Array.isArray(e)&&e.every((e=>"number"===typeof e))}(n))return;if(1===n.length)return n[0];const r=Math.floor(n.length/2),a=n.sort(((e,t)=>e-t));return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},Lo={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:uo("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"===typeof r?jo.sum:"[object Date]"===Object.prototype.toString.call(r)?jo.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return co(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:jo[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}};const Do={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:uo("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=fo((e=>[Bo(t,e)]),(t=>t.findIndex((t=>t.id===e.id))),po(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=Bo(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=Bo(t,n);return(null==(r=a[a.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=fo((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let a=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&a.push(n.splice(r,1)[0])}a=[...a,...n]}else a=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));if("remove"===n)return r;const a=t.map((t=>e.find((e=>e.id===t)))).filter(Boolean);return[...a,...r]}(a,t,n)}),po(e.options,"debugTable"))}},Fo={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:uo("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,a,i,s,o,l;return"right"===n?{left:(null!=(i=null==e?void 0:e.left)?i:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(s=null==e?void 0:e.right)?s:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(o=null==e?void 0:e.left)?o:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(a=null==e?void 0:e.right)?a:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},e.getCanPin=()=>e.getLeafColumns().some((e=>{var n,r,a;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(a=t.options.enableColumnPinning)?a:t.options.enablePinning)||r)})),e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:a}=t.getState().columnPinning,i=n.some((e=>null==r?void 0:r.includes(e))),s=n.some((e=>null==a?void 0:a.includes(e)));return i?"left":!!s&&"right"},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[a])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=fo((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),po(t.options,"debugRows")),e.getLeftVisibleCells=fo((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})));return n}),po(t.options,"debugRows")),e.getRightVisibleCells=fo((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})));return n}),po(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var a,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(a=r.left)?void 0:a.length)||(null==(i=r.right)?void 0:i.length))},e.getLeftLeafColumns=fo((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),po(e.options,"debugColumns")),e.getRightLeafColumns=fo((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),po(e.options,"debugColumns")),e.getCenterLeafColumns=fo((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),po(e.options,"debugColumns"))}};const Mo={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},$o={getDefaultColumnDef:()=>Mo,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:uo("columnSizing",e),onColumnSizingInfoChange:uo("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const i=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:Mo.minSize,null!=(r=null!=i?i:e.columnDef.size)?r:Mo.size),null!=(a=e.columnDef.maxSize)?a:Mo.maxSize)},e.getStart=fo((e=>[e,Bo(t,e),t.getState().columnSizing]),((t,n)=>n.slice(0,e.getIndex(t)).reduce(((e,t)=>e+t.getSize()),0)),po(t.options,"debugColumns")),e.getAfter=fo((e=>[e,Bo(t,e),t.getState().columnSizing]),((t,n)=>n.slice(e.getIndex(t)+1).reduce(((e,t)=>e+t.getSize()),0)),po(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=null==r?void 0:r.getCanResize();return i=>{if(!r||!a)return;if(null==i.persist||i.persist(),Uo(i)&&i.touches&&i.touches.length>1)return;const s=e.getSize(),o=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[r.id,r.getSize()]],l=Uo(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(e,n)=>{"number"===typeof n&&(t.setColumnSizingInfo((e=>{var r,a;const i="rtl"===t.options.columnResizeDirection?-1:1,s=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*i,o=Math.max(s/(null!=(a=null==e?void 0:e.startSize)?a:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;u[t]=Math.round(100*Math.max(n+n*o,0))/100})),{...e,deltaOffset:s,deltaPercentage:o}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...u}))))},d=e=>c("move",e),h=e=>{c("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},f=n||("undefined"!==typeof document?document:null);const p={moveHandler:e=>d(e.clientX),upHandler:e=>{null==f||f.removeEventListener("mousemove",p.moveHandler),null==f||f.removeEventListener("mouseup",p.upHandler),h(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;null==f||f.removeEventListener("touchmove",g.moveHandler),null==f||f.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),h(null==(t=e.touches[0])?void 0:t.clientX)}},m=!!function(){if("boolean"===typeof zo)return zo;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(t){e=!1}return zo=e,zo}()&&{passive:!1};Uo(i)?(null==f||f.addEventListener("touchmove",g.moveHandler,m),null==f||f.addEventListener("touchend",g.upHandler,m)):(null==f||f.addEventListener("mousemove",p.moveHandler,m),null==f||f.addEventListener("mouseup",p.upHandler,m)),t.setColumnSizingInfo((e=>({...e,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:r.id})))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}}};let zo=null;function Uo(e){return"touchstart"===e.type}const Vo={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:uo("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},e.getIsVisible=()=>{var n,r;const a=e.columns;return null==(n=a.length?a.some((e=>e.getIsVisible())):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=fo((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),po(t.options,"debugRows")),e.getVisibleCells=fo((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),po(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>fo((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),po(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,(()=>e.getAllFlatColumns())),e.getVisibleLeafColumns=t(0,(()=>e.getAllLeafColumns())),e.getLeftVisibleLeafColumns=t(0,(()=>e.getLeftLeafColumns())),e.getRightVisibleLeafColumns=t(0,(()=>e.getRightLeafColumns())),e.getCenterVisibleLeafColumns=t(0,(()=>e.getCenterLeafColumns())),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}};function Bo(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Go={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:uo("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(t){if(null!=(r=null!=(a=e.options.autoResetAll)?a:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"===typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var a;const i=!0===r||!(null==r||!r[e.id]);let s={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{s[e]=!0})):s=r,n=null!=(a=n)?a:!i,!i&&n)return{...s,[e.id]:!0};if(i&&!n){const{[e.id]:t,...n}=s;return n}return r}))},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,a;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(a=e.subRows)||!a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},qo={getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:uo("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(t){if(null!=(r=null!=(a=e.options.autoResetAll)?a:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>lo(t,e))),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination((n=>{let r=lo(t,n.pageIndex);const a="undefined"===typeof e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,a)),{...n,pageIndex:r}}))},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,lo(t,e.pageSize)),r=e.pageSize*e.pageIndex,a=Math.floor(r/n);return{...e,pageIndex:a,pageSize:n}}))},e.setPageCount=t=>e.setPagination((n=>{var r;let a=lo(t,null!=(r=e.options.pageCount)?r:-1);return"number"===typeof a&&(a=Math.max(-1,a)),{...n,pageCount:a}})),e.getPageOptions=fo((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),po(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex((e=>e-1)),e.nextPage=()=>e.setPageIndex((e=>e+1)),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},Ho={getInitialState:e=>({rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onRowPinningChange:uo("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,a)=>{const i=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[],s=a?e.getParentRows().map((e=>{let{id:t}=e;return t})):[],o=new Set([...s,e.id,...i]);t.setRowPinning((e=>{var t,r,a,i,s,l;return"bottom"===n?{top:(null!=(a=null==e?void 0:e.top)?a:[]).filter((e=>!(null!=o&&o.has(e)))),bottom:[...(null!=(i=null==e?void 0:e.bottom)?i:[]).filter((e=>!(null!=o&&o.has(e)))),...Array.from(o)]}:"top"===n?{top:[...(null!=(s=null==e?void 0:e.top)?s:[]).filter((e=>!(null!=o&&o.has(e)))),...Array.from(o)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter((e=>!(null!=o&&o.has(e))))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter((e=>!(null!=o&&o.has(e)))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter((e=>!(null!=o&&o.has(e))))}}))},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return"function"===typeof r?r(e):null==(n=null!=r?r:a)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,i=n.some((e=>null==r?void 0:r.includes(e))),s=n.some((e=>null==a?void 0:a.includes(e)));return i?"top":!!s&&"bottom"},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const i=null==(n="top"===a?t.getTopRows():t.getBottomRows())?void 0:n.map((e=>{let{id:t}=e;return t}));return null!=(r=null==i?void 0:i.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var a,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(a=r.top)?void 0:a.length)||(null==(i=r.bottom)?void 0:i.length))},e._getPinnedRows=(t,n,r)=>{var a;return(null==(a=e.options.keepPinnedRows)||a?(null!=n?n:[]).map((t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null})):(null!=n?n:[]).map((e=>t.find((t=>t.id===e))))).filter(Boolean).map((e=>({...e,position:r})))},e.getTopRows=fo((()=>[e.getRowModel().rows,e.getState().rowPinning.top]),((t,n)=>e._getPinnedRows(t,n,"top")),po(e.options,"debugRows")),e.getBottomRows=fo((()=>[e.getRowModel().rows,e.getState().rowPinning.bottom]),((t,n)=>e._getPinnedRows(t,n,"bottom")),po(e.options,"debugRows")),e.getCenterRows=fo((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter((e=>!r.has(e.id)))}),po(e.options,"debugRows"))}},Zo={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:uo("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t="undefined"!==typeof t?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):a.forEach((e=>{delete r[e.id]})),r}))},e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r="undefined"!==typeof t?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach((t=>{Ko(a,t.id,r,!0,e)})),a})),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=fo((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?Wo(e,n):{rows:[],flatRows:[],rowsById:{}}),po(e.options,"debugTable")),e.getFilteredSelectedRowModel=fo((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?Wo(e,n):{rows:[],flatRows:[],rowsById:{}}),po(e.options,"debugTable")),e.getGroupedSelectedRowModel=fo((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?Wo(e,n):{rows:[],flatRows:[],rowsById:{}}),po(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection((i=>{var s;if(n="undefined"!==typeof n?n:!a,e.getCanSelect()&&a===n)return i;const o={...i};return Ko(o,e.id,n,null==(s=null==r?void 0:r.selectChildren)||s,t),o}))},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Qo(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===Jo(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===Jo(e,n)},e.getCanSelect=()=>{var n;return"function"===typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"===typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"===typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},Ko=(e,t,n,r,a)=>{var i;const s=a.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(i=s.subRows)&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach((t=>Ko(e,t.id,n,r,a)))};function Wo(e,t){const n=e.getState().rowSelection,r=[],a={},i=function(e,t){return e.map((e=>{var t;const s=Qo(e,n);if(s&&(r.push(e),a[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:i(e.subRows)}),s)return e})).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:a}}function Qo(e,t){var n;return null!=(n=t[e.id])&&n}function Jo(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let a=!0,i=!1;return e.subRows.forEach((e=>{if((!i||a)&&(e.getCanSelect()&&(Qo(e,t)?i=!0:a=!1),e.subRows&&e.subRows.length)){const n=Jo(e,t);"all"===n?i=!0:"some"===n?(i=!0,a=!1):a=!1}})),a?"all":!!i&&"some"}const Yo=/([0-9]+)/gm;function Xo(e,t){return e===t?0:e>t?1:-1}function el(e){return"number"===typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"===typeof e?e:""}function tl(e,t){const n=e.split(Yo).filter(Boolean),r=t.split(Yo).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),a=parseInt(e,10),i=parseInt(t,10),s=[a,i].sort();if(isNaN(s[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(s[1]))return isNaN(a)?-1:1;if(a>i)return 1;if(i>a)return-1}}return n.length-r.length}const nl={alphanumeric:(e,t,n)=>tl(el(e.getValue(n)).toLowerCase(),el(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>tl(el(e.getValue(n)),el(t.getValue(n))),text:(e,t,n)=>Xo(el(e.getValue(n)).toLowerCase(),el(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>Xo(el(e.getValue(n)),el(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},basic:(e,t,n)=>Xo(e.getValue(n),t.getValue(n))},rl={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:uo("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return nl.datetime;if("string"===typeof n&&(r=!0,n.split(Yo).length>1))return nl.alphanumeric}return r?nl.text:nl.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"===typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return co(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:nl[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),i="undefined"!==typeof n&&null!==n;t.setSorting((s=>{const o=null==s?void 0:s.find((t=>t.id===e.id)),l=null==s?void 0:s.findIndex((t=>t.id===e.id));let u,c=[],d=i?n:"desc"===a;var h;(u=null!=s&&s.length&&e.getCanMultiSort()&&r?o?"toggle":"add":null!=s&&s.length&&l!==s.length-1?"replace":o?"toggle":"replace","toggle"===u&&(i||a||(u="remove")),"add"===u)?(c=[...s,{id:e.id,desc:d}],c.splice(0,c.length-(null!=(h=t.options.maxMultiSortColCount)?h:Number.MAX_SAFE_INTEGER))):c="toggle"===u?s.map((t=>t.id===e.id?{...t,desc:d}:t)):"remove"===u?s.filter((t=>t.id!==e.id)):[{id:e.id,desc:d}];return c}))},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?!!(s===i||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(a=t.options.enableMultiRemove)&&!a)&&("desc"===s?"asc":"desc"):i},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.clearSorting=()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},al=[vo,Vo,Do,Fo,wo,Io,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:uo("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"===typeof r||"number"===typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,a,i;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(a=t.options.enableFilters)||a)&&(null==(i=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||i)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ao.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return co(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:Ao[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},rl,Lo,Go,qo,Ho,Zo,$o];function il(e){var t,n;const r=[...al,...null!=(t=e._features)?t:[]];let a={_features:r};const i=a._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(a))),{});let s={...null!=(n=e.initialState)?n:{}};a._features.forEach((e=>{var t;s=null!=(t=null==e.getInitialState?void 0:e.getInitialState(s))?t:s}));const o=[];let l=!1;const u={_features:r,options:{...i,...e},initialState:s,_queue:e=>{o.push(e),l||(l=!0,Promise.resolve().then((()=>{for(;o.length;)o.shift()();l=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{a.setState(a.initialState)},setOptions:e=>{const t=lo(e,a.options);a.options=(e=>a.options.mergeOptions?a.options.mergeOptions(i,e):{...i,...e})(t)},getState:()=>a.options.state,setState:e=>{null==a.options.onStateChange||a.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==a.options.getRowId?void 0:a.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?a.getPrePaginationRowModel():a.getRowModel()).rowsById[e];if(!n&&(n=a.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:fo((()=>[a.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...a._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),po(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:fo((()=>[a._getColumnDefs()]),(e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map((e=>{const i=function(e,t,n,r){var a,i;const s={...e._getDefaultColumnDef(),...t},o=s.accessorKey;let l,u=null!=(a=null!=(i=s.id)?i:o?"function"===typeof String.prototype.replaceAll?o.replaceAll(".","_"):o.replace(/\./g,"_"):void 0)?a:"string"===typeof s.header?s.header:void 0;if(s.accessorFn?l=s.accessorFn:o&&(l=o.includes(".")?e=>{let t=e;for(const r of o.split(".")){var n;t=null==(n=t)?void 0:n[r]}return t}:e=>e[s.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:l,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:fo((()=>[!0]),(()=>{var e;return[c,...null==(e=c.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),po(e.options,"debugColumns")),getLeafColumns:fo((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=c.columns)&&t.length){let t=c.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[c]}),po(e.options,"debugColumns"))};for(const d of e._features)null==d.createColumn||d.createColumn(c,e);return c}(a,e,r,n),s=e;return i.columns=s.columns?t(s.columns,i,r+1):[],i}))};return t(e)}),po(e,"debugColumns")),getAllFlatColumns:fo((()=>[a.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),po(e,"debugColumns")),_getAllFlatColumnsById:fo((()=>[a.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),po(e,"debugColumns")),getAllLeafColumns:fo((()=>[a.getAllColumns(),a._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),po(e,"debugColumns")),getColumn:e=>a._getAllFlatColumnsById()[e]};Object.assign(a,u);for(let c=0;c<a._features.length;c++){const e=a._features[c];null==e||null==e.createTable||e.createTable(a)}return a}function sl(t,n){return t?function(e){return"function"===typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(r=t)||"function"===typeof r||function(e){return"object"===typeof e&&"symbol"===typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?e.createElement(t,n):t:null;var r}const ol="text-success-600 font-medium",ll="text-error-600 font-medium",ul="text-secondary-400";function cl(e){return"number"!==typeof e||isNaN(e)?(console.warn("formatCurrency: amount trebuie s\u0103 fie un num\u0103r valid"),"0,00"):e.toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2})}function dl(e){return e>0?ol:e<0?ll:ul}new Map,new Map,new Map;function hl(e,t){if(t<1||t>12)throw new Error(`Lun\u0103 invalid\u0103: ${t}. Trebuie s\u0103 fie \xeentre 1-12.`);const n=new Date(e,t,0);if(isNaN(n.getTime()))throw new Error(`Data invalid\u0103: an=${e}, lun\u0103=${t}`);const r=n.getDate();return Array.from({length:r},((e,t)=>t+1))}const{HEADERS:fl}=Xn;function pl(e,t){const n=e.map((e=>e.id));n.filter(((e,t)=>n.indexOf(e)!==t)).length}function gl(t,n,r,a,i){const s=(0,e.useRef)(null),o=fs((e=>e.categories)),l=(0,ss.useAuthStore)((e=>e.user)),{transactions:u,isLoading:c,error:d,totalCount:h}=eo(t,n,null===l||void 0===l?void 0:l.id,{includeAdjacentDays:!0});(0,e.useEffect)((()=>{d&&console.error("Error fetching transactions:",d.message)}),[d]);const f=(0,e.useMemo)((()=>hl(t,n)),[t,n]),p=(0,e.useMemo)((()=>{const e={},t={};return o.forEach((n=>{e[n.name]={id:n.name,category:n.name,isCategory:!0,total:0,subRows:[]},t[n.name]=[]})),u.forEach((e=>{const n=e.category,r="string"===typeof e.subcategory?e.subcategory:"";new Date(e.date).getDate(),"COMPLETED"===e.status&&"number"===typeof e.actualAmount?e.actualAmount:e.amount;if(!n)return;const a=o.find((e=>e.name===n)),i=a&&a.subcategories.some((e=>(e.name||"")===r));i||(t[n]=t[n]||[],t[n].some((e=>e.subcategory===r))||t[n].push({subcategory:r}))})),Object.keys(e).forEach((n=>{const r=o.find((e=>e.name===n)),a=r?r.subcategories:[],i=t[n]||[],s=function(e,t,n){const r=[...t.map((e=>({subcategory:e.name||"",source:"def"}))),...n.map((e=>({subcategory:e.subcategory||"",source:"fallback"})))],a=new Set;let i=0;return r.map(((t,n)=>{let r;for(t.subcategory?r=`${e}-${t.subcategory}`:(r=`${e}-__empty-${i}`,i++);a.has(r);)r=`${e}-__empty-${i}-${Math.random().toString(36).slice(2,6)}`,i++;return a.add(r),{id:r,category:e,subcategory:t.subcategory,isCategory:!1,total:0}}))}(n,a,i);e[n].subRows=s})),u.forEach((t=>{var n;const r=t.category,a="string"===typeof t.subcategory?t.subcategory:"",i=new Date(t.date).getDate(),s="COMPLETED"===t.status&&"number"===typeof t.actualAmount?t.actualAmount:t.amount;if(!r)return;let o=((null===(n=e[r])||void 0===n?void 0:n.subRows)||[]).find((e=>e.subcategory===a));o&&(o[`day-${i}`]=(o[`day-${i}`]||0)+s,o.total=(o.total||0)+s),e[r]||(e[r]={id:r,category:r,isCategory:!0,total:0,subRows:[]}),e[r][`day-${i}`]=(e[r][`day-${i}`]||0)+s,e[r].total=(e[r].total||0)+s})),Object.keys(e).forEach((t=>{pl(e[t].subRows)})),pl(Object.values(e)),Object.values(e)}),[u,o]),g=(0,e.useMemo)((()=>{const e=function(e,t){const n=hl(e,t),r=[{accessorKey:"category",header:fl.CATEGORII}];return n.forEach((e=>{r.push({accessorKey:`day-${e}`,header:e.toString()})})),r.push({accessorKey:"total",header:fl.TOTAL}),r}(t,n);return e.map((e=>{var t;if("category"===e.accessorKey)return{id:"category",header:e.header,accessorFn:e=>e.isCategory?e.category:e.subcategory,cell:e=>{let{row:t,getValue:n}=e;const r=n(),a=t.original;return(0,Xt.jsxs)("div",{className:"flex items-center",children:[t.getCanExpand&&t.getCanExpand()?(0,Xt.jsx)("span",{className:"mr-1","data-testid":`expand-btn-${a.category}`,children:t.getIsExpanded()?"\u25bc":"\u25b6"}):null,(0,Xt.jsx)("span",{className:a.isCategory?"font-semibold":"",children:r})]})},size:200};if(null!==(t=e.accessorKey)&&void 0!==t&&t.startsWith("day-")){parseInt(e.accessorKey.split("-")[1],10);return{id:e.accessorKey,header:e.header,accessorKey:e.accessorKey,cell:e=>{let{getValue:t,row:n}=e;const r=t(),a=dl(r);return(0,Xt.jsx)("div",{className:`text-right ${a}`,children:"number"!==typeof r||isNaN(r)||0===r?"\u2014":cl(r)})},size:80}}return"total"===e.accessorKey?{id:"total",header:e.header,accessorKey:e.accessorKey,cell:e=>{let{getValue:t}=e;const n=t(),r=dl(n);return(0,Xt.jsx)("div",{className:`text-right ${r}`,children:"number"!==typeof n||isNaN(n)||0===n?"\u2014":cl(n)})},size:100}:e}))}),[t,n,a,i,cl,dl]),m=function(t){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=e.useState((()=>({current:il(n)}))),[a,i]=e.useState((()=>r.current.initialState));return r.current.setOptions((e=>({...e,...t,state:{...a,...t.state},onStateChange:e=>{i(e),null==t.onStateChange||t.onStateChange(e)}}))),r.current}({data:p,columns:g,getCoreRowModel:e=>fo((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,a,i){void 0===a&&(a=0);const s=[];for(let l=0;l<t.length;l++){const u=bo(e,e._getRowId(t[l],l,i),t[l],l,a,void 0,null==i?void 0:i.id);var o;n.flatRows.push(u),n.rowsById[u.id]=u,s.push(u),e.options.getSubRows&&(u.originalSubRows=e.options.getSubRows(t[l],l),null!=(o=u.originalSubRows)&&o.length&&(u.subRows=r(u.originalSubRows,a+1,u)))}return s};return n.rows=r(t),n}),po(e.options,"debugTable",0,(()=>e._autoResetPageIndex()))),getSubRows:e=>e.subRows||[],autoResetExpanded:!1,getRowId:e=>e.id}),v=(0,e.useMemo)((()=>({})),[p]),y=(0,e.useCallback)(((e,t,n)=>`${e}-${t||"null"}-${n}`),[]);return{table:m,columns:g,days:f,tableContainerRef:s,dailyBalances:v,isLoading:c,error:d,getCellId:y}}const ml=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("ROW",t.id,t.original);const r=t.id;return(0,Xt.jsxs)(e.Fragment,{children:[(0,Xt.jsx)("tr",{className:t.getCanExpand()?"bg-primary-50":"",children:t.getVisibleCells().map(((e,r)=>(0,Xt.jsxs)("td",{style:0===r&&n>0?{paddingLeft:32*n}:void 0,className:0===r&&n>0?"pl-8":"",children:[0===r&&t.original&&!0===t.original.isCategory&&Array.isArray(t.subRows)&&t.subRows.length>0&&(0,Xt.jsx)("span",{onClick:e=>{e.stopPropagation(),t.toggleExpanded()},style:{cursor:"pointer",marginRight:8},"aria-expanded":t.getIsExpanded(),"data-testid":`expand-btn-${t.original.category}`,children:t.getIsExpanded()?"\u25bc":"\u25b6"}),sl(e.column.columnDef.cell,e.getContext())]},e.id)))}),t.getIsExpanded()&&t.subRows.length>0&&t.subRows.map((e=>ml(e,n+1)))]},r)},vl=t=>{let{year:n,month:r}=t;const a=(0,ss.useAuthStore)((e=>e.user)),[i,s]=(null===a||void 0===a||a.id,tn(),fs((e=>e.categories)),(0,e.useState)(null)),[o,l]=(0,e.useState)(null),u=((0,e.useMemo)((()=>({year:n,month:r,limit:1e3,offset:0,sort:"date",order:"asc"})),[n,r]),ao()),c=function(){const e=tn();return no({mutationFn:async e=>{let{id:t,transactionData:n}=e;return As.updateTransaction(t,n)},onMutate:async t=>{let{id:n,transactionData:r}=t;await e.cancelQueries({queryKey:ro});const a=e.getQueryData(ro);if(a&&a.pages){const t=a.pages.map((e=>{const t=e.data.findIndex((e=>e.id===n));if(-1===t)return e;const a=[...e.data];return a[t]={...a[t],...r,updated_at:(new Date).toISOString()},{...e,data:a}}));e.setQueryData(ro,{...a,pages:t})}return{previousData:a}},onError:(t,n,r)=>{null!==r&&void 0!==r&&r.previousData&&e.setQueryData(ro,r.previousData)},onSuccess:()=>{e.invalidateQueries({queryKey:ro})}})}(),d=function(){const e=tn();return no({mutationFn:async e=>As.deleteTransaction(e),onMutate:async t=>{await e.cancelQueries({queryKey:ro});const n=e.getQueryData(ro);if(n&&n.pages.length>0){const r=[...n.pages];let a=!1;const i=r.map((e=>{const n=e.data.length,r=e.data.filter((e=>e.id!==t));return r.length===n?e:(a=!0,{...e,data:r,count:e.count-(n-r.length)})}));a&&e.setQueryData(ro,{...n,pages:i})}return{previousData:n}},onError:(t,n,r)=>{null!==r&&void 0!==r&&r.previousData&&e.setQueryData(ro,r.previousData)},onSuccess:()=>{e.invalidateQueries({queryKey:ro})}})}(),h=(u.isPending,c.isPending,d.isPending,(0,e.useCallback)((e=>"VENITURI"===e?bn.INCOME:"ECONOMII"===e?bn.SAVING:bn.EXPENSE),[])),f=(0,e.useCallback)(((t,n,r,a,i)=>{t.preventDefault(),t.stopPropagation();const o=h(n),u=`${n}-${r||"null"}-${a}`,c=e.createRef();s({id:u,category:n,subcategory:r,day:a,amount:i,type:o,inputRef:c}),setTimeout((()=>{c.current&&(c.current.focus(),c.current.select())}),50),l(null)}),[n,r,h]),p=(0,e.useCallback)((e=>{if(!i)return;const{category:t,subcategory:a,day:o,type:l}=i;if(isNaN(Number(e))||!e)return void s(null);const c=new Date(n,r-1,o).toISOString().slice(0,10),d={amount:Number(e),category:t,subcategory:a||void 0,type:l,date:c,recurring:!1,frequency:void 0};u.mutate(d,{onSuccess:()=>{s(null)},onError:e=>{console.error("Eroare la crearea tranzac\u021biei:",e),s(null)}})}),[i,n,r,u]),g=(0,e.useCallback)((()=>{s(null)}),[]),m=((0,e.useCallback)((e=>{"Enter"===e.key?p(e.target.value):"Escape"===e.key&&g()}),[p,g]),(0,e.useCallback)(((e,t,n,r,a,s)=>{e.stopPropagation(),i||l({category:t,subcategory:n,day:r,type:h(t),amount:a,anchorEl:e.currentTarget})}),[i,h])),v=(0,e.useCallback)((async e=>{if(!o)return void console.error("Date lips\u0103 din popover la salvare.");const{id:t,category:a,subcategory:i,day:s,type:d}=o,h=new Date(n,r-1,s).toISOString().slice(0,10),f={amount:Number(e.amount),category:a,subcategory:i||void 0,type:d,date:h,recurring:e.recurring,frequency:e.recurring?e.frequency:void 0};t?c.mutate({id:t,transactionData:f},{onSuccess:()=>{l(null),console.log("Tranzac\u021bie actualizat\u0103 cu succes!")},onError:e=>{console.error("Eroare la actualizarea tranzac\u021biei:",e)}}):u.mutate(f,{onSuccess:()=>{l(null),console.log("Tranzac\u021bie creat\u0103 cu succes!")},onError:e=>{console.error("Eroare la crearea tranzac\u021biei:",e)}})}),[o,n,r,u,c]),{table:y,tableContainerRef:b,isLoading:w,error:x,getCellId:S,dailyBalances:_,days:E}=gl(n,r,0,m,f);return(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("div",{className:"flex justify-end space-x-2 mb-2",children:[(0,Xt.jsx)("button",{onClick:()=>y.toggleAllRowsExpanded(!0),className:"btn btn-secondary","data-testid":"expand-all-btn",children:Xn.TABLE_CONTROLS.EXPAND_ALL}),(0,Xt.jsx)("button",{onClick:()=>y.toggleAllRowsExpanded(!1),className:"btn btn-secondary","data-testid":"collapse-all-btn",children:Xn.TABLE_CONTROLS.COLLAPSE_ALL})]}),(0,Xt.jsx)("div",{ref:b,className:"overflow-auto rounded-lg shadow-token bg-secondary-50 h-[600px]",children:w?(0,Xt.jsx)("div",{className:"text-center py-token-xl text-secondary-600","data-testid":"loading-indicator",children:Xn.LOADING}):x?(0,Xt.jsxs)("div",{className:"text-center py-token-xl text-red-500","data-testid":"error-indicator",children:[_n.C.EROARE_INCARCARE_TRANZACTII," ",x.message]}):0===y.getRowModel().rows.length?(0,Xt.jsx)("div",{className:"text-center py-token-xl text-secondary-600","data-testid":"no-data-indicator",children:Xn.NO_DATA}):(0,Xt.jsxs)("table",{className:"w-full text-sm align-middle border-separate border-spacing-0","data-testid":"lunar-grid-table",children:[(0,Xt.jsx)("thead",{className:"bg-secondary-100 sticky top-0",children:(0,Xt.jsx)("tr",{children:y.getFlatHeaders().map((e=>(0,Xt.jsx)("th",{className:"px-4 py-2 font-medium text-secondary-700 border-b border-secondary-200",style:{width:e.getSize()},children:e.isPlaceholder?null:sl(e.column.columnDef.header,e.getContext())},e.id)))})}),(0,Xt.jsxs)("tbody",{children:[y.getRowModel().rows.map((e=>ml(e))),(0,Xt.jsxs)("tr",{className:"bg-gray-100 font-bold border-t-2","data-testid":"sold-row",children:[(0,Xt.jsx)("td",{className:"sticky left-0 bg-gray-100 z-10 px-4 py-2","data-testid":"sold-label",children:Xn.HEADERS.SOLD}),E.map((e=>{const t=_[e]||0,n=0===t?"text-secondary-400":t>0?"text-success-600 font-medium":"text-error-600 font-medium";return(0,Xt.jsx)("td",{className:`px-4 py-2 text-right ${n}`,"data-testid":`sold-day-${e}`,children:"number"===typeof t&&0!==t?t.toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2}):"\u2014"},e)}))]})]})]})}),o&&!i&&(0,Xt.jsx)("div",{className:"absolute top-0 left-0 z-50",style:{position:"absolute",top:o.anchorEl?`${o.anchorEl.getBoundingClientRect().bottom}px`:"0px",left:o.anchorEl?`${o.anchorEl.getBoundingClientRect().left}px`:"0px"},children:(0,Xt.jsx)(Zs,{initialAmount:o.amount||"",day:o.day,month:r,year:n,category:o.category,subcategory:o.subcategory||"",type:o.type,onSave:v,onCancel:()=>l(null),anchorRef:{current:o.anchorEl}})})]})},yl=()=>{const t=tn(),[n,r]=e.useState((()=>(new Date).getFullYear())),[a,i]=e.useState((()=>(new Date).getMonth()+1)),s=e.useRef(null),[o,l]=e.useState((()=>{const e=localStorage.getItem("lunarGrid-useTanStack");return null===e||"true"===e})),{user:u}=(0,ss.useAuthStore)(),{isLoading:c}=eo(n,a,null===u||void 0===u?void 0:u.id,{includeAdjacentDays:!0});fs((e=>e.loadUserCategories)),fs((e=>e.mergeWithDefaults));e.useEffect((()=>{const e=new URLSearchParams(window.location.search);e.set("month",`${n}-${a.toString().padStart(2,"0")}`);const t=window.location.hash,r=`${window.location.pathname}?${e}${t}`;window.history.replaceState({},"",r),console.log(`LunarGridPage: URL updated for ${n}-${a}`)}),[n,a]);e.useCallback(((e,n)=>{i(e),r(n),null!==s.current&&window.clearTimeout(s.current),s.current=window.setTimeout((()=>{console.log(`Invalidating cache for ${n}-${e} after debounce`),t.invalidateQueries({queryKey:["transactions",n,e],exact:!0}),s.current=null}),300)}),[t]);const d=e=>["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"][e-1];e.useEffect((()=>{localStorage.setItem("lunarGrid-useTanStack",o.toString())}),[o]);const h=(0,e.useCallback)((e=>{const n=parseInt(e.target.value,10);i(n),s.current&&window.clearTimeout(s.current),s.current=window.setTimeout((()=>{t.invalidateQueries({queryKey:["transactions","monthly"]})}),100)}),[t]),f=(0,e.useCallback)((e=>{const n=parseInt(e.target.value,10);!isNaN(n)&&n>1900&&n<2100&&(r(n),s.current&&window.clearTimeout(s.current),s.current=window.setTimeout((()=>{t.invalidateQueries({queryKey:["transactions","monthly"]})}),100))}),[t]),p=(0,e.useMemo)((()=>{const e=[];for(let t=1;t<=12;t++)e.push((0,Xt.jsx)("option",{value:t,children:d(t)},t));return e}),[]);return(0,Xt.jsxs)("div",{className:"container mx-auto px-4 pb-10",children:[(0,Xt.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[(0,Xt.jsx)("h1",{className:un("form-label","primary","xl"),children:Un}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[(0,Xt.jsx)("select",{value:a,onChange:h,className:un("select","primary","md"),"data-testid":"month-selector",children:p}),(0,Xt.jsx)("input",{type:"number",value:n,onChange:f,min:"1900",max:"2100",className:un("input","primary","md",void 0,["w-24"]),"data-testid":"year-input"}),(0,Xt.jsx)("button",{onClick:()=>{l((e=>!e))},className:un("button","secondary","sm"),"data-testid":"toggle-implementation",children:o?"Utilizeaz\u0103 tabel clasic":"Utilizeaz\u0103 TanStack Table"})]})]}),c?(0,Xt.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,Xt.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary-500 border-t-transparent rounded-full"}),(0,Xt.jsxs)("p",{className:"ml-3 text-secondary-700",children:["Se \xeencarc\u0103 datele pentru ",d(a)," ",n,"..."]})]}):(0,Xt.jsx)(Xt.Fragment,{children:o?(0,Xt.jsx)(vl,{year:n,month:a}):(0,Xt.jsx)(oo,{year:n,month:a})})]})},bl="button",wl="input",xl="badge",Sl="alert",_l="flex-group",El="list-container",Cl="list-item",kl="card-section",Rl="section-header",Tl="text",Nl="modal-overlay",Al="modal-container",Ol="modal-header",Il="modal-title",Pl="modal-close-button",jl="modal-body",Ll="primary",Dl="secondary",Fl="accent",Ml="error",$l="success",zl="info",Ul="compact",Vl="default",Bl="wide",Gl="xs",ql="sm",Hl="md",Zl="lg",Kl="hover",Wl="active",Ql="pulse",Jl="fx-modal-transition",Yl="fx-fade",Xl="visible",eu="hidden",tu="in",nu="out",ru=t=>{var n;let{open:r,onClose:a,userId:i,initialCategory:s,initialSubcategory:o,initialMode:l="add"}=t;const{categories:u,saveCategories:c,renameSubcategory:d,deleteSubcategory:h,getSubcategoryCount:f}=fs(),[p,g]=(0,e.useState)(s||null),[m,v]=(0,e.useState)(s&&o&&("edit"===l||"delete"===l)?{type:l,cat:s,subcat:o}:null),[y,b]=(0,e.useState)(o||""),[w,x]=(0,e.useState)(""),[S,_]=(0,e.useState)(null),{getClasses:E}=cn({withFadeIn:!0,withShadow:!0,withTransition:!0});(0,e.useEffect)((()=>{r&&"add"===l&&setTimeout((()=>{const e=document.querySelector('[data-testid="add-subcat-input"]');e instanceof HTMLInputElement&&e.focus()}),100)}),[r,l]);const C=(0,e.useMemo)((()=>({modal:un(Jl,r?Xl:eu),card:un(Yl,r?tu:nu)})),[r]);if((0,e.useEffect)((()=>{if(!r)return;const e=e=>{"Escape"===e.key&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[r,a]),!r)return null;const k=(e,t)=>{const n=f(e,t);return n>0?(0,Xt.jsx)("span",{className:un(xl,Dl,ql,void 0),"data-testid":`subcat-count-${e}-${t}`,children:n}):null},R=async e=>{if(_(null),!w.trim())return _(_n.C.CATEGORII.NUME_GOL);if(e.subcategories.some((e=>e.name.toLowerCase()===w.trim().toLowerCase())))return _(_n.C.CATEGORII.SUBCATEGORIE_EXISTENTA);const t=u.map((t=>t.name===e.name?{...t,subcategories:[...t.subcategories,{name:w.trim(),isCustom:!0}]}:t));await c(i,t),x(""),_(null)},T=async(e,t,n)=>{var r;return _(null),n.trim()?null!==(r=u.find((t=>t.name===e)))&&void 0!==r&&r.subcategories.some((e=>e.name.toLowerCase()===n.trim().toLowerCase()))?_(_n.C.CATEGORII.SUBCATEGORIE_EXISTENTA):(await d(i,e,t,n.trim()),v(null),void _(null)):_(_n.C.CATEGORII.NUME_GOL)},N=e=>{let{cat:t,subcat:n,onConfirm:r,onCancel:a}=e;const i=`Sigur dori\u021bi s\u0103 \u0219terge\u021bi subcategoria ${n} din categoria ${t}? Aceast\u0103 ac\u021biune nu poate fi anulat\u0103.`;return(0,Xt.jsxs)("div",{className:un("alert","warning","md"),"data-testid":"delete-confirmation",tabIndex:0,role:"dialog","aria-labelledby":"delete-confirmation-title",children:[(0,Xt.jsx)("h3",{id:"delete-confirmation-title",className:un("section-header"),children:hr.DELETE_CONFIRMATION_TITLE}),(0,Xt.jsx)("p",{children:i}),(0,Xt.jsxs)("div",{className:un("flex-group","compact","md",void 0),children:[(0,Xt.jsx)("button",{onClick:r,className:un(bl,Ml,ql),"data-testid":"confirm-delete-btn",children:Qn.DELETE}),(0,Xt.jsx)("button",{onClick:a,className:un(bl,Dl,ql),"data-testid":"cancel-delete-btn",children:Qn.CANCEL})]})]})},A=e=>e.trim().length>0&&e.trim().length<=32&&/^[a-zA-Z0-9\u0103\xe2\xee\u0219\u021b\u0102\xc2\xce\u0218\u021a \-]+$/.test(e.trim());return(0,Xt.jsx)("div",{className:an()(un(Nl),C.modal),role:"dialog","aria-modal":"true","aria-labelledby":"category-editor-title","data-testid":"category-editor-modal",children:(0,Xt.jsxs)("div",{className:an()(un(Al,Bl,Zl),C.card),children:[(0,Xt.jsxs)("div",{className:un(Ol,Vl),children:[(0,Xt.jsx)("h2",{id:"category-editor-title",className:un(Il),children:hr.TITLE}),(0,Xt.jsx)("button",{onClick:a,className:un(Pl),"aria-label":Xn.ACTIONS.CLOSE,"data-testid":"close-category-editor",children:"\xd7"})]}),(0,Xt.jsxs)("div",{className:un(jl,Vl),children:[S&&(0,Xt.jsx)("div",{className:un(Sl,Ml,ql,void 0),"data-testid":"error-message",role:"alert",children:S}),(0,Xt.jsxs)("div",{className:un(_l,Vl),children:[(0,Xt.jsxs)("div",{className:un(kl),"data-testid":"categories-section",children:[(0,Xt.jsx)("h3",{className:un(Rl),children:hr.CATEGORIES_SECTION_TITLE}),(0,Xt.jsx)("div",{style:{maxHeight:300},className:un("card-section",void 0,void 0,void 0,["withScroll"])+" overflow-y-auto","data-testid":"categories-scroll-wrapper",children:(0,Xt.jsx)("ul",{className:un(El,Ul),children:u.map((e=>(0,Xt.jsx)("li",{className:un(Cl,Ul,void 0,p===e.name?Wl:void 0),"data-testid":`category-item-${e.name}`,children:(0,Xt.jsx)("button",{onClick:()=>{g(e.name),_(null),x("")},"aria-pressed":p===e.name,"aria-controls":"subcategories-section","data-testid":`cat-select-${e.name}`,children:e.name})},e.name)))})})]}),(0,Xt.jsxs)("div",{className:un(kl),"data-testid":"subcategories-section",children:["delete"===(null===m||void 0===m?void 0:m.type)&&(0,Xt.jsx)(N,{cat:m.cat,subcat:m.subcat,onConfirm:async()=>{try{((e,t)=>{if(_(null),!e)return _(_n.C.CATEGORII.EROARE_STERGERE),!1;const n=u.find((t=>t.name===e));if(!n)return _(_n.C.CATEGORII.EROARE_STERGERE),!1;const r=n.subcategories.find((e=>e.name===t));return r?!!r.isCustom||(_(_n.C.CATEGORII.NU_SE_POT_STERGE_PREDEFINITE),!1):(_(_n.C.CATEGORII.EROARE_STERGERE),!1)})(m.cat,m.subcat)&&(await h(i,m.cat,m.subcat,"delete"),v(null),_(null))}catch(S){console.error("Eroare la \u0219tergerea subcategoriei:",S),_(_n.C.CATEGORII.EROARE_STERGERE)}},onCancel:()=>v(null)}),p?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("h3",{className:un(Rl),children:[hr.SUBCATEGORIES_SECTION_TITLE," ",(0,Xt.jsx)("span",{className:un(Tl,Fl,void 0,void 0),children:p})]}),(0,Xt.jsxs)("div",{style:{maxHeight:300},className:un("card-section",void 0,void 0,void 0,["withScroll"])+" overflow-y-auto","data-testid":"subcategories-scroll-wrapper",children:[(0,Xt.jsx)("ul",{className:un(El,Ul),"aria-label":hr.SUBCATEGORIES_SECTION_TITLE,children:null===(n=u.find((e=>e.name===p)))||void 0===n?void 0:n.subcategories.map((e=>(0,Xt.jsx)("li",{className:un(Cl,Ul),"data-testid":`subcat-item-${e.name}`,children:"edit"===(null===m||void 0===m?void 0:m.type)&&m.cat===p&&m.subcat===e.name?(0,Xt.jsxs)("div",{className:"flex w-full items-center gap-1",children:[(0,Xt.jsx)("input",{type:"text",value:y,onChange:e=>b(e.target.value),onKeyDown:t=>{"Enter"===t.key&&A(y)&&T(p,e.name,y),"Escape"===t.key&&(v(null),b(""))},autoFocus:!0,className:un(wl,void 0,Hl)+" flex-[10] rounded-md","data-testid":`rename-input-${e.name}`,maxLength:32}),(0,Xt.jsx)(Zi,{variant:Ll,size:Hl,disabled:!A(y),dataTestId:`confirm-rename-${e.name}`,type:"button",onClick:()=>T(p,e.name,y),withShadow:!0,className:"min-w-[90px] flex-shrink-0 rounded-md",children:Qn.DONE}),(0,Xt.jsx)(Zi,{variant:Dl,size:Hl,dataTestId:`cancel-rename-${e.name}`,type:"button",onClick:()=>{v(null),b("")},className:"min-w-[90px] flex-shrink-0 rounded-md",children:Qn.CANCEL})]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("span",{children:e.name}),e.isCustom&&(0,Xt.jsx)("span",{className:un(xl,$l,Gl,Ql),"data-testid":`custom-flag-${e.name}`,children:pr}),k(p,e.name),(0,Xt.jsx)("button",{onClick:()=>{v({type:"edit",cat:p,subcat:e.name}),b(e.name)},className:un(bl,Fl,Gl,Kl),"data-testid":`edit-subcat-btn-${e.name}`,"aria-label":`${hr.RENAME_BUTTON} ${e.name}`,children:hr.RENAME_BUTTON}),e.isCustom&&(0,Xt.jsx)("button",{onClick:()=>v({type:"delete",cat:p,subcat:e.name}),className:un(bl,Ml,Gl,Kl),"data-testid":`delete-subcat-btn-${e.name}`,"aria-label":`${hr.DELETE_BUTTON} ${e.name}`,children:hr.DELETE_BUTTON})]})},e.name)))}),(0,Xt.jsxs)("div",{className:"flex w-full items-center gap-1",children:[(0,Xt.jsx)("input",{type:"text",value:w,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"===e.key&&A(w)&&R(u.find((e=>e.name===p))),"Escape"===e.key&&x("")},placeholder:Hn,className:un(wl,void 0,Hl)+" flex-[10] rounded-md","data-testid":"add-subcat-input",maxLength:32}),(0,Xt.jsx)(Zi,{variant:Ll,size:Hl,disabled:!A(w),dataTestId:"add-subcat-btn",type:"button",onClick:()=>{const e=u.find((e=>e.name===p));e&&A(w)&&R(e)},withShadow:!0,className:"min-w-[90px] flex-shrink-0 rounded-md",children:Qn.ADD}),(0,Xt.jsx)(Zi,{variant:Dl,size:Hl,dataTestId:"cancel-add-subcat-btn",type:"button",onClick:()=>x(""),className:"min-w-[90px] flex-shrink-0 rounded-md",children:Qn.CANCEL})]})]})]}):(0,Xt.jsx)("div",{className:un(Sl,zl,ql,void 0),"data-testid":"no-cat-msg",role:"status",children:gr})]})]})]})]})})},au=()=>{const{user:t,logout:n}=(0,ss.useAuthStore)(),r=ee(),[a,i]=(fs(),e.useState(!1)),s=e.useRef(a);if(!t)return(0,Xt.jsxs)("div",{className:un("container","primary","lg",void 0,["fade-in","page-wrapper"]),"data-testid":"options-page-not-logged",children:[(0,Xt.jsx)("h1",{className:un("form-label","primary","xl",void 0,["gradient-text-subtle","mb-token"]),children:tr||"Op\u021biuni"}),(0,Xt.jsx)(rs,{type:"warning",message:dr||"Trebuie s\u0103 fi\u021bi autentificat pentru a accesa aceast\u0103 pagin\u0103.","data-testid":"options-alert-not-logged",withFadeIn:!0,withAccentBorder:!0,withShadow:!0,withIcon:!0})]});return(0,Xt.jsxs)("div",{className:un("container","primary","lg",void 0,["fade-in","page-wrapper"]),"data-testid":"options-page",children:[(0,Xt.jsx)("h1",{className:un("form-label","primary","xl",void 0,["gradient-text-subtle","mb-token"]),"data-testid":"options-title",children:tr||"Op\u021biuni"}),(0,Xt.jsxs)("div",{className:un("card","default","lg",void 0,["shadow-md","mb-token"]),children:[(0,Xt.jsx)("div",{className:un("card-header",void 0,void 0,void 0,["gradient-bg-subtle"]),children:(0,Xt.jsx)("h2",{className:un("form-label","secondary","md"),children:nr||"Gestionare categorii"})}),(0,Xt.jsxs)("div",{className:un("card-body"),children:[(0,Xt.jsx)("p",{className:"mb-token",children:rr||"Personaliza\u021bi categoriile \u0219i subcategoriile pentru a se potrivi nevoilor dvs. specifice de bugetare."}),(0,Xt.jsx)(Zi,{variant:"primary",size:"md",withShadow:!0,dataTestId:"open-category-editor-btn",onClick:()=>i(!0),children:ar||"Gestionare categorii"})]})]}),(0,Xt.jsxs)("div",{className:un("card","default","lg",void 0,["shadow-md","mb-token"]),children:[(0,Xt.jsx)("div",{className:un("card-header"),children:(0,Xt.jsx)("h2",{className:un("form-label","secondary","md"),children:ir||"Op\u021biuni de afi\u0219are"})}),(0,Xt.jsx)("div",{className:un("card-body"),children:(0,Xt.jsx)("p",{className:un("text","accent"),children:cr||"\xcen cur\xe2nd"})})]}),(0,Xt.jsxs)("div",{className:un("card","default","lg",void 0,["shadow-md","mb-token"]),children:[(0,Xt.jsx)("div",{className:un("card-header"),children:(0,Xt.jsx)("h2",{className:un("form-label","secondary","md"),children:sr||"Export date"})}),(0,Xt.jsx)("div",{className:un("card-body"),children:(0,Xt.jsx)("p",{className:un("text","accent"),children:cr||"\xcen cur\xe2nd"})})]}),(0,Xt.jsxs)("div",{className:un("card","default","lg",void 0,["shadow-md","mb-token"]),children:[(0,Xt.jsx)("div",{className:un("card-header"),children:(0,Xt.jsx)("h2",{className:un("form-label","secondary","md"),children:or||"Set\u0103ri Cont"})}),(0,Xt.jsxs)("div",{className:un("card-body"),children:[(0,Xt.jsx)("p",{className:un("text","accent"),children:lr||"Deconecteaz\u0103-te de la contul t\u0103u."}),(0,Xt.jsx)(Zi,{variant:"danger",size:"md",withShadow:!0,withGradient:!0,dataTestId:"logout-btn",onClick:async()=>{try{await n(),r("/login")}catch(e){console.error("Logout failed:",e)}},children:ur||"Logout"})]})]}),(0,Xt.jsx)(ru,{open:a,onClose:()=>{s.current=a,i(!1),console.log("[OptionsPage] Notificarea componentelor despre schimb\u0103ri \xeen categorii");const e=Date.now();localStorage.setItem("budget-app-last-category-update",e.toString()),console.log("[OptionsPage] Timestamp salvat:",new Date(e).toISOString())},userId:t.id})]})};let iu={data:""},su=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||iu,ou=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lu=/\/\*[^]*?\*\/|  +/g,uu=/\n+/g,cu=(e,t)=>{let n="",r="",a="";for(let i in e){let s=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+s+";":r+="f"==i[1]?cu(s,i):i+"{"+cu(s,"k"==i[1]?"":t)+"}":"object"==typeof s?r+=cu(s,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=s&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=cu.p?cu.p(i,s):i+":"+s+";")}return n+(t&&a?t+"{"+a+"}":a)+r},du={},hu=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+hu(e[n]);return t}return e},fu=(e,t,n,r,a)=>{let i=hu(e),s=du[i]||(du[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!du[s]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=ou.exec(e.replace(lu,""));)t[4]?r.shift():t[3]?(n=t[3].replace(uu," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(uu," ").trim();return r[0]})(e);du[s]=cu(a?{["@keyframes "+s]:t}:t,n?"":"."+s)}let o=n&&du.g?du.g:null;return n&&(du.g=du[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(du[s],t,r,o),s};function pu(e){let t=this||{},n=e.call?e(t.p):e;return fu(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,a)=>{let i=t[a];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":cu(e,""):!1===e?"":e}return e+r+(null==i?"":i)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,su(t.target),t.g,t.o,t.k)}pu.bind({g:1});let gu,mu,vu,yu=pu.bind({k:1});function bu(e,t){let n=this||{};return function(){let r=arguments;function a(i,s){let o=Object.assign({},i),l=o.className||a.className;n.p=Object.assign({theme:mu&&mu()},o),n.o=/ *go\d+/.test(l),o.className=pu.apply(n,r)+(l?" "+l:""),t&&(o.ref=s);let u=e;return e[0]&&(u=o.as||e,delete o.as),vu&&u[0]&&vu(o),gu(u,o)}return t?t(a):a}}var wu=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,xu=(()=>{let e=0;return()=>(++e).toString()})(),Su=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),_u=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return _u(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+a})))}}},Eu=[],Cu={toasts:[],pausedAt:void 0},ku=e=>{Cu=_u(Cu,e),Eu.forEach((e=>{e(Cu)}))},Ru={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Tu=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||xu()}}(t,e,n);return ku({type:2,toast:r}),r.id},Nu=(e,t)=>Tu("blank")(e,t);Nu.error=Tu("error"),Nu.success=Tu("success"),Nu.loading=Tu("loading"),Nu.custom=Tu("custom"),Nu.dismiss=e=>{ku({type:3,toastId:e})},Nu.remove=e=>ku({type:4,toastId:e}),Nu.promise=(e,t,n)=>{let r=Nu.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let a=t.success?wu(t.success,e):void 0;return a?Nu.success(a,{id:r,...n,...null==n?void 0:n.success}):Nu.dismiss(r),e})).catch((e=>{let a=t.error?wu(t.error,e):void 0;a?Nu.error(a,{id:r,...n,...null==n?void 0:n.error}):Nu.dismiss(r)})),e};var Au=(e,t)=>{ku({type:1,toast:{id:e,height:t}})},Ou=()=>{ku({type:5,time:Date.now()})},Iu=new Map,Pu=t=>{let{toasts:n,pausedAt:r}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,e.useState)(Cu),a=(0,e.useRef)(Cu);(0,e.useEffect)((()=>(a.current!==Cu&&r(Cu),Eu.push(r),()=>{let e=Eu.indexOf(r);e>-1&&Eu.splice(e,1)})),[]);let i=n.toasts.map((e=>{var n,r,a;return{...t,...t[e.type],...e,removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||Ru[e.type],style:{...t.style,...null==(a=t[e.type])?void 0:a.style,...e.style}}}));return{...n,toasts:i}}(t);(0,e.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>Nu.dismiss(t.id)),n);t.visible&&Nu.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let a=(0,e.useCallback)((()=>{r&&ku({type:6,time:Date.now()})}),[r]),i=(0,e.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:i}=t||{},s=n.filter((t=>(t.position||i)===(e.position||i)&&t.height)),o=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<o&&e.visible)).length;return s.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[n]);return(0,e.useEffect)((()=>{n.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Iu.has(e))return;let n=setTimeout((()=>{Iu.delete(e),ku({type:4,toastId:e})}),t);Iu.set(e,n)}(e.id,e.removeDelay);else{let t=Iu.get(e.id);t&&(clearTimeout(t),Iu.delete(e.id))}}))}),[n]),{toasts:n,handlers:{updateHeight:Au,startPause:Ou,endPause:a,calculateOffset:i}}},ju=yu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Lu=yu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Du=yu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Fu=bu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ju} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Lu} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Du} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Mu=yu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$u=bu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Mu} 1s linear infinite;
`,zu=yu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Uu=yu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Vu=bu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Uu} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Bu=bu("div")`
  position: absolute;
`,Gu=bu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qu=yu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Hu=bu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qu} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Zu=t=>{let{toast:n}=t,{icon:r,type:a,iconTheme:i}=n;return void 0!==r?"string"==typeof r?e.createElement(Hu,null,r):r:"blank"===a?null:e.createElement(Gu,null,e.createElement($u,{...i}),"loading"!==a&&e.createElement(Bu,null,"error"===a?e.createElement(Fu,{...i}):e.createElement(Vu,{...i})))},Ku=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Wu=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Qu=bu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ju=bu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Yu=e.memo((t=>{let{toast:n,position:r,style:a,children:i}=t,s=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=Su()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Ku(n),Wu(n)];return{animation:t?`${yu(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yu(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(n.position||r||"top-center",n.visible):{opacity:0},o=e.createElement(Zu,{toast:n}),l=e.createElement(Ju,{...n.ariaProps},wu(n.message,n));return e.createElement(Qu,{className:n.className,style:{...s,...a,...n.style}},"function"==typeof i?i({icon:o,message:l}):e.createElement(e.Fragment,null,o,l))}));!function(e,t,n,r){cu.p=t,gu=e,mu=n,vu=r}(e.createElement);var Xu=t=>{let{id:n,className:r,style:a,onHeightUpdate:i,children:s}=t,o=e.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;i(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,i]);return e.createElement("div",{ref:o,className:r,style:a},s)},ec=pu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,tc=t=>{let{reverseOrder:n,position:r="top-center",toastOptions:a,gutter:i,children:s,containerStyle:o,containerClassName:l}=t,{toasts:u,handlers:c}=Pu(a);return e.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map((t=>{let a=t.position||r,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Su()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}})(a,c.calculateOffset(t,{reverseOrder:n,gutter:i,defaultPosition:r}));return e.createElement(Xu,{id:t.id,key:t.id,onHeightUpdate:c.updateHeight,className:t.visible?ec:"",style:o},"custom"===t.type?wu(t.message,t):s?s(t):e.createElement(Yu,{toast:t,position:a}))})))},nc=Nu;const rc=()=>{const[t,n]=(0,e.useState)(""),[r,a]=(0,e.useState)(""),{login:i,loading:s,error:o,errorType:l}=(0,ss.useAuthStore)(),[u,c]=(0,e.useState)(null),{getClasses:d}=cn({withFadeIn:!0,withShadow:!0,withGradient:!0}),h=(e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.trim()))(t)&&r.length>=6,f=e=>{c(e.target.id)},p=()=>{c(null)};return(0,Xt.jsxs)("form",{className:d("form-container","primary","md"),onSubmit:async e=>{e.preventDefault(),await i(t,r);const{error:n}=ss.useAuthStore.getState();if(n){let e=n;switch(l){case"INVALID_CREDENTIALS":e=_n.C.EROARE_AUTENTIFICARE||"Date de autentificare incorecte.";break;case"RLS_DENIED":e=_n.C.EROARE_RLS||"Acces interzis (RLS).";break;case"NETWORK":e=_n.C.EROARE_RETEA||"Eroare de re\u021bea. \xcencearc\u0103 din nou.";break;default:e=n||_n.C.LOGIN_ERROR}nc.error(e)}else nc.success(_n.C.LOGIN_SUCCES)},"data-testid":"login-form",children:[(0,Xt.jsx)("div",{className:d("card-header","default"),children:(0,Xt.jsx)("h2",{className:d("form-label","primary","xl"),children:"Autentificare"})}),(0,Xt.jsxs)("div",{className:d("card-body"),children:[(0,Xt.jsx)(Qi,{id:"email",type:"email",label:`${Pn}*`,value:t,onChange:e=>n(e.target.value),onFocus:f,onBlur:p,required:!0,"data-testid":"login-email",withGlowFocus:"email"===u,withTransition:!0}),(0,Xt.jsx)(Qi,{id:"password",type:"password",label:`${jn}*`,value:r,onChange:e=>a(e.target.value),onFocus:f,onBlur:p,required:!0,"data-testid":"login-password",withGlowFocus:"password"===u,withTransition:!0}),o&&(0,Xt.jsx)(rs,{type:"error",message:(()=>{switch(l){case"INVALID_CREDENTIALS":return _n.C.EROARE_AUTENTIFICARE||"Date de autentificare incorecte.";case"RLS_DENIED":return _n.C.EROARE_RLS||"Acces interzis (RLS).";case"NETWORK":return _n.C.EROARE_RETEA||"Eroare de re\u021bea. \xcencearc\u0103 din nou.";default:return o}})()||"","data-testid":"login-error",withIcon:!0,withFadeIn:!0,withAccentBorder:!0}),(0,Xt.jsx)(Ki,{isFormValid:h,size:"md",isLoading:s,"data-testid":"login-submit",className:d("flex"),submitText:Qn.LOGIN}),(0,Xt.jsx)("div",{className:d("flex"),children:(0,Xt.jsx)(tt,{to:"/register",className:d("button","link","sm"),"data-testid":"switch-to-register",children:"Nu ai cont? Creaz\u0103 unul!"})})]})]})},ac=()=>{const[t,n]=(0,e.useState)(""),[r,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),{register:o,loading:l,error:u,errorType:c}=(0,ss.useAuthStore)(),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)(null),{getClasses:g}=cn({withFadeIn:!0,withShadow:!0,withGradient:!0}),m=r.length>=8,v=r===i&&""!==i,y=(e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.trim()))(t)&&m&&v,b=e=>{p(e.target.id)},w=()=>{p(null)};return(0,Xt.jsxs)("form",{className:g("form-container","primary","md"),onSubmit:async e=>{if(e.preventDefault(),h(null),r!==i)return h(null),void nc.error(_n.C.PAROLE_NECORESPUNZATOARE);await o(t,r);const{error:n}=ss.useAuthStore.getState();if(n){let e=n;switch(c){case"PASSWORD_WEAK":e=_n.C.PAROLA_PREA_SLABA||"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.";break;case"NETWORK":e=_n.C.EROARE_RETEA||"Eroare de re\u021bea. \xcencearc\u0103 din nou.";break;default:e=n||_n.C.REGISTER_ERROR}nc.error(e)}else h(_n.C.REGISTER_SUCCES),nc.success(_n.C.REGISTER_SUCCES)},"data-testid":"register-form",children:[(0,Xt.jsx)("div",{className:g("card-header","default"),children:(0,Xt.jsx)("h2",{className:g("form-label","primary","xl"),children:"\xcenregistrare"})}),(0,Xt.jsxs)("div",{className:g("card-body"),children:[(0,Xt.jsx)(Qi,{id:"register-email",type:"email",label:`${Pn}*`,value:t,onChange:e=>n(e.target.value),onFocus:b,onBlur:w,required:!0,"data-testid":"register-email",withGlowFocus:"register-email"===f,withTransition:!0}),(0,Xt.jsx)(Qi,{id:"register-password",type:"password",label:`${jn}*`,value:r,onChange:e=>a(e.target.value),onFocus:b,onBlur:w,required:!0,"data-testid":"register-password",withGlowFocus:"register-password"===f,withTransition:!0}),(0,Xt.jsx)(Qi,{id:"register-confirm",type:"password",label:`${Ln}*`,value:i,onChange:e=>s(e.target.value),onFocus:b,onBlur:w,required:!0,"data-testid":"register-confirm",withGlowFocus:"register-confirm"===f,withTransition:!0}),u&&(0,Xt.jsx)(rs,{type:"error",message:(()=>{switch(c){case"PASSWORD_WEAK":return _n.C.PAROLA_PREA_SLABA||"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.";case"NETWORK":return _n.C.EROARE_RETEA||"Eroare de re\u021bea. \xcencearc\u0103 din nou.";default:return u||""}})(),"data-testid":"register-error",withIcon:!0,withFadeIn:!0,withAccentBorder:!0}),d&&(0,Xt.jsx)(rs,{type:"success",message:d||"","data-testid":"register-success",withIcon:!0,withFadeIn:!0,withAccentBorder:!0}),(0,Xt.jsx)(Ki,{isFormValid:y,size:"md",isLoading:l,"data-testid":"register-submit",className:g("flex"),submitText:Qn.REGISTER}),(0,Xt.jsx)("div",{className:g("flex"),children:(0,Xt.jsx)(tt,{to:"/login",className:g("button","link","sm"),"data-testid":"switch-to-login",children:"Ai deja cont? Autentific\u0103-te!"})})]})]})},ic=e=>{let{to:t,children:n,testId:r,withHoverEffect:a=!0,withTransition:i=!1,withFadeIn:s=!1}=e;const o=J().pathname===t,{getClasses:l}=cn({withHoverEffect:a,withTransition:i,withFadeIn:s});return(0,Xt.jsx)(tt,{to:t,className:l("tab","underline","md",o?"active":"default"),"data-testid":r,children:n})},sc=()=>{console.log("\ud83d\udd1c App render using react-router-dom");const{user:t,loading:n,checkUser:r}=(0,ss.useAuthStore)(),a=fs((e=>e.loadUserCategories)),i=fs((e=>e.mergeWithDefaults));return(0,e.useEffect)((()=>{r()}),[r]),(0,e.useEffect)((()=>{if(!t)return;console.log("[App] Ini\u021bializare categorii global\u0103");(async()=>{try{await a(t.id);const e=Object.entries(Vi).map((e=>{let[t,n]=e;return{name:t,subcategories:Object.values(n).flat().map((e=>({name:e,isCustom:!1}))),isCustom:!1}}));i(e),console.log("[App] Categorii ini\u021bializate cu succes")}catch(e){console.error("[App] Eroare la ini\u021bializarea categoriilor:",e)}})()}),[t,a,i]),n?(0,Xt.jsx)("div",{className:un("container","primary",void 0,"loading",["centered","fixed"]),children:(0,Xt.jsx)(ms,{sizeVariant:"xl"})}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)(tc,{position:"top-right",toastOptions:{duration:3500}}),(0,Xt.jsxs)("div",{className:un("container","primary","lg"),children:[t&&(0,Xt.jsxs)("div",{className:un("navbar-container","primary")+" mb-6",children:[(0,Xt.jsx)(ic,{to:"/transactions",testId:"transactions-tab",children:zn}),(0,Xt.jsx)(ic,{to:"/lunar-grid",testId:"lunar-grid-tab",children:Un}),(0,Xt.jsx)(ic,{to:"/options",testId:"options-tab",children:Vn||"Op\u021biuni"})]}),(0,Xt.jsx)(ye,{children:t?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)(me,{path:"/",element:(0,Xt.jsx)(ge,{to:"/transactions",replace:!0})}),(0,Xt.jsx)(me,{path:"/transactions",element:(0,Xt.jsx)(Ds,{})}),(0,Xt.jsx)(me,{path:"/lunar-grid",element:(0,Xt.jsx)(yl,{})}),(0,Xt.jsx)(me,{path:"/options",element:(0,Xt.jsx)(au,{})}),(0,Xt.jsx)(me,{path:"*",element:(0,Xt.jsx)(ge,{to:"/transactions",replace:!0})})]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)(me,{path:"/login",element:(0,Xt.jsx)(rc,{})})," ",(0,Xt.jsx)(me,{path:"/register",element:(0,Xt.jsx)(ac,{})})," ",(0,Xt.jsx)(me,{path:"*",element:(0,Xt.jsx)(ge,{to:"/login",replace:!0})})]})})]})]})};class oc extends e.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught:",e,t)}render(){var e;return this.state.hasError?(0,Xt.jsx)(rs,{type:"error",title:_n.C.EROARE_TITLU,message:(null===(e=this.state.error)||void 0===e?void 0:e.message)||_n.C.EROARE_GENERALA,className:"my-8",withIcon:!0,withFadeIn:!0,withAccentBorder:!0,withShadow:!0,"data-testid":"error-boundary-alert"}):this.props.children}}const lc=oc,uc=t.createRoot(document.getElementById("root")),cc=new class{#q;#g;#c;#H;#Z;#K;#W;#Q;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#q=e.queryCache||new Gt,this.#g=e.mutationCache||new Ht,this.#c=e.defaultOptions||{},this.#H=new Map,this.#Z=new Map,this.#K=0}mount(){this.#K++,1===this.#K&&(this.#W=Pt.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#q.onFocus())})),this.#Q=jt.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#q.onOnline())})))}unmount(){this.#K--,0===this.#K&&(this.#W?.(),this.#W=void 0,this.#Q?.(),this.#Q=void 0)}isFetching(e){return this.#q.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#g.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#q.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#q.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ht(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#q.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=this.#q.get(r.queryHash),i=a?.state.data,s=function(e,t){return"function"===typeof e?e(t):e}(t,i);if(void 0!==s)return this.#q.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Ot.batch((()=>this.#q.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#q.get(t.queryHash)?.state}removeQueries(e){const t=this.#q;Ot.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#q;return Ot.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=Ot.batch((()=>this.#q.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(ut).catch(ut)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ot.batch((()=>(this.#q.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ot.batch((()=>this.#q.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(ut)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(ut)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#q.build(this,t);return n.isStaleByTime(ht(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ut).catch(ut)}fetchInfiniteQuery(e){return e.behavior=Kt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ut).catch(ut)}ensureInfiniteQueryData(e){return e.behavior=Kt(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jt.isOnline()?this.#g.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#q}getMutationCache(){return this.#g}getDefaultOptions(){return this.#c}setDefaultOptions(e){this.#c=e}setQueryDefaults(e,t){this.#H.set(vt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#H.values()],n={};return t.forEach((t=>{yt(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#Z.set(vt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#Z.values()],n={};return t.forEach((t=>{yt(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#c.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Rt&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#c.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#q.clear(),this.#g.clear()}};uc.render((0,Xt.jsx)(e.StrictMode,{children:(0,Xt.jsx)(nn,{client:cc,children:(0,Xt.jsx)(Xe,{children:(0,Xt.jsx)(lc,{children:(0,Xt.jsx)(sc,{})})})})}))})()})();
//# sourceMappingURL=main.0dbf6874.js.map