/*! For license information please see main.e0f49b05.js.LICENSE.txt */
(()=>{var e={341:(e,t,r)=>{"use strict";r.d(t,{N:()=>Ft});class n extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class a extends n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class s extends n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var o;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(o||(o={}));var l=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))};class u{constructor(e){let{headers:t={},customFetch:n,region:a=o.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,318)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return l(this,void 0,void 0,(function*(){try{const{headers:n,method:o,body:l}=t;let u,c={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(c["x-region"]=d),l&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):"string"===typeof l?(c["Content-Type"]="text/plain",u=l):"undefined"!==typeof FormData&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),n),body:u}).catch((e=>{throw new a(e)})),f=h.headers.get("x-relay-error");if(f&&"true"===f)throw new i(h);if(!h.ok)throw new s(h);let p,m=(null!==(r=h.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return p="application/json"===m?yield h.json():"application/octet-stream"===m?yield h.blob():"text/event-stream"===m?h:"multipart/form-data"===m?yield h.formData():yield h.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}}))}}var c=r(340);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:f,PostgrestTransformBuilder:p,PostgrestBuilder:m,PostgrestError:g}=c,v={"X-Client-Info":"realtime-js/2.11.2"};var y,b,w,_,k,x;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(b||(b={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(w||(w={})),function(e){e.websocket="websocket"}(_||(_={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(k||(k={}));class S{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const s=r.decode(e.slice(i,i+n));i+=n;const o=r.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:s,event:o,payload:JSON.parse(r.decode(e.slice(i,e.byteLength)))}}}class E{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(x||(x={}));const C=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((r,a)=>(r[a]=T(a,e,t,n),r)),{})},T=(e,t,r,n)=>{const a=t.find((t=>t.name===e)),i=null===a||void 0===a?void 0:a.type,s=r[e];return i&&!n.includes(i)?N(i,s):j(s)},N=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return P(t,r)}switch(e){case x.bool:return A(t);case x.float4:case x.float8:case x.int2:case x.int4:case x.int8:case x.numeric:case x.oid:return O(t);case x.json:case x.jsonb:return R(t);case x.timestamp:return I(t);case x.abstime:case x.date:case x.daterange:case x.int4range:case x.int8range:case x.money:case x.reltime:case x.text:case x.time:case x.timestamptz:case x.timetz:case x.tsrange:case x.tstzrange:default:return j(t)}},j=e=>e,A=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},O=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},P=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const i=e.slice(1,r);try{n=JSON.parse("["+i+"]")}catch(a){n=i?i.split(","):[]}return n.map((e=>N(t,e)))}return e},I=e=>"string"===typeof e?e.replace(" ","T"):e,L=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ${constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(r)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D,z,U,M;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(D||(D={}));class F{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=F.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=F.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],n()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=F.syncDiff(this.state,e,t,r),n())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,n){const a=this.cloneDeep(e),i=this.transformState(t),s={},o={};return this.map(a,((e,t)=>{i[e]||(o[e]=t)})),this.map(i,((e,t)=>{const r=a[e];if(r){const n=t.map((e=>e.presence_ref)),a=r.map((e=>e.presence_ref)),i=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=r.filter((e=>n.indexOf(e.presence_ref)<0));i.length>0&&(s[e]=i),l.length>0&&(o[e]=l)}else s[e]=t})),this.syncDiff(a,{joins:s,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,((t,n)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),i.length>0){const r=e[t].map((e=>e.presence_ref)),n=i.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...n)}r(t,i,n)})),this.map(i,((t,r)=>{let a=e[t];if(!a)return;const i=r.map((e=>e.presence_ref));a=a.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=a,n(t,a,r),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):n,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(z||(z={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(U||(U={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(M||(M={}));class Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $(this,w.join,this.params,this.timeout),this.rejoinTimer=new E((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this._on(w.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new F(this),this.broadcastEndpointURL=L(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:s}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(M.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(M.CLOSED)));const o={},l={broadcast:a,presence:i,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==n?n:[],private:s};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,i=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:s,schema:o,table:l,filter:u}}=a,c=r&&r[n];if(!c||c.event!==s||c.schema!==o||c.table!==l||c.filter!==u)return this.unsubscribe(),void(null===e||void 0===e||e(M.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:c.id}))}return this.bindings.postgres_changes=i,void(e&&e(M.SUBSCRIBED))}null===e||void 0===e||e(M.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(M.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(M.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var n,a,i;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||r("ok"),s.receive("ok",(()=>r("ok"))),s.receive("error",(()=>r("error"))),s.receive("timeout",(()=>r("timed out")))}));{const{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=b.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const n=new $(this,w.leave,{},e);n.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})}))}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout((()=>n.abort()),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),i}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new $(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const i=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:u}=w;if(r&&[s,o,l,u].indexOf(i)>=0&&r!==this._joinRef())return;let c=this._onMessage(i,t,r);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===i})).map((e=>e.callback(c,r))):null===(a=this.bindings[i])||void 0===a||a.filter((e=>{var r,n,a,s,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(r=e.filter)||void 0===r?void 0:r.event;return i&&(null===(n=t.ids)||void 0===n?void 0:n.includes(i))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"===typeof c&&"ids"in c){const e=c.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:i}=e,s={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:i};c=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(c,r)}))}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&Z.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(w.close,{},e)}_onError(e){this._on(w.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=C(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=C(e.columns,e.old_record)),t}}const B=()=>{},V="undefined"!==typeof WebSocket;class q{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=B,this.conn=null,this.sendBuffer=[],this.serializer=new S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,318)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${_.websocket}`,this.httpEndpoint=L(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(V)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new W(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),r.e(174).then(r.t.bind(r,174,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return k.Connecting;case y.open:return k.Open;case y.closing:return k.Closing;default:return k.Closed}}isConnected(){return this.connectionState()===k.Open}channel(e){const t=new Z(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:r,payload:n,ref:a}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${a})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(r&&r.exp){if(!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(w.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${a&&"("+a+")"||""}`,n),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,n,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(w.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class W{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=y.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class H extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function G(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class K extends H{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Q extends H{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var J=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))};const Y=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,318)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},X=e=>{if(Array.isArray(e))return e.map((e=>X(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[a]=X(n)})),t};var ee=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))};const te=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),re=(e,t,n)=>ee(void 0,void 0,void 0,(function*(){const a=yield J(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,318))).Response:Response}));e instanceof a&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then((r=>{t(new K(te(r),e.status||500))})).catch((e=>{t(new Q(te(e),e))})):t(new Q(te(e),e))}));function ne(e,t,r,n,a,i){return ee(this,void 0,void 0,(function*(){return new Promise(((s,o)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))})(t,n,a,i)).then((e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()})).then((e=>s(e))).catch((e=>re(e,o,n)))}))}))}function ae(e,t,r,n){return ee(this,void 0,void 0,(function*(){return ne(e,"GET",t,r,n)}))}function ie(e,t,r,n,a){return ee(this,void 0,void 0,(function*(){return ne(e,"POST",t,n,a,r)}))}function se(e,t,r,n,a){return ee(this,void 0,void 0,(function*(){return ne(e,"DELETE",t,n,a,r)}))}var oe=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))};const le={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ue={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ce{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=Y(n)}uploadOrUpdate(e,t,r,n){return oe(this,void 0,void 0,(function*(){try{let a;const i=Object.assign(Object.assign({},ue),n);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=r,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===n||void 0===n?void 0:n.headers)&&(s=Object.assign(Object.assign({},s),n.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:a,headers:s},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield c.json();if(c.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(G(a))return{data:null,error:a};throw a}}))}upload(e,t,r){return oe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}uploadToSignedUrl(e,t,r,n){return oe(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ue.upsert},n),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const o=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:i}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(G(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return oe(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield ie(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),i=new URL(this.url+a.url),s=i.searchParams.get("token");if(!s)throw new H("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}))}update(e,t,r){return oe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t,r){return oe(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}))}copy(e,t,r){return oe(this,void 0,void 0,(function*(){try{return{data:{path:(yield ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}))}createSignedUrl(e,t,r){return oe(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e),a=yield ie(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null===r||void 0===r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}))}createSignedUrls(e,t,r){return oe(this,void 0,void 0,(function*(){try{const n=yield ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null}))),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}))}download(e,t){return oe(this,void 0,void 0,(function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield ae(this.fetch,`${this.url}/${r}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(i){if(G(i))return{data:null,error:i};throw i}}))}info(e){return oe(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield ae(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:X(e),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}))}exists(e){return oe(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return ee(this,void 0,void 0,(function*(){return ne(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(G(r)&&r instanceof Q){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}))}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&n.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&n.push(s);let o=n.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}remove(e){return oe(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(G(t))return{data:null,error:t};throw t}}))}list(e,t,r){return oe(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},le),t),{prefix:e||""});return{data:yield ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const de={"X-Client-Info":"storage-js/2.7.1"};var he=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))};class fe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},de),t),this.fetch=Y(r)}listBuckets(){return he(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}}))}getBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(G(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}))}updateBucket(e,t){return he(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r,n,a){return ee(this,void 0,void 0,(function*(){return ne(e,"PUT",t,n,a,r)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}))}emptyBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(G(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(G(t))return{data:null,error:t};throw t}}))}}class pe extends fe{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new ce(this.url,this.headers,e,this.fetch)}}let me="";me="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ge={headers:{"X-Client-Info":`supabase-js-${me}/2.49.4`}},ve={schema:"public"},ye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},be={};var we=r(318),_e=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))};const ke=e=>{let t;return t=e||("undefined"===typeof fetch?we.default:fetch),function(){return t(...arguments)}},xe=(e,t,r)=>{const n=ke(r),a="undefined"===typeof Headers?we.Headers:Headers;return(r,i)=>_e(void 0,void 0,void 0,(function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),n(r,Object.assign(Object.assign({},i),{headers:l}))}))};var Se=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))};const Ee="2.69.1",Ce=3e4,Te=9e4,Ne={"X-Client-Info":`gotrue-js/${Ee}`},je="X-Supabase-Api-Version",Ae={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Oe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Re extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Pe(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Ie extends Re{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Le extends Re{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class $e extends Re{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class De extends $e{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class ze extends $e{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ue extends $e{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Me extends $e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fe extends $e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ze extends $e{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Be(e){return Pe(e)&&"AuthRetryableFetchError"===e.name}class Ve extends $e{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class qe extends $e{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),He=" \t\n\r=".split(""),Ge=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<He.length;t+=1)e[He[t].charCodeAt(0)]=-2;for(let t=0;t<We.length;t+=1)e[We[t].charCodeAt(0)]=t;return e})();function Ke(e,t,r){const n=Ge[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Qe(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let s=0;s<e.length;s+=1)Ke(e.charCodeAt(s),a,i);return t.join("")}function Je(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Ye(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Je(n,t)}}function Xe(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Ke(e.charCodeAt(a),r,n);return new Uint8Array(t)}const et=()=>"undefined"!==typeof window&&"undefined"!==typeof document,tt={tested:!1,writable:!1},rt=()=>{if(!et())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(tt.tested)return tt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tt.tested=!0,tt.writable=!0}catch(t){tt.tested=!0,tt.writable=!1}return tt.writable};const nt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,318)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},at=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},it=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},st=async(e,t)=>{await e.removeItem(t)};class ot{constructor(){this.promise=new ot.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function lt(e){const t=e.split(".");if(3!==t.length)throw new qe("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Oe.test(t[r]))throw new qe("JWT not in base64url format");return{header:JSON.parse(Qe(t[0])),payload:JSON.parse(Qe(t[1])),signature:Xe(t[2]),raw:{header:t[0],payload:t[1]}}}function ut(e){return("0"+e.toString(16)).substr(-2)}async function ct(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,ut).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await at(e,`${t}-code-verifier`,a);const i=await ct(n);return[i,n===i?"plain":"s256"]}ot.promiseConstructor=Promise;const ht=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var ft=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const pt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mt=[502,503,504];async function gt(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Ze(pt(e),0);if(mt.includes(e.status))throw new Ze(pt(e),e.status);let n,a;try{n=await e.json()}catch(s){throw new Le(pt(s),s)}const i=function(e){const t=e.headers.get(je);if(!t)return null;if(!t.match(ht))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(s){return null}}(e);if(i&&i.getTime()>=Ae.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new Ve(pt(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new De}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new Ve(pt(n),e.status,n.weak_password.reasons);throw new Ie(pt(n),e.status||500,a)}async function vt(e,t,r,n){var a;const i=Object.assign({},null===n||void 0===n?void 0:n.headers);i[je]||(i[je]=Ae.name),(null===n||void 0===n?void 0:n.jwt)&&(i.Authorization=`Bearer ${n.jwt}`);const s=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,r,n,a,i){const s=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Ze(pt(l),0)}o.ok||await gt(o);if(null===n||void 0===n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(l){await gt(l)}}(e,t,r+o,{headers:i,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function yt(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function bt(e){const t=yt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function _t(e){return{data:e,error:null}}function kt(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=ft(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},user:Object.assign({},s)},error:null}}function xt(e){return e}var St=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class Et{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=nt(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:wt})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=St(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:kt,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,i,s,o;try{const l={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:xt});if(u.error)throw u.error;const c=await u.json(),d=null!==(i=u.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(o=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(Pe(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:wt})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:wt})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}}const Ct={getItem:e=>rt()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{rt()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{rt()&&globalThis.localStorage.removeItem(e)}};function Tt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Nt=!!(globalThis&&rt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class jt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class At extends jt{}async function Ot(e,t,r){Nt&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout((()=>{n.abort(),Nt&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},(async n=>{if(!n){if(0===t)throw Nt&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new At(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nt)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Nt&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Nt&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Rt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pt(e,t,r){return await r()}class It{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=It.nextInstanceID,It.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Rt),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Et({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=nt(n.fetch),this.lock=n.lock||Pt,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:et()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Ot:this.lock=Pt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:rt()?this.storage=Ct:(this.memoryStorage={},this.storage=Tt(this.memoryStorage)):(this.memoryStorage={},this.storage=Tt(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(`GoTrueClient@${this.instanceID} (${Ee}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(n){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),et()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Pe(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Pe(t)?{error:t}:{error:new Le("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:yt}),{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:i}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await dt(this.storage,this.storageKey)),a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},xform:yt})}else{if(!("phone"in e))throw new Ue("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:s}=e;a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null===s||void 0===s?void 0:s.data)&&void 0!==r?r:{},channel:null!==(n=null===s||void 0===s?void 0:s.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:yt})}}const{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:bt})}else{if(!("phone"in e))throw new Ue("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:bt})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new ze}}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await it(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:yt});if(await st(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new ze}}catch(a){if(Pe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:i}=e,s=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:yt}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new ze}}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,i;try{if("email"in e){const{email:n,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await dt(this.storage,this.storageKey));const{error:o}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:s,error:o}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(i=null===r||void 0===r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new Ue("You must provide either an email or phone number.")}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:s}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:yt});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await dt(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:_t})}catch(a){if(Pe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new De;const{error:n}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:a}=e,{error:i}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:i,error:s}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new Ue("You must provide either an email or phone number and a type")}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await it(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Te;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession((async e=>{var t,r,n;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:wt}):{data:{user:null},error:new De}}))}catch(t){if(Pe(t))return function(e){return Pe(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new De;const i=n.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await dt(this.storage,this.storageKey));const{data:l,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:i.access_token,xform:wt});if(u)throw u;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new De;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:i}=lt(e.access_token);if(i.exp&&(r=i.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Pe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new De;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!et())throw new Me("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Me(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Fe("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Me("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fe("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:i,expires_in:s,expires_at:o,token_type:l}=e;if(!a||!s||!i||!l)throw new Me("No session defined in URL");const u=Math.round(Date.now()/1e3),c=parseInt(s);let d=u+c;o&&(d=parseInt(o));const h=d-u;1e3*h<=Ce&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${c}s`);const f=d-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,u);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:c,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(Pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await it(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const i=null===(r=n.session)||void 0===r?void 0:r.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Pe(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await dt(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Pe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession((async t=>{var r,n,a,i,s;const{data:o,error:l}=t;if(l)throw l;const u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(s=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})}));if(n)throw n;return et()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(Pe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,n;const{data:a,error:i}=t;if(i)throw i;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&Be(t)&&Date.now()+r-a<Ce},new Promise(((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await r(i);if(!n(i,null,t))return void e(t)}catch(a){if(!n(i,a))return void t(a)}})()})))}catch(a){if(this._debug(t,"error",a),Pe(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),et()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await it(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<Te;if(this._debug(t,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),Be(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(t,"error",r),void console.error(r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new De;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ot;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new De;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),Pe(a)){const e={session:null,error:a};return Be(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(a){n.push(a)}}));if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await at(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await st(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Ce);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/Ce);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof jt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null===r||void 0===r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await dt(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var r,n;const{data:a,error:i}=t;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===o||void 0===o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:s}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=r.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=lt(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:r,error:n}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;if(!r.keys||0===r.keys.length)throw new qe("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),t=r.keys.find((t=>t.kid===e)),!t)throw new qe("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:i,raw:{header:s,payload:o}}=lt(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await this.fetchJwk(n.kid,t),c=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,c,i,function(e){const t=[];return Ye(e,(e=>t.push(e))),new Uint8Array(t)}(`${s}.${o}`)))throw new qe("Invalid JWT signature");return{data:{claims:a,header:n,signature:i},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}It.nextInstanceID=0;const Lt=It;class $t extends Lt{constructor(e){super(e)}}var Dt=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function o(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}l((n=n.apply(e,t||[])).next())}))};class zt{constructor(e,t,r){var n,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=e.replace(/\/$/,"");this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const o=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:s,auth:o,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>Se(this,void 0,void 0,(function*(){return""}))};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}(null!==r&&void 0!==r?r:{},{db:ve,realtime:be,auth:Object.assign(Object.assign({},ye),{storageKey:o}),global:ge});this.storageKey=null!==(n=l.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=l.global.headers)&&void 0!==a?a:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=xe(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new d(`${s}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new u(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Dt(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:s,storageKey:o,flowType:l,lock:u,debug:c}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $t({url:this.authUrl,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:s,flowType:l,lock:u,debug:c,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new q(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const Ut="https://pzyvibdgpfgohvewdmit.supabase.co",Mt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6eXZpYmRncGZnb2h2ZXdkbWl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYwMTM4NDgsImV4cCI6MjA2MTU4OTg0OH0.nE0GEDQEwPEE-bYg54R4Td3kRFlgeft6Dfl7ItticdA";const Ft=((e,t,r)=>new zt(e,t,r))(Ut,Mt)},16:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});const n={LOGIN_SUCCES:"Autentificare reu\u0219it\u0103! Bine ai revenit.",LOGIN_ERROR:"Eroare la autentificare. Verific\u0103 emailul \u0219i parola.",LOGOUT_SUCCES:"Te-ai delogat cu succes!",REGISTER_SUCCES:"Cont creat! Verific\u0103 emailul pentru confirmare.",REGISTER_ERROR:"Eroare la crearea contului. \xcencearc\u0103 din nou.",PAROLE_NECORESPUNZATOARE:"Parolele nu coincid!",INVALID_TYPE:"Tip de tranzac\u021bie invalid!",INVALID_CATEGORY:"Categorie invalid\u0103!",MISSING_REQUIRED_FIELD:"C\xe2mp obligatoriu lips\u0103!",NOT_FOUND:"Resursa nu a fost g\u0103sit\u0103!",SERVER_ERROR:"Eroare intern\u0103 server!",TRANSACTION_CREATED:"Tranzac\u021bie ad\u0103ugat\u0103 cu succes!",TRANSACTION_UPDATED:"Tranzac\u021bie actualizat\u0103 cu succes!",TRANSACTION_DELETED:"Tranzac\u021bie \u0219tears\u0103 cu succes!",CAMPURI_OBLIGATORII:"Completeaz\u0103 toate c\xe2mpurile obligatorii",FRECV_RECURENTA:"Selecteaz\u0103 frecven\u021ba pentru tranzac\u021bie recurent\u0103",AVERTISMENT_DATE:"Datele introduse nu sunt valide sau complete.",EROARE_ADAUGARE:"Eroare la ad\u0103ugare",SUCCES_ADAUGARE:"Tranzac\u021bie ad\u0103ugat\u0103 cu succes",SUCCES_EDITARE:"Tranzac\u021bie editat\u0103 cu succes",SUCCES_STERGERE:"Tranzac\u021bie \u0219tears\u0103 cu succes",CONFIRMARE_STERGERE:"Sigur vrei s\u0103 \u0219tergi aceast\u0103 tranzac\u021bie? Aceast\u0103 ac\u021biune nu poate fi anulat\u0103.",EROARE_GENERALA:"A ap\u0103rut o eroare nea\u0219teptat\u0103. \xcencearc\u0103 din nou sau contacteaz\u0103 suportul.",EROARE_TITLU:"Eroare nea\u0219teptat\u0103",EROARE_FORMAT_DATE:"Format de date invalid sau nea\u0219teptat de la server.",EROARE_NECUNOSCUTA:"Eroare necunoscut\u0103",EROARE_INCARCARE_TRANZACTII:"Eroare la \xeenc\u0103rcarea tranzac\u021biilor",EROARE_SALVARE_TRANZACTIE:"Eroare la salvarea tranzac\u021biei",EROARE_STERGERE_TRANZACTIE:"Eroare la \u0219tergerea tranzac\u021biei",LOG_EROARE_INCARCARE:"Eroare la \xeenc\u0103rcarea tranzac\u021biilor:",LOG_EROARE_SALVARE:"Eroare la salvarea tranzac\u021biei:",LOG_EROARE_STERGERE:"Eroare la \u0219tergerea tranzac\u021biei:",EROARE_AUTENTIFICARE:"Date de autentificare incorecte.",EROARE_RLS:"Acces interzis (RLS).",EROARE_RETEA:"Eroare de re\u021bea. \xcencearc\u0103 din nou.",PAROLA_PREA_SLABA:"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.",EROARE_CATEGORIE_SUBCATEGORIE_INVALIDA:"Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie."}},952:(e,t,r)=>{"use strict";r.d(t,{useAuthStore:()=>u});var n=r(469),a=r(887),i=r(341),s=r(16);let o=function(e){return e.INVALID_CREDENTIALS="INVALID_CREDENTIALS",e.NETWORK="NETWORK",e.RLS_DENIED="RLS_DENIED",e.PASSWORD_WEAK="PASSWORD_WEAK",e.UNKNOWN="UNKNOWN",e}({});const l={async login(e,t){const{data:r,error:n}=await i.N.auth.signInWithPassword({email:e,password:t});let a,s=null;var l,u,c;(null!==r&&void 0!==r&&r.user&&(s={id:r.user.id,email:r.user.email||""}),n)&&(a=null!==(l=n.message)&&void 0!==l&&l.toLowerCase().includes("invalid login credentials")?o.INVALID_CREDENTIALS:null!==(u=n.message)&&void 0!==u&&u.toLowerCase().includes("row-level security")?o.RLS_DENIED:null!==(c=n.message)&&void 0!==c&&c.toLowerCase().includes("network")?o.NETWORK:o.UNKNOWN);return{user:s,error:(null===n||void 0===n?void 0:n.message)||null,errorType:a}},async register(e,t){if(!t||t.length<8||!/[A-Z]/.test(t)||!/[a-z]/.test(t)||!/[0-9]/.test(t)||!/[^A-Za-z0-9]/.test(t))return{user:null,error:s.C.PAROLA_PREA_SLABA,errorType:o.PASSWORD_WEAK};const{data:r,error:n}=await i.N.auth.signUp({email:e,password:t});let a,l=null;var u,c;(null!==r&&void 0!==r&&r.user&&(l={id:r.user.id,email:r.user.email||""}),n)&&(a=null!==(u=n.message)&&void 0!==u&&u.toLowerCase().includes("password")?o.PASSWORD_WEAK:null!==(c=n.message)&&void 0!==c&&c.toLowerCase().includes("network")?o.NETWORK:o.UNKNOWN);return{user:l,error:(null===n||void 0===n?void 0:n.message)||null,errorType:a}},async logout(){await i.N.auth.signOut()},getCurrentUser:()=>i.N.auth.getUser().then((e=>{let{data:t}=e;return null!==t&&void 0!==t&&t.user?{id:t.user.id,email:t.user.email||""}:null})),onAuthStateChange(e){const{data:t}=i.N.auth.onAuthStateChange(e);return i.N.auth.getSession().then((t=>{let{data:{session:r}}=t;r&&e("SIGNED_IN",r)})),t.subscription.unsubscribe}},u=(0,n.v)((0,a.Zr)((e=>({user:null,loading:!1,error:null,errorType:void 0,login:async(t,r)=>{e({loading:!0,error:null,errorType:void 0});const n=await l.login(t,r);e({user:n.user,error:n.error,errorType:n.errorType,loading:!1})},register:async(t,r)=>{e({loading:!0,error:null,errorType:void 0});const n=await l.register(t,r);e({user:n.user,error:n.error,errorType:n.errorType,loading:!1})},logout:async()=>{e({loading:!0,error:null}),await l.logout(),e({user:null,loading:!1})},checkUser:async()=>{e({loading:!0});const t=await l.getCurrentUser();e({user:t,loading:!1})}})),{name:"auth-storage",partialize:e=>({user:e.user})}));l.onAuthStateChange(((e,t)=>{"SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user?u.setState({user:{id:t.user.id,email:t.user.email||""},loading:!1,error:null}):"SIGNED_OUT"===e&&u.setState({user:null,loading:!1,error:null})}))},318:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>a});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const a=n.fetch,i=n.fetch.bind(n),s=n.Headers,o=n.Request,l=n.Response},374:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(318)),i=n(r(595));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,r,n;let a=null,s=null,o=null,l=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&i&&i.length>1&&(o=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(s=[],a=null,l=200,u="OK")}catch(c){404===e.status&&""===t?(l=204,u="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(n=null===a||void 0===a?void 0:a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,l=200,u="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:s,count:o,status:l,statusText:u}}));return this.shouldThrowOnError||(r=r.catch((e=>{var t,r,n;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}}))),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},42:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(34)),i=n(r(416)),s=r(401);class o{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:a=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;n||a?(t=n?"HEAD":"GET",Object.entries(r).filter((e=>{let[t,r]=e;return void 0!==r})).map((e=>{let[t,r]=e;return[t,Array.isArray(r)?`{${r.join(",")}}`:`${r}`]})).forEach((e=>{let[t,r]=e;o.searchParams.append(t,r)}))):(t="POST",l=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new i.default({method:t,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},416:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(926));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const i=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,r]=e;this.url.searchParams.append(t,`eq.${r}`)})),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}t.default=i},34:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(416));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},926:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(374));class i extends a.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":`${n}.offset`,i="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(72);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`}},340:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=n(r(42));t.PostgrestClient=a.default;const i=n(r(34));t.PostgrestQueryBuilder=i.default;const s=n(r(416));t.PostgrestFilterBuilder=s.default;const o=n(r(926));t.PostgrestTransformBuilder=o.default;const l=n(r(374));t.PostgrestBuilder=l.default;const u=n(r(595));t.PostgrestError=u.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default}},72:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},306:(e,t,r)=>{"use strict";var n=r(643),a=r(261);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),k=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var $,D=Object.assign;function z(e){if(void 0===$)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var U=!1;function M(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=n.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?z(e):""}function F(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case k:return"Portal";case E:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return Z(e(t))}catch(r){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){J(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&G(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function ie(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,xe=null,Se=null;function Ee(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=_a(t),ke(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function je(){}var Ae=!1;function Oe(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Ne(e,t,r)}finally{Ae=!1,(null!==xe||null!==Se)&&(je(),Te())}}function Re(e,t){var r=e.stateNode;if(null===r)return null;var n=_a(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Pe=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Pe=!1}function Le(e,t,r,n,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var $e=!1,De=null,ze=!1,Ue=null,Me={onError:function(e){$e=!0,De=e}};function Fe(e,t,r,n,a,i,s,o,l){$e=!1,De=null,Le.apply(Me,arguments)}function Ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ze(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Ve(a),e;if(s===n)return Ve(a),t;s=s.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&r;if(0!==s){var o=s&~a;0!==o?n=dt(o):0!==(i&=s)&&(n=dt(i))}else 0!==(s=r&~a)?n=dt(s):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-st(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,kt,xt,St,Et,Ct=!1,Tt=[],Nt=null,jt=null,At=null,Ot=new Map,Rt=new Map,Pt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function $t(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=ya(e.target);if(null!==t){var r=Ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Be(r)))return e.blockedOn=t,void Et(e.priority,(function(){xt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&kt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);we=n,r.target.dispatchEvent(n),we=null,t.shift()}return!0}function Ut(e,t,r){zt(e)&&r.delete(t)}function Mt(){Ct=!1,null!==Nt&&zt(Nt)&&(Nt=null),null!==jt&&zt(jt)&&(jt=null),null!==At&&zt(At)&&(At=null),Ot.forEach(Ut),Rt.forEach(Ut)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Zt(e){function t(t){return Ft(t,e)}if(0<Tt.length){Ft(Tt[0],e);for(var r=1;r<Tt.length;r++){var n=Tt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Nt&&Ft(Nt,e),null!==jt&&Ft(jt,e),null!==At&&Ft(At,e),Ot.forEach(t),Rt.forEach(t),r=0;r<Pt.length;r++)(n=Pt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Pt.length&&null===(r=Pt[0]).blockedOn;)Dt(r),null===r.blockedOn&&Pt.shift()}var Bt=w.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,r,n){var a=bt,i=Bt.transition;Bt.transition=null;try{bt=1,Ht(e,t,r,n)}finally{bt=a,Bt.transition=i}}function Wt(e,t,r,n){var a=bt,i=Bt.transition;Bt.transition=null;try{bt=4,Ht(e,t,r,n)}finally{bt=a,Bt.transition=i}}function Ht(e,t,r,n){if(Vt){var a=Kt(e,t,r,n);if(null===a)Vn(e,t,n,Gt,r),Lt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Nt=$t(Nt,e,t,r,n,a),!0;case"dragenter":return jt=$t(jt,e,t,r,n,a),!0;case"mouseover":return At=$t(At,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ot.set(i,$t(Ot.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Rt.set(i,$t(Rt.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&_t(i),null===(i=Kt(e,t,r,n))&&Vn(e,t,n,Gt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Vn(e,t,n,null,r)}}var Gt=null;function Kt(e,t,r,n){if(Gt=null,null!==(e=ya(e=_e(n))))if(null===(t=Ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Xt=null;function er(){if(Xt)return Xt;var e,t,r=Yt,n=r.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[i-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,sr,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ar(lr),cr=D({},lr,{view:0,detail:0}),dr=ar(cr),hr=D({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ir=e.screenX-or.screenX,sr=e.screenY-or.screenY):sr=ir=0,or=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),fr=ar(hr),pr=ar(D({},hr,{dataTransfer:0})),mr=ar(D({},cr,{relatedTarget:0})),gr=ar(D({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=D({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(vr),br=ar(D({},lr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Sr(){return xr}var Er=D({},cr,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ar(Er),Tr=ar(D({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=ar(D({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),jr=ar(D({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=D({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=ar(Ar),Rr=[9,13,27,32],Pr=c&&"CompositionEvent"in window,Ir=null;c&&"documentMode"in document&&(Ir=document.documentMode);var Lr=c&&"TextEvent"in window&&!Ir,$r=c&&(!Pr||Ir&&8<Ir&&11>=Ir),Dr=String.fromCharCode(32),zr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fr=!1;var Zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zr[e.type]:"textarea"===t}function Vr(e,t,r,n){Ce(n),0<(t=Wn(t,"onChange")).length&&(r=new ur("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qr=null,Wr=null;function Hr(e){zn(e,0)}function Gr(e){if(H(wa(e)))return e}function Kr(e,t){if("change"===e)return t}var Qr=!1;if(c){var Jr;if(c){var Yr="oninput"in document;if(!Yr){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),Yr="function"===typeof Xr.oninput}Jr=Yr}else Jr=!1;Qr=Jr&&(!document.documentMode||9<document.documentMode)}function en(){qr&&(qr.detachEvent("onpropertychange",tn),Wr=qr=null)}function tn(e){if("value"===e.propertyName&&Gr(Wr)){var t=[];Vr(t,Wr,e,_e(e)),Oe(Hr,t)}}function rn(e,t,r){"focusin"===e?(en(),Wr=r,(qr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gr(Wr)}function an(e,t){if("click"===e)return Gr(t)}function sn(e,t){if("input"===e||"change"===e)return Gr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!on(e[a],t[a]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var r,n=un(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=G((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=cn(r,i);var s=cn(r,n);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=c&&"documentMode"in document&&11>=document.documentMode,gn=null,vn=null,yn=null,bn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==gn||gn!==G(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Wn(vn,"onSelect")).length&&(t=new ur("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function _n(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kn={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionend:_n("Transition","TransitionEnd")},xn={},Sn={};function En(e){if(xn[e])return xn[e];if(!kn[e])return e;var t,r=kn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sn)return xn[e]=r[t];return e}c&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);var Cn=En("animationend"),Tn=En("animationiteration"),Nn=En("animationstart"),jn=En("transitionend"),An=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){An.set(e,t),l(t,[e])}for(var Pn=0;Pn<On.length;Pn++){var In=On[Pn];Rn(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}Rn(Cn,"onAnimationEnd"),Rn(Tn,"onAnimationIteration"),Rn(Nn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(jn,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$n=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Dn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,s,o,l,u){if(Fe.apply(this,arguments),$e){if(!$e)throw Error(i(198));var c=De;$e=!1,De=null,ze||(ze=!0,Ue=c)}}(n,t,void 0,e),e.currentTarget=null}function zn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Dn(a,o,u),i=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Dn(a,o,u),i=l}}}if(ze)throw e=Ue,ze=!1,Ue=null,e}function Un(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(Bn(t,e,2,!1),r.add(n))}function Mn(e,t,r){var n=0;t&&(n|=4),Bn(r,e,n,t)}var Fn="_reactListening"+Math.random().toString(36).slice(2);function Zn(e){if(!e[Fn]){e[Fn]=!0,s.forEach((function(t){"selectionchange"!==t&&($n.has(t)||Mn(t,!1,e),Mn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fn]||(t[Fn]=!0,Mn("selectionchange",!1,t))}}function Bn(e,t,r,n){switch(Qt(t)){case 1:var a=qt;break;case 4:a=Wt;break;default:a=Ht}r=a.bind(null,t,r,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ya(o)))return;if(5===(l=s.tag)||6===l){n=i=s;continue e}o=o.parentNode}}n=n.return}Oe((function(){var n=i,a=_e(r),s=[];e:{var o=An.get(e);if(void 0!==o){var l=ur,u=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":u="focus",l=mr;break;case"focusout":u="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nr;break;case Cn:case Tn:case Nn:l=gr;break;case jn:l=jr;break;case"scroll":l=dr;break;case"wheel":l=Or;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tr}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&c.push(qn(p,m,f)))),d)break;p=p.return}0<c.length&&(o=new l(o,u,null,r,a),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===we||!(u=r.relatedTarget||r.fromElement)||!ya(u)&&!u[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?ya(u):null)&&(u!==(d=Ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tr,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wa(l),f=null==u?o:wa(u),(o=new c(m,p+"leave",l,r,a)).target=d,o.relatedTarget=f,m=null,ya(a)===n&&((c=new c(h,p+"enter",u,r,a)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Hn(f))p++;for(f=0,m=h;m;m=Hn(m))f++;for(;0<p-f;)c=Hn(c),p--;for(;0<f-p;)h=Hn(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Hn(c),h=Hn(h)}c=null}else c=null;null!==l&&Gn(s,o,l,c,!1),null!==u&&null!==d&&Gn(s,d,u,c,!0)}if("select"===(l=(o=n?wa(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Kr;else if(Br(o))if(Qr)g=sn;else{g=nn;var v=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=an);switch(g&&(g=g(e,n))?Vr(s,g,r,a):(v&&v(e,o,n),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=n?wa(n):window,e){case"focusin":(Br(v)||"true"===v.contentEditable)&&(gn=v,vn=n,yn=null);break;case"focusout":yn=vn=gn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(s,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":wn(s,r,a)}var y;if(Pr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fr?Ur(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&($r&&"ko"!==r.locale&&(Fr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fr&&(y=er()):(Yt="value"in(Jt=a)?Jt.value:Jt.textContent,Fr=!0)),0<(v=Wn(n,b)).length&&(b=new br(b,e,null,r,a),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Mr(r))&&(b.data=y))),(y=Lr?function(e,t){switch(e){case"compositionend":return Mr(t);case"keypress":return 32!==t.which?null:(zr=!0,Dr);case"textInput":return(e=t.data)===Dr&&zr?null:e;default:return null}}(e,r):function(e,t){if(Fr)return"compositionend"===e||!Pr&&Ur(e,t)?(e=er(),Xt=Yt=Jt=null,Fr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Wn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),s.push({event:a,listeners:n}),a.data=y))}zn(s,t)}))}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Re(e,r))&&n.unshift(qn(e,i,a)),null!=(i=Re(e,t))&&n.push(qn(e,i,a))),e=e.return}return n}function Hn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t,r,n,a){for(var i=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==u&&(o=u,a?null!=(l=Re(r,i))&&s.unshift(qn(r,l,o)):a||null!=(l=Re(r,i))&&s.push(qn(r,l,o))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Kn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Jn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Qn,"")}function Yn(e,t,r){if(t=Jn(t),Jn(e)!==t&&r)throw Error(i(425))}function Xn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Zt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Zt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ca(e);null!==e;){if(r=e[ha])return r;e=ca(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _a(e){return e[fa]||null}var ka=[],xa=-1;function Sa(e){return{current:e}}function Ea(e){0>xa||(e.current=ka[xa],ka[xa]=null,xa--)}function Ca(e,t){xa++,ka[xa]=e.current,e.current=t}var Ta={},Na=Sa(Ta),ja=Sa(!1),Aa=Ta;function Oa(e,t){var r=e.type.contextTypes;if(!r)return Ta;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pa(){Ea(ja),Ea(Na)}function Ia(e,t,r){if(Na.current!==Ta)throw Error(i(168));Ca(Na,t),Ca(ja,r)}function La(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,B(e)||"Unknown",a));return D({},r,n)}function $a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,Aa=Na.current,Ca(Na,e),Ca(ja,ja.current),!0}function Da(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=La(e,t,Aa),n.__reactInternalMemoizedMergedChildContext=e,Ea(ja),Ea(Na),Ca(Na,e)):Ea(ja),Ca(ja,r)}var za=null,Ua=!1,Ma=!1;function Fa(e){null===za?za=[e]:za.push(e)}function Za(){if(!Ma&&null!==za){Ma=!0;var e=0,t=bt;try{var r=za;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}za=null,Ua=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),He(Xe,Za),a}finally{bt=t,Ma=!1}}return null}var Ba=[],Va=0,qa=null,Wa=0,Ha=[],Ga=0,Ka=null,Qa=1,Ja="";function Ya(e,t){Ba[Va++]=Wa,Ba[Va++]=qa,qa=e,Wa=t}function Xa(e,t,r){Ha[Ga++]=Qa,Ha[Ga++]=Ja,Ha[Ga++]=Ka,Ka=e;var n=Qa;e=Ja;var a=32-st(n)-1;n&=~(1<<a),r+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Qa=1<<32-st(t)+a|r<<a|n,Ja=i+e}else Qa=1<<i|r<<a|n,Ja=e}function ei(e){null!==e.return&&(Ya(e,1),Xa(e,1,0))}function ti(e){for(;e===qa;)qa=Ba[--Va],Ba[Va]=null,Wa=Ba[--Va],Ba[Va]=null;for(;e===Ka;)Ka=Ha[--Ga],Ha[Ga]=null,Ja=Ha[--Ga],Ha[Ga]=null,Qa=Ha[--Ga],Ha[Ga]=null}var ri=null,ni=null,ai=!1,ii=null;function si(e,t){var r=Ou(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ka?{id:Qa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ou(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ni;if(t){var r=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ua(r.nextSibling);var n=ri;t&&oi(e,t)?si(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ai)return ci(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(li(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=ua(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ua(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ua(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ni;e;)e=ua(e.nextSibling)}function fi(){ni=ri=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=w.ReactCurrentBatchConfig;function gi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Du(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function u(e,t,r,n){var i=r.type;return i===x?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&yi(i)===t.type)?((n=a(t,r.props)).ref=gi(e,t,r),n.return=e,n):((n=Iu(r.type,r.key,r.props,null,e.mode,n)).ref=gi(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=zu(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Lu(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Du(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(r=Iu(t.type,t.key,t.props,null,e.mode,r)).ref=gi(e,null,t),r.return=e,r;case k:return(t=zu(t,e.mode,r)).return=e,t;case R:return h(e,(0,t._init)(t._payload),r)}if(te(t)||L(t))return(t=Lu(t,e.mode,r,null)).return=e,t;vi(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return r.key===a?u(e,t,r,n):null;case k:return r.key===a?c(e,t,r,n):null;case R:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||L(r))return null!==a?null:d(e,t,r,n,null);vi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case k:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case R:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||L(n))return d(t,e=e.get(r)||null,n,a,null);vi(t,n)}return null}function m(a,i,o,l){for(var u=null,c=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=s(v,i,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===o.length)return r(a,d),ai&&Ya(a,m),u;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(i=s(d,i,m),null===c?u=d:c.sibling=d,c=d);return ai&&Ya(a,m),u}for(d=n(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ai&&Ya(a,m),u}function g(a,o,l,u){var c=L(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),o=s(b,o,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return r(a,m),ai&&Ya(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,u))&&(o=s(y,o,g),null===d?c=y:d.sibling=y,d=y);return ai&&Ya(a,g),c}for(m=n(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ai&&Ya(a,g),c}return function e(n,i,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var u=s.key,c=i;null!==c;){if(c.key===u){if((u=s.type)===x){if(7===c.tag){r(n,c.sibling),(i=a(c,s.props.children)).return=n,n=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&yi(u)===c.type){r(n,c.sibling),(i=a(c,s.props)).ref=gi(n,c,s),i.return=n,n=i;break e}r(n,c);break}t(n,c),c=c.sibling}s.type===x?((i=Lu(s.props.children,n.mode,l,s.key)).return=n,n=i):((l=Iu(s.type,s.key,s.props,null,n.mode,l)).ref=gi(n,i,s),l.return=n,n=l)}return o(n);case k:e:{for(c=s.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){r(n,i.sibling),(i=a(i,s.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=zu(s,n.mode,l)).return=n,n=i}return o(n);case R:return e(n,i,(c=s._init)(s._payload),l)}if(te(s))return m(n,i,s,l);if(L(s))return g(n,i,s,l);vi(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,s)).return=n,n=i):(r(n,i),(i=Du(s,n.mode,l)).return=n,n=i),o(n)):r(n,i)}}var wi=bi(!0),_i=bi(!1),ki=Sa(null),xi=null,Si=null,Ei=null;function Ci(){Ei=Si=xi=null}function Ti(e){var t=ki.current;Ea(ki),e._currentValue=t}function Ni(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ji(e,t){xi=e,Ei=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===xi)throw Error(i(308));Si=e,xi.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Oi=null;function Ri(e){null===Oi?Oi=[e]:Oi.push(e)}function Pi(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ri(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ii(e,n)}function Ii(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Li=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Di(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Nl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ii(e,r)}return null===(a=n.interleaved)?(t.next=t,Ri(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ii(e,r)}function Mi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Fi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=s:i=i.next=s,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zi(e,t,r,n){var a=e.updateQueue;Li=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,c=u=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((n&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:Li=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);$l|=s,e.lanes=s,e.memoizedState=d}}function Bi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Vi={},qi=Sa(Vi),Wi=Sa(Vi),Hi=Sa(Vi);function Gi(e){if(e===Vi)throw Error(i(174));return e}function Ki(e,t){switch(Ca(Hi,t),Ca(Wi,e),Ca(qi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(qi),Ca(qi,t)}function Qi(){Ea(qi),Ea(Wi),Ea(Hi)}function Ji(e){Gi(Hi.current);var t=Gi(qi.current),r=le(t,e.type);t!==r&&(Ca(Wi,e),Ca(qi,r))}function Yi(e){Wi.current===e&&(Ea(qi),Ea(Wi))}var Xi=Sa(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function rs(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var ns=w.ReactCurrentDispatcher,as=w.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,us=!1,cs=!1,ds=0,hs=0;function fs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function ms(e,t,r,n,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ns.current=null===e||null===e.memoizedState?Ys:Xs,e=r(n,a),cs){s=0;do{if(cs=!1,ds=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,ns.current=eo,e=r(n,a)}while(cs)}if(ns.current=Js,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,us=!1,t)throw Error(i(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=ys(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=os,a=n.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(null!==a){s=a.next,n=n.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((is&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,o=n):u=u.next=h,ss.lanes|=d,$l|=d}c=c.next}while(null!==c&&c!==s);null===u?o=n:u.next=l,on(n,t.memoizedState)||(bo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,$l|=s,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _s(e){var t=ys(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);on(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ks(){}function xs(e,t){var r=ss,n=ys(),a=t(),s=!on(n.memoizedState,a);if(s&&(n.memoizedState=a,bo=!0),n=n.queue,Ls(Cs.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(r.flags|=2048,As(9,Es.bind(null,r,n,a,t),void 0,null),null===jl)throw Error(i(349));0!==(30&is)||Ss(r,t,a)}return a}function Ss(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Es(e,t,r,n){t.value=r,t.getSnapshot=n,Ts(t)&&Ns(e)}function Cs(e,t,r){return r((function(){Ts(t)&&Ns(e)}))}function Ts(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Ns(e){var t=Ii(e,1);null!==t&&ru(t,e,1,-1)}function js(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Hs.bind(null,ss,e),[t.memoizedState,e]}function As(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Os(){return ys().memoizedState}function Rs(e,t,r,n){var a=vs();ss.flags|=e,a.memoizedState=As(1|t,r,void 0,void 0===n?null:n)}function Ps(e,t,r,n){var a=ys();n=void 0===n?null:n;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==n&&ps(n,s.deps))return void(a.memoizedState=As(t,r,i,n))}ss.flags|=e,a.memoizedState=As(1|t,r,i,n)}function Is(e,t){return Rs(8390656,8,e,t)}function Ls(e,t){return Ps(2048,8,e,t)}function $s(e,t){return Ps(4,2,e,t)}function Ds(e,t){return Ps(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ps(4,4,zs.bind(null,t,e),r)}function Ms(){}function Fs(e,t){var r=ys();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Zs(e,t){var r=ys();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Bs(e,t,r){return 0===(21&is)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=r):(on(r,t)||(r=mt(),ss.lanes|=r,$l|=r,e.baseState=!0),t)}function Vs(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=as.transition;as.transition={};try{e(!1),t()}finally{bt=r,as.transition=n}}function qs(){return ys().memoizedState}function Ws(e,t,r){var n=tu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gs(e))Ks(t,r);else if(null!==(r=Pi(e,t,r,n))){ru(r,e,n,eu()),Qs(r,t,n)}}function Hs(e,t,r){var n=tu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Ks(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,on(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ri(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(r=Pi(e,t,a,n))&&(ru(r,e,n,a=eu()),Qs(r,t,n))}}function Gs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ks(e,t){cs=us=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qs(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Js={readContext:Ai,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Ys={readContext:Ai,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Is,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Rs(4194308,4,zs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var r=vs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ws.bind(null,ss,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:js,useDebugValue:Ms,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Vs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ss,a=vs();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===jl)throw Error(i(349));0!==(30&is)||Ss(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Is(Cs.bind(null,n,s,e),[e]),n.flags|=2048,As(9,Es.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=vs(),t=jl.identifierPrefix;if(ai){var r=Ja;t=":"+t+"R"+(r=(Qa&~(1<<32-st(Qa)-1)).toString(32)+r),0<(r=ds++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xs={readContext:Ai,useCallback:Fs,useContext:Ai,useEffect:Ls,useImperativeHandle:Us,useInsertionEffect:$s,useLayoutEffect:Ds,useMemo:Zs,useReducer:ws,useRef:Os,useState:function(){return ws(bs)},useDebugValue:Ms,useDeferredValue:function(e){return Bs(ys(),os.memoizedState,e)},useTransition:function(){return[ws(bs)[0],ys().memoizedState]},useMutableSource:ks,useSyncExternalStore:xs,useId:qs,unstable_isNewReconciler:!1},eo={readContext:Ai,useCallback:Fs,useContext:Ai,useEffect:Ls,useImperativeHandle:Us,useInsertionEffect:$s,useLayoutEffect:Ds,useMemo:Zs,useReducer:_s,useRef:Os,useState:function(){return _s(bs)},useDebugValue:Ms,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Bs(t,os.memoizedState,e)},useTransition:function(){return[_s(bs)[0],ys().memoizedState]},useMutableSource:ks,useSyncExternalStore:xs,useId:qs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=eu(),a=tu(e),i=zi(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ui(e,i,a))&&(ru(t,e,a,n),Mi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=eu(),a=tu(e),i=zi(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ui(e,i,a))&&(ru(t,e,a,n),Mi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=eu(),n=tu(e),a=zi(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ui(e,a,n))&&(ru(t,e,n,r),Mi(t,e,n))}};function ao(e,t,r,n,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,i))}function io(e,t,r){var n=!1,a=Ta,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Ra(t)?Aa:Na.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Oa(e,a):Ta),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},$i(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Ra(t)?Aa:Na.current,a.context=Oa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ro(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),Zi(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=F(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function uo(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,r){(r=zi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vl||(Vl=!0,ql=n),co(0,t)},r}function po(e,t,r){(r=zi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){co(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){co(0,t),"function"!==typeof n&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function mo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Eu.bind(null,e,t,r),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=zi(-1,1)).tag=2,Ui(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,r,n){t.child=null===e?_i(t,null,r,n):wi(t,e.child,r,n)}function _o(e,t,r,n,a){r=r.render;var i=t.ref;return ji(t,a),n=ms(e,t,r,n,i,a),r=gs(),null===e||bo?(ai&&r&&ei(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function ko(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Ru(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Iu(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,xo(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(s,n)&&e.ref===t.ref)return Vo(e,t,a)}return t.flags|=1,(e=Pu(i,n)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(bo=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Vo(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,r,n,a)}function So(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Pl,Rl),Rl|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Ca(Pl,Rl),Rl|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ca(Pl,Rl),Rl|=n;return wo(e,t,a,r),t.child}function Eo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,r,n,a){var i=Ra(r)?Aa:Na.current;return i=Oa(t,i),ji(t,a),r=ms(e,t,r,n,i,a),n=gs(),null===e||bo?(ai&&n&&ei(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function To(e,t,r,n,a){if(Ra(r)){var i=!0;$a(t)}else i=!1;if(ji(t,a),null===t.stateNode)Bo(e,t),io(t,r,n),oo(t,r,n,a),n=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;"object"===typeof u&&null!==u?u=Ai(u):u=Oa(t,u=Ra(r)?Aa:Na.current);var c=r.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==n||l!==u)&&so(t,s,n,u),Li=!1;var h=t.memoizedState;s.state=h,Zi(t,n,s,a),l=t.memoizedState,o!==n||h!==l||ja.current||Li?("function"===typeof c&&(ro(t,r,c,n),l=t.memoizedState),(o=Li||ao(t,r,o,n,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Di(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ai(l):l=Oa(t,l=Ra(r)?Aa:Na.current);var f=r.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,n,l),Li=!1,h=t.memoizedState,s.state=h,Zi(t,n,s,a);var p=t.memoizedState;o!==d||h!==p||ja.current||Li?("function"===typeof f&&(ro(t,r,f,n),p=t.memoizedState),(u=Li||ao(t,r,u,n,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return No(e,t,r,n,i,a)}function No(e,t,r,n,a,i){Eo(e,t);var s=0!==(128&t.flags);if(!n&&!s)return a&&Da(t,r,!1),Vo(e,t,i);n=t.stateNode,yo.current=t;var o=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=n.state,a&&Da(t,r,!0),t.child}function jo(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Ki(e,t.containerInfo)}function Ao(e,t,r,n,a){return fi(),pi(a),t.flags|=256,wo(e,t,r,n),t.child}var Oo,Ro,Po,Io,Lo={dehydrated:null,treeContext:null,retryLane:0};function $o(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,r){var n,a=t.pendingProps,s=Xi.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ca(Xi,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=$u(l,a,0,null),e=Lu(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=$o(r),t.memoizedState=Lo,e):zo(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,a,s,o){if(r)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,n=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=$u({mode:"visible",children:n.children},a,0,null),(s=Lu(s,a,o,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&wi(t,e.child,null,o),t.child.memoizedState=$o(o),t.memoizedState=Lo,s);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Uo(e,t,o,n=uo(s=Error(i(419)),n,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(n=jl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ii(e,a),ru(n,e,a,-1))}return mu(),Uo(e,t,o,n=uo(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ni=ua(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(Ha[Ga++]=Qa,Ha[Ga++]=Ja,Ha[Ga++]=Ka,Qa=e.id,Ja=e.overflow,Ka=t),t=zo(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,s,r);if(o){o=a.fallback,l=t.mode,n=(s=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Pu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==n?o=Pu(n,o):(o=Lu(o,l,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?$o(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Lo,a}return e=(o=e.child).sibling,a=Pu(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function zo(e,t){return(t=$u({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,r,n){return null!==n&&pi(n),wi(t,e.child,null,r),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ni(e.return,t,r)}function Fo(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Zo(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(wo(e,t,n.children,r),0!==(2&(n=Xi.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,r,t);else if(19===e.tag)Mo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ca(Xi,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===es(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Fo(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Fo(t,!0,r,null,i);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),$l|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Pu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Pu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function qo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ho(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ra(t.type)&&Pa(),Wo(t),null;case 3:return n=t.stateNode,Qi(),Ea(ja),Ea(Na),rs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(su(ii),ii=null))),Ro(e,t),Wo(t),null;case 5:Yi(t);var a=Gi(Hi.current);if(r=t.type,null!==e&&null!=t.stateNode)Po(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Wo(t),null}if(e=Gi(qi.current),di(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ha]=t,n[fa]=s,e=0!==(1&t.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(a=0;a<Ln.length;a++)Un(Ln[a],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":Q(n,s),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Un("invalid",n);break;case"textarea":ae(n,s),Un("invalid",n)}for(var l in ye(r,s),a=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?n.textContent!==u&&(!0!==s.suppressHydrationWarning&&Yn(n.textContent,u,e),a=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Yn(n.textContent,u,e),a=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Un("scroll",n)}switch(r){case"input":W(n),X(n,s,!0);break;case"textarea":W(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Xn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[fa]=n,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Un("cancel",e),Un("close",e),a=n;break;case"iframe":case"object":case"embed":Un("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ln.length;a++)Un(Ln[a],e);a=n;break;case"source":Un("error",e),a=n;break;case"img":case"image":case"link":Un("error",e),Un("load",e),a=n;break;case"details":Un("toggle",e),a=n;break;case"input":Q(e,n),a=K(e,n),Un("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=D({},n,{value:void 0}),Un("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Un("invalid",e)}for(s in ye(r,a),u=a)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==r||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Un("scroll",e):null!=c&&b(e,s,c,l))}switch(r){case"input":W(e),X(e,n,!1);break;case"textarea":W(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=Gi(Hi.current),Gi(qi.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(s=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Yn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Wo(t),null;case 13:if(Ea(Xi),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,s=!1;else if(s=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),s=!1}else null!==ii&&(su(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xi.current)?0===Il&&(Il=3):mu())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Qi(),Ro(e,t),null===e&&Zn(t.stateNode.containerInfo),Wo(t),null;case 10:return Ti(t.type._context),Wo(t),null;case 19:if(Ea(Xi),null===(s=t.memoizedState))return Wo(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)qo(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,qo(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ca(Xi,1&Xi.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Zl&&(t.flags|=128,n=!0,qo(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=es(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),qo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Wo(t),null}else 2*Je()-s.renderingStartTime>Zl&&1073741824!==r&&(t.flags|=128,n=!0,qo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,r=Xi.current,Ca(Xi,n?1&r|2:1&r),t):(Wo(t),null);case 22:case 23:return du(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Go(e,t){switch(ti(t),t.tag){case 1:return Ra(t.type)&&Pa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),Ea(ja),Ea(Na),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Yi(t),null;case 13:if(Ea(Xi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(Xi),null;case 4:return Qi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Oo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ro=function(){},Po=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Gi(qi.current);var i,s=null;switch(r){case"input":a=K(e,a),n=K(e,n),s=[];break;case"select":a=D({},a,{value:void 0}),n=D({},n,{value:void 0}),s=[];break;case"textarea":a=ne(e,a),n=ne(e,n),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Xn)}for(c in ye(r,n),r=null,a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(l=null!=a?a[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(r||(r={}),r[i]=u[i])}else r||(s||(s=[]),s.push(c,r)),r=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Un("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Io=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ko=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Yo=null;function Xo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Su(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Su(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,r,i)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function ul(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ul(e,t,r),e=e.sibling;null!==e;)ul(e,t,r),e=e.sibling}var cl=null,dl=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(o){}switch(r.tag){case 5:Qo||Xo(r,t);case 6:var n=cl,a=dl;cl=null,hl(e,t,r),dl=a,null!==(cl=n)&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Zt(e)):la(cl,r.stateNode));break;case 4:n=cl,a=dl,cl=r.stateNode.containerInfo,dl=!0,hl(e,t,r),cl=n,dl=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(r,t,s),a=a.next}while(a!==n)}hl(e,t,r);break;case 1:if(!Qo&&(Xo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Su(r,t,o)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Qo=(n=Qo)||null!==r.memoizedState,hl(e,t,r),Qo=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Jo),t.forEach((function(t){var n=Nu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));fl(s,o,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Su(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){Su(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Su(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&n&&null!==r&&Xo(r,r.return);break;case 5:if(ml(t,e),vl(e),512&n&&null!==r&&Xo(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Su(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==r?r.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(a,s),be(l,o);var c=be(l,s);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,c)}switch(l){case"input":Y(a,s);break;case"textarea":ie(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?re(a,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?re(a,!!s.multiple,s.defaultValue,!0):re(a,!!s.multiple,s.multiple?[]:"",!1))}a[fa]=s}catch(g){Su(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Su(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(g){Su(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Fl=Je())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Qo=(c=Qo)||d,ml(t,e),Qo=c):ml(t,e),vl(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Yo=e,d=e.child;null!==d;){for(h=Yo=d;null!==Yo;){switch(p=(f=Yo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Xo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Su(n,r,g)}}break;case 5:Xo(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Yo=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,c?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(g){Su(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Su(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&n&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),ul(e,ol(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){Su(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Yo=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Yo;){var a=Yo,i=a.child;if(22===a.tag&&n){var s=null!==a.memoizedState||Ko;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Ko;var u=Qo;if(Ko=s,(Qo=l)&&!u)for(Yo=a;null!==Yo;)l=(s=Yo).child,22===s.tag&&null!==s.memoizedState?kl(a):null!==l?(l.return=s,Yo=l):kl(a);for(;null!==i;)Yo=i,bl(i,t,r),i=i.sibling;Yo=a,Ko=o,Qo=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Yo=i):wl(e)}}function wl(e){for(;null!==Yo;){var t=Yo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Qo)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Bi(t,s,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Bi(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Zt(h)}}}break;default:throw Error(i(163))}Qo||512&t.flags&&al(t)}catch(f){Su(t,t.return,f)}}if(t===e){Yo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Yo=r;break}Yo=t.return}}function _l(e){for(;null!==Yo;){var t=Yo;if(t===e){Yo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Yo=r;break}Yo=t.return}}function kl(e){for(;null!==Yo;){var t=Yo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Su(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Su(t,a,l)}}var i=t.return;try{al(t)}catch(l){Su(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Su(t,s,l)}}}catch(l){Su(t,t.return,l)}if(t===e){Yo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yo=o;break}Yo=t.return}}var xl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Nl=0,jl=null,Al=null,Ol=0,Rl=0,Pl=Sa(0),Il=0,Ll=null,$l=0,Dl=0,zl=0,Ul=null,Ml=null,Fl=0,Zl=1/0,Bl=null,Vl=!1,ql=null,Wl=null,Hl=!1,Gl=null,Kl=0,Ql=0,Jl=null,Yl=-1,Xl=0;function eu(){return 0!==(6&Nl)?Je():-1!==Yl?Yl:Yl=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ol?Ol&-Ol:null!==mi.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ru(e,t,r,n){if(50<Ql)throw Ql=0,Jl=null,Error(i(185));vt(e,r,n),0!==(2&Nl)&&e===jl||(e===jl&&(0===(2&Nl)&&(Dl|=r),4===Il&&ou(e,Ol)),nu(e,n),1===r&&0===Nl&&0===(1&t.mode)&&(Zl=Je()+500,Ua&&Za()))}function nu(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&r)&&0===(o&n)||(a[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var n=ht(e,e===jl?Ol:0);if(0===n)null!==r&&Ge(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ge(r),1===t)0===e.tag?function(e){Ua=!0,Fa(e)}(lu.bind(null,e)):Fa(lu.bind(null,e)),sa((function(){0===(6&Nl)&&Za()})),r=null;else{switch(wt(n)){case 1:r=Xe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=ju(r,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function au(e,t){if(Yl=-1,Xl=0,0!==(6&Nl))throw Error(i(327));var r=e.callbackNode;if(ku()&&e.callbackNode!==r)return null;var n=ht(e,e===jl?Ol:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gu(e,n);else{t=n;var a=Nl;Nl|=2;var s=pu();for(jl===e&&Ol===t||(Bl=null,Zl=Je()+500,hu(e,t));;)try{yu();break}catch(l){fu(e,l)}Ci(),El.current=s,Nl=a,null!==Al?t=0:(jl=null,Ol=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=iu(e,a))),1===t)throw r=Ll,hu(e,0),ou(e,n),nu(e,Je()),r;if(6===t)ou(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!on(i(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,n))&&(0!==(s=pt(e))&&(n=s,t=iu(e,s))),1===t))throw r=Ll,hu(e,0),ou(e,n),nu(e,Je()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:_u(e,Ml,Bl);break;case 3:if(ou(e,n),(130023424&n)===n&&10<(t=Fl+500-Je())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(_u.bind(null,e,Ml,Bl),t);break}_u(e,Ml,Bl);break;case 4:if(ou(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-st(n);s=1<<o,(o=t[o])>a&&(a=o),n&=~s}if(n=a,10<(n=(120>(n=Je()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){e.timeoutHandle=na(_u.bind(null,e,Ml,Bl),n);break}_u(e,Ml,Bl);break;default:throw Error(i(329))}}}return nu(e,Je()),e.callbackNode===r?au.bind(null,e):null}function iu(e,t){var r=Ul;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ml,Ml=r,null!==t&&su(t)),e}function su(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function ou(e,t){for(t&=~zl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function lu(e){if(0!==(6&Nl))throw Error(i(327));ku();var t=ht(e,0);if(0===(1&t))return nu(e,Je()),null;var r=gu(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=iu(e,n))}if(1===r)throw r=Ll,hu(e,0),ou(e,t),nu(e,Je()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Ml,Bl),nu(e,Je()),null}function uu(e,t){var r=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=r)&&(Zl=Je()+500,Ua&&Za())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Nl)&&ku();var t=Nl;Nl|=1;var r=Tl.transition,n=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=n,Tl.transition=r,0===(6&(Nl=t))&&Za()}}function du(){Rl=Pl.current,Ea(Pl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Al)for(r=Al.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Pa();break;case 3:Qi(),Ea(ja),Ea(Na),rs();break;case 5:Yi(n);break;case 4:Qi();break;case 13:case 19:Ea(Xi);break;case 10:Ti(n.type._context);break;case 22:case 23:du()}r=r.return}if(jl=e,Al=e=Pu(e.current,null),Ol=Rl=t,Il=0,Ll=null,zl=Dl=$l=0,Ml=Ul=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(n=(r=Oi[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var s=i.next;i.next=a,n.next=s}r.pending=n}Oi=null}return e}function fu(e,t){for(;;){var r=Al;try{if(Ci(),ns.current=Js,us){for(var n=ss.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}us=!1}if(is=0,ls=os=ss=null,cs=!1,ds=0,Cl.current=null,null===r||null===r.return){Il=1,Ll=t,Al=null;break}e:{var s=e,o=r.return,l=r,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){mo(s,c,t),mu();break e}u=Error(i(426))}else if(ai&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pi(lo(u,l));break e}}s=u=lo(u,l),4!==Il&&(Il=2),null===Ul?Ul=[s]:Ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fi(s,fo(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fi(s,po(s,l,t));break e}}s=s.return}while(null!==s)}wu(r)}catch(w){t=w,Al===r&&null!==r&&(Al=r=r.return);continue}break}}function pu(){var e=El.current;return El.current=Js,null===e?Js:e}function mu(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===jl||0===(268435455&$l)&&0===(268435455&Dl)||ou(jl,Ol)}function gu(e,t){var r=Nl;Nl|=2;var n=pu();for(jl===e&&Ol===t||(Bl=null,hu(e,t));;)try{vu();break}catch(a){fu(e,a)}if(Ci(),Nl=r,El.current=n,null!==Al)throw Error(i(261));return jl=null,Ol=0,Il}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!Ke();)bu(Al)}function bu(e){var t=xl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,Cl.current=null}function wu(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ho(r,t,Rl)))return void(Al=r)}else{if(null!==(r=Go(r,t)))return r.flags&=32767,void(Al=r);if(null===e)return Il=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Il&&(Il=5)}function _u(e,t,r){var n=bt,a=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,r,n){do{ku()}while(null!==Gl);if(0!==(6&Nl))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-st(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,s),e===jl&&(Al=jl=null,Ol=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Hl||(Hl=!0,ju(tt,(function(){return ku(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Nl;Nl|=4,Cl.current=null,function(e,t){if(ea=Vt,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(_){r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==n&&3!==h.nodeType||(u=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++c===a&&(l=o),f===s&&++d===n&&(u=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Vt=!1,Yo=t;null!==Yo;)if(e=(t=Yo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yo=e;else for(;null!==Yo;){t=Yo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_){Su(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Yo=e;break}Yo=t.return}m=tl,tl=!1}(e,r),gl(r,e),pn(ta),Vt=!!ea,ta=ea=null,e.current=r,yl(r,e,a),Qe(),Nl=l,bt=o,Tl.transition=s}else e.current=r;if(Hl&&(Hl=!1,Gl=e,Kl=a),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nu(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&Kl)&&0!==e.tag&&ku(),s=e.pendingLanes,0!==(1&s)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Za()}(e,t,r,n)}finally{Tl.transition=a,bt=n}return null}function ku(){if(null!==Gl){var e=wt(Kl),t=Tl.transition,r=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Gl)var n=!1;else{if(e=Gl,Gl=null,Kl=0,0!==(6&Nl))throw Error(i(331));var a=Nl;for(Nl|=4,Yo=e.current;null!==Yo;){var s=Yo,o=s.child;if(0!==(16&Yo.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Yo=c;null!==Yo;){var d=Yo;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Yo=h;else for(;null!==Yo;){var f=(d=Yo).sibling,p=d.return;if(il(d),d===c){Yo=null;break}if(null!==f){f.return=p,Yo=f;break}Yo=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Yo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Yo=o;else e:for(;null!==Yo;){if(0!==(2048&(s=Yo).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Yo=y;break e}Yo=s.return}}var b=e.current;for(Yo=b;null!==Yo;){var w=(o=Yo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Yo=w;else e:for(o=b;null!==Yo;){if(0!==(2048&(l=Yo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){Su(l,l.return,k)}if(l===o){Yo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Yo=_;break e}Yo=l.return}}if(Nl=a,Za(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(k){}n=!0}return n}finally{bt=r,Tl.transition=t}}return!1}function xu(e,t,r){e=Ui(e,t=fo(0,t=lo(r,t),1),1),t=eu(),null!==e&&(vt(e,1,t),nu(e,t))}function Su(e,t,r){if(3===e.tag)xu(e,e,r);else for(;null!==t;){if(3===t.tag){xu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Wl||!Wl.has(n))){t=Ui(t,e=po(t,e=lo(r,e),1),1),e=eu(),null!==t&&(vt(t,1,e),nu(t,e));break}}t=t.return}}function Eu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&r,jl===e&&(Ol&r)===r&&(4===Il||3===Il&&(130023424&Ol)===Ol&&500>Je()-Fl?hu(e,0):zl|=r),nu(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var r=eu();null!==(e=Ii(e,t))&&(vt(e,t,r),nu(e,r))}function Tu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cu(e,r)}function Nu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Cu(e,r)}function ju(e,t){return He(e,t)}function Au(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,r,n){return new Au(e,t,r,n)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var r=e.alternate;return null===r?((r=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Iu(e,t,r,n,a,s){var o=2;if(n=e,"function"===typeof e)Ru(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return Lu(r.children,a,s,t);case S:o=8,a|=8;break;case E:return(e=Ou(12,r,t,2|a)).elementType=E,e.lanes=s,e;case j:return(e=Ou(13,r,t,a)).elementType=j,e.lanes=s,e;case A:return(e=Ou(19,r,t,a)).elementType=A,e.lanes=s,e;case P:return $u(r,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case T:o=9;break e;case N:o=11;break e;case O:o=14;break e;case R:o=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ou(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Lu(e,t,r,n){return(e=Ou(7,e,n,t)).lanes=r,e}function $u(e,t,r,n){return(e=Ou(22,e,n,t)).elementType=P,e.lanes=r,e.stateNode={isHidden:!1},e}function Du(e,t,r){return(e=Ou(6,e,null,t)).lanes=r,e}function zu(e,t,r){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mu(e,t,r,n,a,i,s,o,l){return e=new Uu(e,t,r,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ou(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$i(i),e}function Fu(e){if(!e)return Ta;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Ra(r))return La(e,r,t)}return t}function Zu(e,t,r,n,a,i,s,o,l){return(e=Mu(r,n,!0,e,0,i,0,o,l)).context=Fu(null),r=e.current,(i=zi(n=eu(),a=tu(r))).callback=void 0!==t&&null!==t?t:null,Ui(r,i,a),e.current.lanes=a,vt(e,a,n),nu(e,n),e}function Bu(e,t,r,n){var a=t.current,i=eu(),s=tu(a);return r=Fu(r),null===t.context?t.context=r:t.pendingContext=r,(t=zi(i,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ui(a,t,s))&&(ru(e,a,s,i),Mi(e,a,s)),s}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}xl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||ja.current)bo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bo=!1,function(e,t,r){switch(t.tag){case 3:jo(t),fi();break;case 5:Ji(t);break;case 1:Ra(t.type)&&$a(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ca(ki,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ca(Xi,1&Xi.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Do(e,t,r):(Ca(Xi,1&Xi.current),null!==(e=Vo(e,t,r))?e.sibling:null);Ca(Xi,1&Xi.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Zo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Xi,Xi.current),n)break;return null;case 22:case 23:return t.lanes=0,So(e,t,r)}return Vo(e,t,r)}(e,t,r);bo=0!==(131072&e.flags)}else bo=!1,ai&&0!==(1048576&t.flags)&&Xa(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bo(e,t),e=t.pendingProps;var a=Oa(t,Na.current);ji(t,r),a=ms(null,t,n,e,a,r);var s=gs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(n)?(s=!0,$a(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,$i(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,r),t=No(null,t,n,!0,s,r)):(t.tag=0,ai&&s&&ei(t),wo(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(n),e=to(n,e),a){case 0:t=Co(null,t,n,e,r);break e;case 1:t=To(null,t,n,e,r);break e;case 11:t=_o(null,t,n,e,r);break e;case 14:t=ko(null,t,n,to(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Co(e,t,n,a=t.elementType===n?a:to(n,a),r);case 1:return n=t.type,a=t.pendingProps,To(e,t,n,a=t.elementType===n?a:to(n,a),r);case 3:e:{if(jo(t),null===e)throw Error(i(387));n=t.pendingProps,a=(s=t.memoizedState).element,Di(e,t),Zi(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ao(e,t,n,r,a=lo(Error(i(423)),t));break e}if(n!==a){t=Ao(e,t,n,r,a=lo(Error(i(424)),t));break e}for(ni=ua(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=_i(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fi(),n===a){t=Vo(e,t,r);break e}wo(e,t,n,r)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),n=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,ra(n,a)?o=null:null!==s&&ra(n,s)&&(t.flags|=32),Eo(e,t),wo(e,t,o,r),t.child;case 6:return null===e&&ui(t),null;case 13:return Do(e,t,r);case 4:return Ki(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=wi(t,null,n,r):wo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,_o(e,t,n,a=t.elementType===n?a:to(n,a),r);case 7:return wo(e,t,t.pendingProps,r),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ca(ki,n._currentValue),n._currentValue=o,null!==s)if(on(s.value,o)){if(s.children===a.children&&!ja.current){t=Vo(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===s.tag){(u=zi(-1,r&-r)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=r,null!==(u=s.alternate)&&(u.lanes|=r),Ni(s.return,r,t),l.lanes|=r;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ni(o,r,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}wo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ji(t,r),n=n(a=Ai(a)),t.flags|=1,wo(e,t,n,r),t.child;case 14:return a=to(n=t.type,t.pendingProps),ko(e,t,n,a=to(n.type,a),r);case 15:return xo(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),Bo(e,t),t.tag=1,Ra(n)?(e=!0,$a(t)):e=!1,ji(t,r),io(t,n,a),oo(t,n,a,r),No(null,t,n,!0,e,r);case 19:return Zo(e,t,r);case 22:return So(e,t,r)}throw Error(i(156,t.tag))};var Hu="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Xu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Vu(s);o.call(e)}}Bu(t,s,e,a)}else s=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Vu(s);i.call(e)}}var s=Zu(t,n,e,0,null,!1,0,"",Yu);return e._reactRootContainer=s,e[pa]=s.current,Zn(8===e.nodeType?e.parentNode:e),cu(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Vu(l);o.call(e)}}var l=Mu(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=l,e[pa]=l.current,Zn(8===e.nodeType?e.parentNode:e),cu((function(){Bu(t,l,r,n)})),l}(r,t,e,a,n);return Vu(s)}Ku.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bu(e,t,null,null)},Ku.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Bu(null,e,null,null)})),t[pa]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pt.length&&0!==t&&t<Pt[r].priority;r++);Pt.splice(r,0,e),0===r&&Dt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),nu(t,Je()),0===(6&Nl)&&(Zl=Je()+500,Za()))}break;case 13:cu((function(){var t=Ii(e,1);if(null!==t){var r=eu();ru(t,e,1,r)}})),Wu(e,1)}},kt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)ru(t,e,134217728,eu());Wu(e,134217728)}},xt=function(e){if(13===e.tag){var t=tu(e),r=Ii(e,t);if(null!==r)ru(r,e,t,eu());Wu(e,t)}},St=function(){return bt},Et=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},ke=function(e,t,r){switch(t){case"input":if(Y(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=_a(n);if(!a)throw Error(i(90));H(n),Y(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ne=uu,je=cu;var ec={usingClientEntryPoint:!1,Events:[ba,wa,_a,Ce,Te,uu]},tc={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{at=nc.inject(rc),it=nc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Qu(e))throw Error(i(299));var r=!1,n="",a=Hu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Mu(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,Zn(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,r){if(!Ju(t))throw Error(i(200));return Xu(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Qu(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,s="",o=Hu;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Zu(t,null,e,1,null!=r?r:null,a,0,s,o),e[pa]=t.current,Zn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ku(t)},t.render=function(e,t,r){if(!Ju(t))throw Error(i(200));return Xu(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ju(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xu(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},367:(e,t,r)=>{"use strict";var n=r(766);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},766:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(306)},241:(e,t,r)=>{"use strict";var n=r(643),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:o.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},226:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:r,type:e,key:s,ref:o,props:i,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===i?"."+N(l,0):i,_(s)?(a="",null!=e&&(a=e.replace(T,"$&/")+"/"),j(s,t,a,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",_(e))for(var u=0;u<e.length;u++){var c=i+N(o=e[u],u);l+=j(o,t,a,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=j(o=o.value,t,a,c=i+N(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,r){if(null==e)return e;var n=[],a=0;return j(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!S.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:r,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},643:(e,t,r)=>{"use strict";e.exports=r(226)},507:(e,t,r)=>{"use strict";e.exports=r(241)},498:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],u=o+1,c=e[u];if(0>i(l,r))u<a&&0>i(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[o]=r,n=o);else{if(!(u<a&&0>i(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function _(e){if(g=!1,w(e),!m)if(null!==n(u))m=!0,P(k);else{var t=n(c);null!==t&&I(_,t.startTime-e)}}function k(e,r){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var i=f;try{for(w(r),h=n(u);null!==h&&(!(h.expirationTime>r)||e&&!j());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(u)&&a(u),w(r)}else a(u);h=n(u)}if(null!==h)var l=!0;else{var d=n(c);null!==d&&I(_,d.startTime-r),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,C=-1,T=5,N=-1;function j(){return!(t.unstable_now()-N<T)}function A(){if(null!==E){var e=t.unstable_now();N=e;var r=!0;try{r=E(!0,e)}finally{r?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=A,x=function(){R.postMessage(null)}}else x=function(){v(A,0)};function P(e){E=e,S||(S=!0,x())}function I(e,r){C=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,r(c,e),null===n(u)&&e===n(c)&&(g?(y(C),C=-1):g=!0,I(_,i-s))):(e.sortIndex=o,r(u,e),m||p||(m=!0,P(k))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},261:(e,t,r)=>{"use strict";e.exports=r(498)},333:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,i(r)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},887:(e,t,r)=>{"use strict";r.d(t,{Zr:()=>i});function n(e,t){let r;try{r=e()}catch(n){return}return{getItem:e=>{var n;const a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(n=r.getItem(e))?n:null;return i instanceof Promise?i.then(a):a(i)},setItem:(e,n)=>r.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}const a=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>a(e)(r),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>a(e)(r)}}},i=(e,t)=>(r,i,s)=>{let o={storage:n((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1;const u=new Set,c=new Set;let d=o.storage;if(!d)return e((function(){console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...arguments)}),i,s);const h=()=>{const e=o.partialize({...i()});return d.setItem(o.name,{state:e,version:o.version})},f=s.setState;s.setState=(e,t)=>{f(e,t),h()};const p=e((function(){r(...arguments),h()}),i,s);let m;s.getInitialState=()=>p;const g=()=>{var e,t;if(!d)return;l=!1,u.forEach((e=>{var t;return e(null!=(t=i())?t:p)}));const n=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=i())?e:p))||void 0;return a(d.getItem.bind(d))(o.name).then((e=>{if(e){if("number"!==typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){const t=o.migrate(e.state,e.version);return t instanceof Promise?t.then((e=>[!0,e])):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[n,a]=e;if(m=o.merge(a,null!=(t=i())?t:p),r(m,!0),n)return h()})).then((()=>{null==n||n(m,void 0),m=i(),l=!0,c.forEach((e=>e(m)))})).catch((e=>{null==n||n(void 0,e)}))};return s.persist={setOptions:e=>{o={...o,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>l,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},o.skipHydration||g(),m||p}},469:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var n=r(643);const a=e=>{let t;const r=new Set,n=(e,n)=>{const a="function"===typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=n?n:"object"!==typeof a||null===a)?a:Object.assign({},t,a),r.forEach((r=>r(t,e)))}},a=()=>t,i={setState:n,getState:a,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(n,a,i);return i},i=e=>e;const s=e=>{const t=(e=>e?a(e):a)(e),r=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const r=n.useSyncExternalStore(e.subscribe,(()=>t(e.getState())),(()=>t(e.getInitialState())));return n.useDebugValue(r),r}(t,e);return Object.assign(r,t),r},o=e=>e?s(e):s}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,r.d(i,s),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".65e21308.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";r.l=(n,a,i,s)=>{if(e[n])e[n].push(a);else{var o,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[a];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=i);var s=r.p+r.u(t),o=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,s=n[0],o=n[1],l=n[2],u=0;if(s.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)l(r)}for(t&&t(n);u<s.length;u++)i=s[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkfrontend=self.webpackChunkfrontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=r(643),t=r(367),n=r(333),a=r.n(n);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"primary",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"md";const n={button:{base:"font-medium rounded-md transition-colors duration-200 inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",variants:{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-2 focus:ring-primary-300",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-2 focus:ring-primary-300",success:"bg-success-500 text-white hover:bg-success-600 focus:ring-2 focus:ring-success-300",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-2 focus:ring-error-300",ghost:"text-primary-600 hover:bg-primary-50 focus:ring-2 focus:ring-primary-300"},sizes:{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base",xl:"px-6 py-3 text-lg"}},input:{base:"w-full border rounded-md px-3 py-2 transition-colors duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",variants:{primary:"border-gray-300 focus:border-primary-500 focus:ring-1 focus:ring-primary-300",success:"border-success-300 focus:border-success-500 focus:ring-1 focus:ring-success-300",danger:"border-error-300 focus:border-error-500 focus:ring-1 focus:ring-error-300"},sizes:{sm:"px-2.5 py-1.5 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-2.5 text-base"}}}[e];if(!n)return"";const a=n.variants[t]||n.variants.primary,i=n.sizes[r]||n.sizes.md;return[n.base,a,i].filter(Boolean).join(" ")}var s=r(507);const o=e=>{let{variant:t="primary",size:r="md",disabled:n=!1,className:o,children:l,dataTestId:u,...c}=e;return(0,s.jsx)("button",{className:a()(i("button",t,r),n&&"opacity-50 cursor-not-allowed",o),disabled:n,"data-testid":u||`button-${t}-${r}`,...c,children:l})},l=e=>{let{label:t,error:r,className:n,wrapperClassName:i,"data-testid":o,inputRef:l,...u}=e;return(0,s.jsxs)("div",{className:a()("flex flex-col",i),children:[t&&(0,s.jsx)("label",{className:"form-label mb-1",children:t}),(0,s.jsx)("input",{ref:l,className:a()("input-field",r&&"border-error",n),"data-testid":o||"input-field"+(r?"-error":""),...u}),r&&(0,s.jsx)("span",{className:"text-error text-xs mt-1","data-testid":"input-error",children:r})]})},u=e=>{let{label:t,error:r,className:n,wrapperClassName:i,options:o,placeholder:l,id:u,"data-testid":c,...d}=e;return(0,s.jsxs)("div",{className:a()("flex flex-col",i),children:[t&&(0,s.jsx)("label",{htmlFor:u||d.name,className:"form-label mb-1",children:t}),(0,s.jsxs)("select",{id:u||d.name,className:a()("input-field",r&&"border-error",n),value:o.some((e=>e.value===d.value))?d.value:"","data-testid":c||"select-field"+(r?"-error":""),...d,children:[l&&(0,s.jsx)("option",{value:"",children:l}),o.map((e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value)))]}),r&&(0,s.jsx)("span",{className:"text-error text-xs mt-1","data-testid":"select-error",children:r})]})},c=e=>{let{label:t,error:r,className:n,wrapperClassName:i,"data-testid":o,...l}=e;return(0,s.jsxs)("div",{className:a()("flex items-center",i),children:[(0,s.jsx)("input",{type:"checkbox",className:a()(r?"accent-warning":"accent-primary",n),"data-testid":o||"checkbox-field"+(r?"-error":""),...l}),t&&(0,s.jsx)("label",{className:"ml-2 form-label",children:t}),r&&(0,s.jsx)("span",{className:"text-error text-xs ml-2","data-testid":"checkbox-error",children:r})]})},d=10,h=0,f="date",p="RON",m={type:"",amount:"",category:"",subcategory:"",date:"",recurring:!1,frequency:""};let g=function(e){return e.INCOME="INCOME",e.EXPENSE="EXPENSE",e.SAVING="SAVING",e}({}),v=function(e){return e.PLANNED="PLANNED",e.COMPLETED="COMPLETED",e}({}),y=function(e){return e.NONE="NONE",e.DAILY="DAILY",e.WEEKLY="WEEKLY",e.MONTHLY="MONTHLY",e.YEARLY="YEARLY",e}({}),b=function(e){return e.INCOME="INCOME",e.EXPENSE="EXPENSE",e.SAVING="SAVING",e}({});var w=r(16);const _="Tip",k="Sum\u0103",x="Categorie",S="Subcategorie",E="Dat\u0103",C="Recurent",T="Frecven\u021b\u0103",N="Tip tranzac\u021bie:",j="Categoria:",A="ad\u0103ugare tranzac\u021bie",O="Tranzac\u021bii",R="Grid Lunar",P="Op\u021biuni",I="Alege",L="Introdu suma",$="Selecteaz\u0103 data",D="Adaug\u0103",z="Anuleaz\u0103",U="Gata",M="\xcenainte",F="\xcenapoi",Z={HEADERS:{TYPE:"Tip",AMOUNT:"Sum\u0103",CURRENCY:"Moned\u0103",CATEGORY:"Categorie",SUBCATEGORY:"Subcategorie",DATE:"Dat\u0103",RECURRING:"Recurent",FREQUENCY:"Frecven\u021b\u0103"},EMPTY:"Nicio tranzac\u021bie",LOADING:"Se \xeencarc\u0103...",PAGE_INFO:"Pagina {current} din {total}",BOOL:{YES:"Da",NO:"Nu"}},B={LUNA:"Luna",VENITURI:"Venituri",CHELTUIELI:"Cheltuieli",ECONOMII:"Economii",SOLD:"Sold"},V="Se \xeencarc\u0103 datele...",q={ENTER_AMOUNT:"Introduce\u021bi suma:"},W={TYPE:[{value:g.INCOME,label:"Venit"},{value:g.EXPENSE,label:"Cheltuial\u0103"},{value:g.SAVING,label:"Economisire"}],CATEGORY:[{value:b.INCOME,label:"Venituri"},{value:b.EXPENSE,label:"Cheltuieli"},{value:b.SAVING,label:"Economii"}],FREQUENCY:[{value:y.DAILY,label:"Zilnic"},{value:y.WEEKLY,label:"S\u0103pt\u0103m\xe2nal"},{value:y.MONTHLY,label:"Lunar"},{value:y.YEARLY,label:"Anual"}]},H="Op\u021biuni",G="Gestionare categorii",K="Personaliza\u021bi categoriile \u0219i subcategoriile pentru a se potrivi nevoilor dvs. specifice de bugetare.",Q="Gestionare categorii",J="Op\u021biuni de afi\u0219are",Y="Export date",X="\xcen cur\xe2nd",ee="Trebuie s\u0103 fi\u021bi autentificat pentru a accesa aceast\u0103 pagin\u0103.";var te,re;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),n={};for(const e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(const r of e)if(t(r))return r},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(te||(te={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(re||(re={}));const ne=te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ae=e=>{switch(typeof e){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return isNaN(e)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(e)?ne.array:null===e?ne.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?ne.promise:"undefined"!==typeof Map&&e instanceof Map?ne.map:"undefined"!==typeof Set&&e instanceof Set?ne.set:"undefined"!==typeof Date&&e instanceof Date?ne.date:ne.object;default:return ne.unknown}},ie=te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class se extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){const r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof se))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,te.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}se.create=e=>new se(e);const oe=(e,t)=>{let r;switch(e.code){case ie.invalid_type:r=e.received===ne.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ie.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,te.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:r=`Unrecognized key(s) in object: ${te.joinValues(e.keys,", ")}`;break;case ie.invalid_union:r="Invalid input";break;case ie.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${te.joinValues(e.options)}`;break;case ie.invalid_enum_value:r=`Invalid enum value. Expected ${te.joinValues(e.options)}, received '${e.received}'`;break;case ie.invalid_arguments:r="Invalid function arguments";break;case ie.invalid_return_type:r="Invalid function return type";break;case ie.invalid_date:r="Invalid date";break;case ie.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:te.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ie.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ie.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ie.custom:r="Invalid input";break;case ie.invalid_intersection_types:r="Intersection results could not be merged";break;case ie.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ie.not_finite:r="Number must be finite";break;default:r=t.defaultError,te.assertNever(e)}return{message:r}};let le=oe;function ue(){return le}const ce=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let o="";const l=n.filter((e=>!!e)).slice().reverse();for(const u of l)o=u(s,{data:t,defaultError:o}).message;return{...a,path:i,message:o}};function de(e,t){const r=ue(),n=ce({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===oe?void 0:oe].filter((e=>!!e))});e.common.issues.push(n)}class he{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return fe;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const e=await n.key,t=await n.value;r.push({key:e,value:t})}return he.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:a}=n;if("aborted"===t.status)return fe;if("aborted"===a.status)return fe;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!n.alwaysSet||(r[t.value]=a.value)}return{status:e.value,value:r}}}const fe=Object.freeze({status:"aborted"}),pe=e=>({status:"dirty",value:e}),me=e=>({status:"valid",value:e}),ge=e=>"aborted"===e.status,ve=e=>"dirty"===e.status,ye=e=>"valid"===e.status,be=e=>"undefined"!==typeof Promise&&e instanceof Promise;function we(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function _e(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}var ke,xe,Se;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(ke||(ke={}));class Ee{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ce=(e,t)=>{if(ye(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new se(e.common.issues);return this._error=t,this._error}}};function Te(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var i,s;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!==o&&void 0!==o?o:a.defaultError}:"undefined"===typeof a.data?{message:null!==(i=null!==o&&void 0!==o?o:n)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(s=null!==o&&void 0!==o?o:r)&&void 0!==s?s:a.defaultError}},description:a}}class Ne{get description(){return this._def.description}_getType(e){return ae(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new he,ctx:{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(be(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=null===t||void 0===t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Ce(n,a)}"~validate"(e){var t,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:n});return ye(t)?{value:t.value}:{issues:n.common.issues}}catch(a){(null===(r=null===(t=null===a||void 0===a?void 0:a.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then((e=>ye(e)?{value:e.value}:{issues:n.common.issues}))}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(be(n)?n:Promise.resolve(n));return Ce(r,a)}refine(e,t){const r=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,n)=>{const a=e(t),i=()=>n.addIssue({code:ie.custom,...r(t)});return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"===typeof t?t(r,n):t),!1)))}_refinement(e){return new Nt({schema:this,typeName:Ft.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return jt.create(this,this._def)}nullable(){return At.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ut.create(this)}promise(){return Tt.create(this,this._def)}or(e){return ht.create([this,e],this._def)}and(e){return gt.create(this,e,this._def)}transform(e){return new Nt({...Te(this._def),schema:this,typeName:Ft.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Ot({...Te(this._def),innerType:this,defaultValue:t,typeName:Ft.ZodDefault})}brand(){return new Lt({typeName:Ft.ZodBranded,type:this,...Te(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Rt({...Te(this._def),innerType:this,catchValue:t,typeName:Ft.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return $t.create(this,e)}readonly(){return Dt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const je=/^c[^\s-]{8,}$/i,Ae=/^[0-9a-z]+$/,Oe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Re=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pe=/^[a-z0-9_-]{21}$/i,Ie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Le=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let De;const ze=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ue=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Me=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Fe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ze=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Be=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ve="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qe=new RegExp(`^${Ve}$`);function We(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function He(e){let t=`${Ve}T${We(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Ge(e,t){if(!Ie.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return"object"===typeof a&&null!==a&&(!(!a.typ||!a.alg)&&(!t||a.alg===t))}catch(r){return!1}}function Ke(e,t){return!("v4"!==t&&t||!Ue.test(e))||!("v6"!==t&&t||!Fe.test(e))}class Qe extends Ne{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==ne.string){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.string,received:t.parsedType}),fe}const t=new he;let r;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),de(r,{code:ie.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),de(r,{code:ie.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const n=e.data.length>s.value,a=e.data.length<s.value;(n||a)&&(r=this._getOrReturnCtx(e,r),n?de(r,{code:ie.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&de(r,{code:ie.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)$e.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"email",code:ie.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)De||(De=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),De.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"emoji",code:ie.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)Re.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"uuid",code:ie.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)Pe.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"nanoid",code:ie.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)je.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"cuid",code:ie.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)Ae.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"cuid2",code:ie.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)Oe.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"ulid",code:ie.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(i){r=this._getOrReturnCtx(e,r),de(r,{validation:"url",code:ie.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"regex",code:ie.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),de(r,{code:ie.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),de(r,{code:ie.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),de(r,{code:ie.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){He(s).test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:ie.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else if("date"===s.kind){qe.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:ie.invalid_string,validation:"date",message:s.message}),t.dirty())}else if("time"===s.kind){new RegExp(`^${We(s)}$`).test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:ie.invalid_string,validation:"time",message:s.message}),t.dirty())}else"duration"===s.kind?Le.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"duration",code:ie.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?(n=e.data,("v4"!==(a=s.version)&&a||!ze.test(n))&&("v6"!==a&&a||!Me.test(n))&&(r=this._getOrReturnCtx(e,r),de(r,{validation:"ip",code:ie.invalid_string,message:s.message}),t.dirty())):"jwt"===s.kind?Ge(e.data,s.alg)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"jwt",code:ie.invalid_string,message:s.message}),t.dirty()):"cidr"===s.kind?Ke(e.data,s.version)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"cidr",code:ie.invalid_string,message:s.message}),t.dirty()):"base64"===s.kind?Ze.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"base64",code:ie.invalid_string,message:s.message}),t.dirty()):"base64url"===s.kind?Be.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"base64url",code:ie.invalid_string,message:s.message}),t.dirty()):te.assertNever(s);var n,a;return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),{validation:t,code:ie.invalid_string,...ke.errToObj(r)})}_addCheck(e){return new Qe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){var t,r;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null===e||void 0===e?void 0:e.local)&&void 0!==r&&r,...ke.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...ke.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...ke.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ke.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ke.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ke.errToObj(t)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new Qe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Je(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Qe.create=e=>{var t;return new Qe({checks:[],typeName:Ft.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Te(e)})};class Ye extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==ne.number){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.number,received:t.parsedType}),fe}let t;const r=new he;for(const n of this._def.checks)if("int"===n.kind)te.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),de(t,{code:ie.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty());else if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),de(t,{code:ie.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),de(t,{code:ie.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else"multipleOf"===n.kind?0!==Je(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),de(t,{code:ie.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),de(t,{code:ie.not_finite,message:n.message}),r.dirty()):te.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ke.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ke.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ke.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ke.toString(t))}setLimit(e,t,r,n){return new Ye({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ke.toString(n)}]})}_addCheck(e){return new Ye({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&te.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ye.create=e=>new Ye({checks:[],typeName:Ft.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Te(e)});class Xe extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(n){return this._getInvalidInput(e)}if(this._getType(e)!==ne.bigint)return this._getInvalidInput(e);let t;const r=new he;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),de(t,{code:ie.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),de(t,{code:ie.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),de(t,{code:ie.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):te.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.bigint,received:t.parsedType}),fe}gte(e,t){return this.setLimit("min",e,!0,ke.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ke.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ke.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ke.toString(t))}setLimit(e,t,r,n){return new Xe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ke.toString(n)}]})}_addCheck(e){return new Xe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Xe.create=e=>{var t;return new Xe({checks:[],typeName:Ft.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Te(e)})};class et extends Ne{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==ne.boolean){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.boolean,received:t.parsedType}),fe}return me(e.data)}}et.create=e=>new et({typeName:Ft.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Te(e)});class tt extends Ne{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==ne.date){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.date,received:t.parsedType}),fe}if(isNaN(e.data.getTime())){return de(this._getOrReturnCtx(e),{code:ie.invalid_date}),fe}const t=new he;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),de(r,{code:ie.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),de(r,{code:ie.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):te.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}tt.create=e=>new tt({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Ft.ZodDate,...Te(e)});class rt extends Ne{_parse(e){if(this._getType(e)!==ne.symbol){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.symbol,received:t.parsedType}),fe}return me(e.data)}}rt.create=e=>new rt({typeName:Ft.ZodSymbol,...Te(e)});class nt extends Ne{_parse(e){if(this._getType(e)!==ne.undefined){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.undefined,received:t.parsedType}),fe}return me(e.data)}}nt.create=e=>new nt({typeName:Ft.ZodUndefined,...Te(e)});class at extends Ne{_parse(e){if(this._getType(e)!==ne.null){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.null,received:t.parsedType}),fe}return me(e.data)}}at.create=e=>new at({typeName:Ft.ZodNull,...Te(e)});class it extends Ne{constructor(){super(...arguments),this._any=!0}_parse(e){return me(e.data)}}it.create=e=>new it({typeName:Ft.ZodAny,...Te(e)});class st extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(e){return me(e.data)}}st.create=e=>new st({typeName:Ft.ZodUnknown,...Te(e)});class ot extends Ne{_parse(e){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.never,received:t.parsedType}),fe}}ot.create=e=>new ot({typeName:Ft.ZodNever,...Te(e)});class lt extends Ne{_parse(e){if(this._getType(e)!==ne.undefined){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.void,received:t.parsedType}),fe}return me(e.data)}}lt.create=e=>new lt({typeName:Ft.ZodVoid,...Te(e)});class ut extends Ne{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==ne.array)return de(t,{code:ie.invalid_type,expected:ne.array,received:t.parsedType}),fe;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(de(t,{code:e?ie.too_big:ie.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(de(t,{code:ie.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(de(t,{code:ie.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new Ee(t,e,t.path,r))))).then((e=>he.mergeArray(r,e)));const a=[...t.data].map(((e,r)=>n.type._parseSync(new Ee(t,e,t.path,r))));return he.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new ut({...this._def,minLength:{value:e,message:ke.toString(t)}})}max(e,t){return new ut({...this._def,maxLength:{value:e,message:ke.toString(t)}})}length(e,t){return new ut({...this._def,exactLength:{value:e,message:ke.toString(t)}})}nonempty(e){return this.min(1,e)}}function ct(e){if(e instanceof dt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=jt.create(ct(n))}return new dt({...e._def,shape:()=>t})}return e instanceof ut?new ut({...e._def,type:ct(e.element)}):e instanceof jt?jt.create(ct(e.unwrap())):e instanceof At?At.create(ct(e.unwrap())):e instanceof vt?vt.create(e.items.map((e=>ct(e)))):e}ut.create=(e,t)=>new ut({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ft.ZodArray,...Te(t)});class dt extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=te.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ne.object){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.object,received:t.parsedType}),fe}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof ot&&"strip"===this._def.unknownKeys))for(const o in r.data)a.includes(o)||i.push(o);const s=[];for(const o of a){const e=n[o],t=r.data[o];s.push({key:{status:"valid",value:o},value:e._parse(new Ee(r,t,r.path,o)),alwaysSet:o in r.data})}if(this._def.catchall instanceof ot){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)s.push({key:{status:"valid",value:t},value:{status:"valid",value:r.data[t]}});else if("strict"===e)i.length>0&&(de(r,{code:ie.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new Ee(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e})).then((e=>he.mergeObjectSync(t,e))):he.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new dt({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,a,i,s;const o=null!==(i=null===(a=(n=this._def).errorMap)||void 0===a?void 0:a.call(n,t,r).message)&&void 0!==i?i:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=ke.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ft.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const t={};return te.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new dt({...this._def,shape:()=>t})}omit(e){const t={};return te.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new dt({...this._def,shape:()=>t})}deepPartial(){return ct(this)}partial(e){const t={};return te.objectKeys(this.shape).forEach((r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()})),new dt({...this._def,shape:()=>t})}required(e){const t={};return te.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof jt;)e=e._def.innerType;t[r]=e}})),new dt({...this._def,shape:()=>t})}keyof(){return St(te.objectKeys(this.shape))}}dt.create=(e,t)=>new dt({shape:()=>e,unknownKeys:"strip",catchall:ot.create(),typeName:Ft.ZodObject,...Te(t)}),dt.strictCreate=(e,t)=>new dt({shape:()=>e,unknownKeys:"strict",catchall:ot.create(),typeName:Ft.ZodObject,...Te(t)}),dt.lazycreate=(e,t)=>new dt({shape:e,unknownKeys:"strip",catchall:ot.create(),typeName:Ft.ZodObject,...Te(t)});class ht extends Ne{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const r=e.map((e=>new se(e.ctx.common.issues)));return de(t,{code:ie.invalid_union,unionErrors:r}),fe}));{let e;const n=[];for(const i of r){const r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=n.map((e=>new se(e)));return de(t,{code:ie.invalid_union,unionErrors:a}),fe}}get options(){return this._def.options}}ht.create=(e,t)=>new ht({options:e,typeName:Ft.ZodUnion,...Te(t)});const ft=e=>e instanceof kt?ft(e.schema):e instanceof Nt?ft(e.innerType()):e instanceof xt?[e.value]:e instanceof Et?e.options:e instanceof Ct?te.objectValues(e.enum):e instanceof Ot?ft(e._def.innerType):e instanceof nt?[void 0]:e instanceof at?[null]:e instanceof jt?[void 0,...ft(e.unwrap())]:e instanceof At?[null,...ft(e.unwrap())]:e instanceof Lt||e instanceof Dt?ft(e.unwrap()):e instanceof Rt?ft(e._def.innerType):[];class pt extends Ne{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ne.object)return de(t,{code:ie.invalid_type,expected:ne.object,received:t.parsedType}),fe;const r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(de(t,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),fe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const a of t){const t=ft(a.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(n.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);n.set(r,a)}}return new pt({typeName:Ft.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...Te(r)})}}function mt(e,t){const r=ae(e),n=ae(t);if(e===t)return{valid:!0,data:e};if(r===ne.object&&n===ne.object){const r=te.objectKeys(t),n=te.objectKeys(e).filter((e=>-1!==r.indexOf(e))),a={...e,...t};for(const i of n){const r=mt(e[i],t[i]);if(!r.valid)return{valid:!1};a[i]=r.data}return{valid:!0,data:a}}if(r===ne.array&&n===ne.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const a=mt(e[n],t[n]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}return r===ne.date&&n===ne.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class gt extends Ne{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(ge(e)||ge(n))return fe;const a=mt(e.value,n.value);return a.valid?((ve(e)||ve(n))&&t.dirty(),{status:t.value,value:a.data}):(de(r,{code:ie.invalid_intersection_types}),fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((e=>{let[t,r]=e;return n(t,r)})):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gt.create=(e,t,r)=>new gt({left:e,right:t,typeName:Ft.ZodIntersection,...Te(r)});class vt extends Ne{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.array)return de(r,{code:ie.invalid_type,expected:ne.array,received:r.parsedType}),fe;if(r.data.length<this._def.items.length)return de(r,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fe;!this._def.rest&&r.data.length>this._def.items.length&&(de(r,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new Ee(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>he.mergeArray(t,e))):he.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new vt({...this._def,rest:e})}}vt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vt({items:e,typeName:Ft.ZodTuple,rest:null,...Te(t)})};class yt extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.object)return de(r,{code:ie.invalid_type,expected:ne.object,received:r.parsedType}),fe;const n=[],a=this._def.keyType,i=this._def.valueType;for(const s in r.data)n.push({key:a._parse(new Ee(r,s,r.path,s)),value:i._parse(new Ee(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?he.mergeObjectAsync(t,n):he.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new yt(t instanceof Ne?{keyType:e,valueType:t,typeName:Ft.ZodRecord,...Te(r)}:{keyType:Qe.create(),valueType:e,typeName:Ft.ZodRecord,...Te(t)})}}class bt extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.map)return de(r,{code:ie.invalid_type,expected:ne.map,received:r.parsedType}),fe;const n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(((e,t)=>{let[i,s]=e;return{key:n._parse(new Ee(r,i,r.path,[t,"key"])),value:a._parse(new Ee(r,s,r.path,[t,"value"]))}}));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of i){const n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return fe;"dirty"!==n.status&&"dirty"!==a.status||t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of i){const n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return fe;"dirty"!==n.status&&"dirty"!==a.status||t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}bt.create=(e,t,r)=>new bt({valueType:t,keyType:e,typeName:Ft.ZodMap,...Te(r)});class wt extends Ne{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.set)return de(r,{code:ie.invalid_type,expected:ne.set,received:r.parsedType}),fe;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(de(r,{code:ie.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(de(r,{code:ie.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const r=new Set;for(const n of e){if("aborted"===n.status)return fe;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const s=[...r.data.values()].map(((e,t)=>a._parse(new Ee(r,e,r.path,t))));return r.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new wt({...this._def,minSize:{value:e,message:ke.toString(t)}})}max(e,t){return new wt({...this._def,maxSize:{value:e,message:ke.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}wt.create=(e,t)=>new wt({valueType:e,minSize:null,maxSize:null,typeName:Ft.ZodSet,...Te(t)});class _t extends Ne{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ne.function)return de(t,{code:ie.invalid_type,expected:ne.function,received:t.parsedType}),fe;function r(e,r){return ce({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ue(),oe].filter((e=>!!e)),issueData:{code:ie.invalid_arguments,argumentsError:r}})}function n(e,r){return ce({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ue(),oe].filter((e=>!!e)),issueData:{code:ie.invalid_return_type,returnTypeError:r}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Tt){const e=this;return me((async function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=new se([]),u=await e._def.args.parseAsync(s,a).catch((e=>{throw l.addIssue(r(s,e)),l})),c=await Reflect.apply(i,this,u),d=await e._def.returns._def.type.parseAsync(c,a).catch((e=>{throw l.addIssue(n(c,e)),l}));return d}))}{const e=this;return me((function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=e._def.args.safeParse(s,a);if(!l.success)throw new se([r(s,l.error)]);const u=Reflect.apply(i,this,l.data),c=e._def.returns.safeParse(u,a);if(!c.success)throw new se([n(u,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new _t({...this._def,args:vt.create(t).rest(st.create())})}returns(e){return new _t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new _t({args:e||vt.create([]).rest(st.create()),returns:t||st.create(),typeName:Ft.ZodFunction,...Te(r)})}}class kt extends Ne{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}kt.create=(e,t)=>new kt({getter:e,typeName:Ft.ZodLazy,...Te(t)});class xt extends Ne{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return de(t,{received:t.data,code:ie.invalid_literal,expected:this._def.value}),fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}function St(e,t){return new Et({values:e,typeName:Ft.ZodEnum,...Te(t)})}xt.create=(e,t)=>new xt({value:e,typeName:Ft.ZodLiteral,...Te(t)});class Et extends Ne{constructor(){super(...arguments),xe.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return de(t,{expected:te.joinValues(r),received:t.parsedType,code:ie.invalid_type}),fe}if(we(this,xe,"f")||_e(this,xe,new Set(this._def.values),"f"),!we(this,xe,"f").has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return de(t,{received:t.data,code:ie.invalid_enum_value,options:r}),fe}return me(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Et.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Et.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}xe=new WeakMap,Et.create=St;class Ct extends Ne{constructor(){super(...arguments),Se.set(this,void 0)}_parse(e){const t=te.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ne.string&&r.parsedType!==ne.number){const e=te.objectValues(t);return de(r,{expected:te.joinValues(e),received:r.parsedType,code:ie.invalid_type}),fe}if(we(this,Se,"f")||_e(this,Se,new Set(te.getValidEnumValues(this._def.values)),"f"),!we(this,Se,"f").has(e.data)){const e=te.objectValues(t);return de(r,{received:r.data,code:ie.invalid_enum_value,options:e}),fe}return me(e.data)}get enum(){return this._def.values}}Se=new WeakMap,Ct.create=(e,t)=>new Ct({values:e,typeName:Ft.ZodNativeEnum,...Te(t)});class Tt extends Ne{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ne.promise&&!1===t.common.async)return de(t,{code:ie.invalid_type,expected:ne.promise,received:t.parsedType}),fe;const r=t.parsedType===ne.promise?t.data:Promise.resolve(t.data);return me(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Tt.create=(e,t)=>new Tt({type:e,typeName:Ft.ZodPromise,...Te(t)});class Nt extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ft.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{de(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){const e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return fe;const n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?fe:"dirty"===n.status||"dirty"===t.value?pe(n.value):n}));{if("aborted"===t.value)return fe;const n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?fe:"dirty"===n.status||"dirty"===t.value?pe(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?fe:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?fe:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ye(e))return e;const i=n.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>ye(e)?Promise.resolve(n.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}te.assertNever(n)}}Nt.create=(e,t,r)=>new Nt({schema:e,typeName:Ft.ZodEffects,effect:t,...Te(r)}),Nt.createWithPreprocess=(e,t,r)=>new Nt({schema:t,effect:{type:"preprocess",transform:e},typeName:Ft.ZodEffects,...Te(r)});class jt extends Ne{_parse(e){return this._getType(e)===ne.undefined?me(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jt.create=(e,t)=>new jt({innerType:e,typeName:Ft.ZodOptional,...Te(t)});class At extends Ne{_parse(e){return this._getType(e)===ne.null?me(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}At.create=(e,t)=>new At({innerType:e,typeName:Ft.ZodNullable,...Te(t)});class Ot extends Ne{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ot.create=(e,t)=>new Ot({innerType:e,typeName:Ft.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...Te(t)});class Rt extends Ne{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return be(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new se(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new se(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Rt.create=(e,t)=>new Rt({innerType:e,typeName:Ft.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...Te(t)});class Pt extends Ne{_parse(e){if(this._getType(e)!==ne.nan){const t=this._getOrReturnCtx(e);return de(t,{code:ie.invalid_type,expected:ne.nan,received:t.parsedType}),fe}return{status:"valid",value:e.data}}}Pt.create=e=>new Pt({typeName:Ft.ZodNaN,...Te(e)});const It=Symbol("zod_brand");class Lt extends Ne{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class $t extends Ne{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?fe:"dirty"===e.status?(t.dirty(),pe(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})()}{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?fe:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new $t({in:e,out:t,typeName:Ft.ZodPipeline})}}class Dt extends Ne{_parse(e){const t=this._def.innerType._parse(e),r=e=>(ye(e)&&(e.value=Object.freeze(e.value)),e);return be(t)?t.then((e=>r(e))):r(t)}unwrap(){return this._def.innerType}}function zt(e,t){const r="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof r?{message:r}:r}function Ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return e?it.create().superRefine(((n,a)=>{var i,s;const o=e(n);if(o instanceof Promise)return o.then((e=>{var i,s;if(!e){const e=zt(t,n),o=null===(s=null!==(i=e.fatal)&&void 0!==i?i:r)||void 0===s||s;a.addIssue({code:"custom",...e,fatal:o})}}));if(!o){const e=zt(t,n),o=null===(s=null!==(i=e.fatal)&&void 0!==i?i:r)||void 0===s||s;a.addIssue({code:"custom",...e,fatal:o})}})):it.create()}Dt.create=(e,t)=>new Dt({innerType:e,typeName:Ft.ZodReadonly,...Te(t)});const Mt={object:dt.lazycreate};var Ft;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Ft||(Ft={}));const Zt=Qe.create,Bt=Ye.create,Vt=Pt.create,qt=Xe.create,Wt=et.create,Ht=tt.create,Gt=rt.create,Kt=nt.create,Qt=at.create,Jt=it.create,Yt=st.create,Xt=ot.create,er=lt.create,tr=ut.create,rr=dt.create,nr=dt.strictCreate,ar=ht.create,ir=pt.create,sr=gt.create,or=vt.create,lr=yt.create,ur=bt.create,cr=wt.create,dr=_t.create,hr=kt.create,fr=xt.create,pr=Et.create,mr=Ct.create,gr=Tt.create,vr=Nt.create,yr=jt.create,br=At.create,wr=Nt.createWithPreprocess,_r=$t.create,kr={string:e=>Qe.create({...e,coerce:!0}),number:e=>Ye.create({...e,coerce:!0}),boolean:e=>et.create({...e,coerce:!0}),bigint:e=>Xe.create({...e,coerce:!0}),date:e=>tt.create({...e,coerce:!0})},xr=fe;var Sr=Object.freeze({__proto__:null,defaultErrorMap:oe,setErrorMap:function(e){le=e},getErrorMap:ue,makeIssue:ce,EMPTY_PATH:[],addIssueToContext:de,ParseStatus:he,INVALID:fe,DIRTY:pe,OK:me,isAborted:ge,isDirty:ve,isValid:ye,isAsync:be,get util(){return te},get objectUtil(){return re},ZodParsedType:ne,getParsedType:ae,ZodType:Ne,datetimeRegex:He,ZodString:Qe,ZodNumber:Ye,ZodBigInt:Xe,ZodBoolean:et,ZodDate:tt,ZodSymbol:rt,ZodUndefined:nt,ZodNull:at,ZodAny:it,ZodUnknown:st,ZodNever:ot,ZodVoid:lt,ZodArray:ut,ZodObject:dt,ZodUnion:ht,ZodDiscriminatedUnion:pt,ZodIntersection:gt,ZodTuple:vt,ZodRecord:yt,ZodMap:bt,ZodSet:wt,ZodFunction:_t,ZodLazy:kt,ZodLiteral:xt,ZodEnum:Et,ZodNativeEnum:Ct,ZodPromise:Tt,ZodEffects:Nt,ZodTransformer:Nt,ZodOptional:jt,ZodNullable:At,ZodDefault:Ot,ZodCatch:Rt,ZodNaN:Pt,BRAND:It,ZodBranded:Lt,ZodPipeline:$t,ZodReadonly:Dt,custom:Ut,Schema:Ne,ZodSchema:Ne,late:Mt,get ZodFirstPartyTypeKind(){return Ft},coerce:kr,any:Jt,array:tr,bigint:qt,boolean:Wt,date:Ht,discriminatedUnion:ir,effect:vr,enum:pr,function:dr,instanceof:function(e){return Ut((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:sr,lazy:hr,literal:fr,map:ur,nan:Vt,nativeEnum:mr,never:Xt,null:Qt,nullable:br,number:Bt,object:rr,oboolean:()=>Wt().optional(),onumber:()=>Bt().optional(),optional:yr,ostring:()=>Zt().optional(),pipeline:_r,preprocess:wr,promise:gr,record:lr,set:cr,strictObject:nr,string:Zt,symbol:Gt,transformer:vr,tuple:or,undefined:Kt,union:ar,unknown:Yt,void:er,NEVER:xr,ZodIssueCode:ie,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:se});Sr.object({id:Sr.string().uuid(),amount:Sr.number(),type:Sr.nativeEnum(g),date:Sr.string(),description:Sr.string().optional(),category:Sr.string().optional(),subcategory:Sr.string().optional(),recurring:Sr.boolean().optional(),frequency:Sr.nativeEnum(y).optional(),actualAmount:Sr.number().optional(),status:Sr.nativeEnum(v).optional(),created_at:Sr.string().optional(),updated_at:Sr.string().optional()}).omit({id:!0,created_at:!0,updated_at:!0});const Er={VENITURI:{"Surse de venit":["Salarii","Dividende","Chirii","Tichete de mas\u0103","Cadouri","Drepturi de autor","Pensii","Aloca\u021bii","Alte venituri"],Report:["Venituri reportate din luna anterioar\u0103"]},ECONOMII:{"Categorii de economii":["Fond de urgen\u021b\u0103","Fond de rezerv\u0103","Fond general"]},INFATISARE:{General:["\xcembr\u0103c\u0103minte, \xeenc\u0103l\u021b\u0103minte \u0219i accesorii","Salon de \xeenfrumuse\u021bare","Produse cosmetice","Opera\u021bii estetice","Produse de igien\u0103 personal\u0103","Produse de igien\u0103 pentru animale de companie","Cur\u0103\u021b\u0103torie, c\u0103lc\u0103torie, croitorie, cizm\u0103rie","\xcembr\u0103c\u0103minte \u0219i accesorii pentru animale de companie"]},EDUCATIE:{General:["Taxe \u0219colare | universitare","Gr\u0103dini\u021b\u0103 | Cre\u0219\u0103 | Afterschool | Bon\u0103","Cursuri | Traininguri de specializare","Materiale de studiu | c\u0103r\u021bi","Licen\u021be programe"]},CARIERA:{General:["Taxe autorizare | Examene titularizare sau specializare","Servicii realizare CV","Consultan\u021b\u0103 juridic\u0103 | financiar\u0103"]},SANATATE:{General:["Medicamente | Suplimente alimentare | Vitamine","Servicii medicale pentru preven\u021bie","Opera\u021bii","Terapii de recuperare","Abonamente medicale","Asigur\u0103ri de s\u0103n\u0103tate | medicale","Veterinar pentru animale de companie","Medicamente pentru animale de companie"]},NUTRITIE:{General:["Alimente","Restaurante","La pachet","Comenzi","Cafea","M\xe2ncare pentru animale de companie"]},LOCUINTA:{"Utilit\u0103\u021bi":["\xcentre\u021binere","Ap\u0103","Gaz","Energie electric\u0103","Tax\u0103 gunoi"],Servicii:["Abonamente telefonie","Cablu TV","Internet"],"\xcentre\u021binere \u0219i amenajare":["Repara\u021bii, montaj \u0219i amenaj\u0103ri interioare","Produse de cur\u0103\u021benie \u0219i consumabile","Servicii de cur\u0103\u021benie profesional\u0103","Mobilier | Decora\u021biuni","Electrice | Electrocasnice | Obiecte de iluminat"],"Taxe \u0219i asigur\u0103ri":["Asigur\u0103ri de locuin\u021b\u0103","Impozit pe cl\u0103diri \u0219i terenuri","Chirie"]},TIMP_LIBER:{Entertainment:["C\u0103r\u021bi sau abonamente c\u0103r\u021bi","Muzic\u0103 | Video sau abonamente","Reviste | Ziare sau abonamente","Filme sau abonamente","Cinema | Teatru | Concerte | Muzee"],"Sport \u0219i recreere":["Abonamente sal\u0103 de sport | \xeenot","Piscine | \u0218tranduri | Parcuri de distrac\u021bii | Locuri de joac\u0103","Echipamente sportive | pescuit"],Diverse:["Abonamente servicii online","Jocuri de societate | Juc\u0103rii pentru copii","Cadouri pentru cei dragi","Materiale & cursuri pentru hobby-uri","Pariuri | Loto | Casino","\u021aig\u0103ri | Vaping"]},CALATORII:{Transport:["Bilete pentru mijloace de transport/combustibil","Taxe de drum | de pod | rovignete","\xcenchiriere ma\u0219in\u0103"],Cazare:["Acomodare","Hotel pentru animale"],"Activit\u0103\u021bi":["Bilete pentru obiective turistice","\xcenchiriere echipamente","Suveniruri"],"Alte cheltuieli":["Asigurare de c\u0103l\u0103torie","Hran\u0103"]},TRANSPORT:{"Transport public":["Transport public"],"\xcentre\u021binere auto":["Revizii","Sp\u0103l\u0103torie auto","Accesorii/Consumabile pentru ma\u0219in\u0103","Combustibil","Schimbat cauciucuri var\u0103/iarn\u0103","Hotel pentru anvelope","Repara\u021bii auto"],"Taxe \u0219i asigur\u0103ri":["Taxe drumuri","Parcare","Asigurare RCA","Asigurare CASCO","Rovigneta","Impozit auto"]},INVESTITII:{Proiecte:["Investi\u021bie/Afacere 1","Investi\u021bie/Afacere 2","Investi\u021bie/Afacere 3","Investi\u021bie/Afacere 4","Investi\u021bie/Afacere 5"]}},Cr={[g.INCOME]:["VENITURI"],[g.SAVING]:["ECONOMII","INVESTITII"],[g.EXPENSE]:["INFATISARE","EDUCATIE","CARIERA","SANATATE","NUTRITIE","LOCUINTA","TIMP_LIBER","CALATORII","TRANSPORT"]};g.INCOME,g.SAVING,g.SAVING,g.EXPENSE,g.EXPENSE,g.EXPENSE,g.EXPENSE,g.EXPENSE,g.EXPENSE,g.EXPENSE,g.EXPENSE,g.EXPENSE;var Tr=r(469);const Nr={AMOUNT_MIN:.01,AMOUNT_MAX:1e6,DATE_REGEX:/^\d{4}-\d{2}-\d{2}$/};var jr=r(341);const Ar="transactions",Or={async fetchTransactions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=jr.N.from(Ar).select("*",{count:"exact"});e&&(n=n.eq("user_id",e)),r.type&&(n=n.eq("type",r.type)),r.category&&(n=n.eq("category",r.category)),void 0!==r.recurring&&(n=n.eq("recurring",r.recurring)),r.dateFrom&&(n=n.gte("date",r.dateFrom)),r.dateTo&&(n=n.lte("date",r.dateTo)),t.sort&&(n=n.order(t.sort,{ascending:"asc"===t.order})),void 0!==t.limit&&void 0!==t.offset&&(n=n.range(t.offset,t.offset+t.limit-1));const{data:a,count:i,error:s}=await n;if(s)throw s;return{data:a,count:i||0}},validateCategoryAndSubcategory(e,t){if(!e)return console.error("Categoria este obligatorie!"),!1;if(!Object.keys(Er).includes(e))return console.error(`Categorie invalid\u0103: ${e}. Categorii permise: ${Object.keys(Er).join(", ")}`),!1;if(!t)return!0;const r=Er[e];return Object.values(r).some((e=>e.includes(t)))},async createTransaction(e){const{useAuthStore:t}=await Promise.resolve().then(r.bind(r,952)),n=t.getState().user;if(!n||!n.id)throw new Error("Utilizatorul nu este autentificat!");if(!this.validateCategoryAndSubcategory(e.category,e.subcategory||null))throw new Error("Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.");const a={...e,user_id:n.id},{data:i,error:s}=await jr.N.from(Ar).insert([a]).select().single();if(s)throw s;return i},async updateTransaction(e,t){const{useAuthStore:n}=await Promise.resolve().then(r.bind(r,952)),a=n.getState().user;if(!a||!a.id)throw new Error("Utilizatorul nu este autentificat!");if(void 0!==t.category){const r=void 0!==t.subcategory?t.subcategory:null;if(null===r){const{data:r}=await jr.N.from(Ar).select("subcategory").eq("id",e).eq("user_id",a.id).single();if(r&&!this.validateCategoryAndSubcategory(t.category,r.subcategory||null))throw new Error("Categoria nu este compatibil\u0103 cu subcategoria existent\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.")}else if(!this.validateCategoryAndSubcategory(t.category,r))throw new Error("Categoria sau subcategoria nu este valid\u0103. Verifica\u021bi categoriile disponibile \xeen aplica\u021bie.")}else if(void 0!==t.subcategory){const{data:r}=await jr.N.from(Ar).select("category").eq("id",e).eq("user_id",a.id).single();if(r&&!this.validateCategoryAndSubcategory(r.category,t.subcategory||null))throw new Error("Subcategoria nu este valid\u0103 pentru categoria existent\u0103. Verifica\u021bi subcategoriile disponibile pentru aceast\u0103 categorie.")}const{data:i,error:s}=await jr.N.from(Ar).update(t).eq("id",e).eq("user_id",a.id).select().single();if(s)throw s;return i},async deleteTransaction(e){const{useAuthStore:t}=await Promise.resolve().then(r.bind(r,952)),n=t.getState().user;if(!n||!n.id)throw new Error("Utilizatorul nu este autentificat!");const{error:a}=await jr.N.from(Ar).delete().eq("id",e).eq("user_id",n.id);if(a)throw a}};var Rr=r(952);const Pr=(0,Tr.v)(((e,t)=>({transactions:[],total:0,currentQueryParams:{limit:d,offset:h,sort:f},loading:!1,error:null,monthlyCache:{},setTransactions:t=>e({transactions:t}),setTotal:t=>e({total:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setQueryParams:t=>{e({currentQueryParams:t})},_lastQueryParams:void 0,_getCacheKey:(e,t)=>`${e}-${t.toString().padStart(2,"0")}`,_invalidateMonthCache:(r,n)=>{const a=t()._getCacheKey(r,n),i={...t().monthlyCache};i[a]&&(e({monthlyCache:{...i,[a]:{...i[a],lastFetched:0}}}),console.log(`\ud83d\udd04 Cache invalidated for ${a}, will refresh on next access`))},_getDateInterval:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new Date(e,t-1,1),a=new Date(e,t,0);if(r){const e=new Date(n);e.setDate(e.getDate()-6);const t=new Date(a);return t.setDate(t.getDate()+6),{dateFrom:e.toISOString().split("T")[0],dateTo:t.toISOString().split("T")[0]}}return{dateFrom:n.toISOString().split("T")[0],dateTo:a.toISOString().split("T")[0]}},fetchTransactions:async function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{currentQueryParams:n,_lastQueryParams:a,setError:i,monthlyCache:s,_getCacheKey:o,_getDateInterval:l}=t();if(!r&&n.year&&n.month){const t=o(n.year,n.month),r=s[t],a=Date.now();if(r&&a-r.lastFetched<9e5)return console.log(`\ud83d\udd04 Using cached data for ${t}`),void e({transactions:r.transactions,loading:!1,total:r.transactions.length})}if(r||!a||JSON.stringify(a)!==JSON.stringify(n)){e({loading:!0,error:null});try{e({_lastQueryParams:{...n}});const r={type:n.type,category:n.category,recurring:n.recurring};if(n.year&&n.month){const e=l(n.year,n.month,n.includeAdjacentDays);r.dateFrom=e.dateFrom,r.dateTo=e.dateTo}const a=Rr.useAuthStore.getState().user,i=(null===a||void 0===a?void 0:a.id)||"",{data:s,count:u}=await Or.fetchTransactions(i,{limit:n.limit,offset:n.offset,sort:n.sort,order:"desc"},r);if(n.year&&n.month){const r=o(n.year,n.month);e({transactions:s,total:u,loading:!1,monthlyCache:{...t().monthlyCache,[r]:{transactions:s,lastFetched:Date.now()}}})}else e({transactions:s,total:u,loading:!1})}catch(u){console.error("Error fetching transactions:",u),e({transactions:[],total:0,loading:!1,error:w.C.EROARE_INCARCARE_TRANZACTII})}}else e({loading:!1})},refresh:async()=>{if(!t().loading){console.log("\ud83d\udd04 transactionStore.refresh called"),e({loading:!0});try{await t().fetchTransactions(!0)}finally{e({loading:!1})}}},saveTransaction:async(r,n)=>{try{let a;return a=n?await Or.updateTransaction(n,r):await Or.createTransaction(r),e({_lastQueryParams:void 0}),await t().fetchTransactions(),a}catch(a){throw e({error:w.C.EROARE_SALVARE_TRANZACTIE}),a}},removeTransaction:async r=>{try{await Or.deleteTransaction(r),e({_lastQueryParams:void 0}),await t().fetchTransactions()}catch(n){throw e({error:w.C.EROARE_STERGERE_TRANZACTIE}),n}},reset:()=>e({transactions:[],total:0,currentQueryParams:{limit:d,offset:h,sort:f},loading:!1,error:null,_lastQueryParams:void 0,monthlyCache:{}})}))),Ir=(0,Tr.v)(((e,t)=>({form:{...m},error:"",success:"",loading:!1,setForm:t=>e({form:{...t}}),setField:(t,r)=>e((e=>({form:{...e.form,[t]:r}}))),setError:t=>e({error:t}),setSuccess:t=>e({success:t}),setLoading:t=>e({loading:t}),resetForm:()=>e({form:{...m},error:"",success:""}),setTransactionService:()=>{},handleChange:e=>{const{name:r,value:n,type:a}=e.target;if("checkbox"===a){const n=e.target.checked;t().setField(r,n)}else t().setField(r,n)},validateForm:()=>{const{form:r}=t();if(!r.type||!r.amount||!r.category||!r.date)return e({error:w.C.CAMPURI_OBLIGATORII}),!1;if(r.recurring&&!r.frequency)return e({error:w.C.FRECV_RECURENTA}),!1;const n=parseFloat(r.amount);return isNaN(n)||n<Nr.AMOUNT_MIN||n>Nr.AMOUNT_MAX?(e({error:w.C.AVERTISMENT_DATE}),!1):Nr.DATE_REGEX.test(r.date)?(e({error:""}),!0):(e({error:w.C.AVERTISMENT_DATE}),!1)},handleSubmit:async r=>{if(null===r||void 0===r||r.preventDefault(),t().validateForm()){e({loading:!0,error:""});try{const{form:r}=t(),n={...r,type:r.type,amount:Number(r.amount),frequency:r.frequency?r.frequency:void 0,currency:p};await Or.createTransaction(n),e({success:w.C.SUCCES_ADAUGARE});const a=Pr.getState();await a.refresh()}catch{e({error:w.C.EROARE_ADAUGARE})}finally{e({loading:!1})}}else e({loading:!1})},getForm:()=>t().form,getError:()=>t().error,getSuccess:()=>t().success,getLoading:()=>t().loading})));var Lr=r(887);const $r=(e,t)=>{console.error(`[categoryService] ${e}:`,t)},Dr="custom_categories",zr={async getUserCategories(e){if(!e)return{categories:[],version:1};try{const{data:t,error:r}=await jr.N.from(Dr).select("category_data, version").eq("user_id",e);if(r)return $r("getUserCategories",r),{categories:[],version:1};if(!t||0===t.length)return{categories:[],version:1};const n=t[0];if(!n.category_data||"object"!==typeof n.category_data)return{categories:[],version:1};const a=Array.isArray(n.category_data.categories)?n.category_data.categories:[];return{categories:a,version:"number"===typeof n.version?n.version:n.category_data.version||1}}catch(t){return $r("getUserCategories exception",t),{categories:[],version:1}}},async saveUserCategories(e,t){try{if(!e)return $r("saveUserCategories","User ID este obligatoriu"),!1;if(!t||"object"!==typeof t)return $r("saveUserCategories","Datele de categorie lipsesc sau sunt invalide"),!1;const r=Array.isArray(t.categories)?t.categories:[],n="number"===typeof t.version?t.version:1,a={user_id:e,category_data:{categories:r,version:n},updated_at:(new Date).toISOString(),version:n};console.debug("[categoryService] Payload trimis:",a);const{data:i,error:s}=await jr.N.from(Dr).select("id").eq("user_id",e);if(s)return $r("saveUserCategories select",s),!1;if(i&&0!==i.length){const{error:t}=await jr.N.from(Dr).update(a).eq("user_id",e);if(t)return $r("saveUserCategories update",t),!1}else{const{error:e}=await jr.N.from(Dr).insert([a]);if(e)return $r("saveUserCategories insert",e),!1}return!0}catch(r){return $r("saveUserCategories exception",r),!1}},async updateTransactionsForSubcategoryRename(e,t,r,n){try{if(!e)return $r("updateTransactionsForSubcategoryRename","User ID este obligatoriu"),!1;if(!t||!r||!n)return $r("updateTransactionsForSubcategoryRename","Categoria, numele vechi \u0219i numele nou sunt obligatorii"),!1;const{error:a}=await jr.N.from("transactions").update({subcategory:n.trim()}).eq("user_id",e).eq("category",t).eq("subcategory",r);return!a||($r("updateTransactionsForSubcategoryRename",a),!1)}catch(a){return $r("updateTransactionsForSubcategoryRename exception",a),!1}},async handleSubcategoryDeletion(e,t,r,n,a){try{if(!e)return $r("handleSubcategoryDeletion","User ID este obligatoriu"),!1;if(!t||!r)return $r("handleSubcategoryDeletion","Categoria \u0219i subcategoria sunt obligatorii"),!1;if("migrate"===n&&a){const{error:n}=await jr.N.from("transactions").update({subcategory:a.trim()}).eq("user_id",e).eq("category",t).eq("subcategory",r);return!n||($r("handleSubcategoryDeletion - migrate",n),!1)}if("delete"===n){const{error:n}=await jr.N.from("transactions").update({subcategory:null}).eq("user_id",e).eq("category",t).eq("subcategory",r);return!n||($r("handleSubcategoryDeletion - delete",n),!1)}return $r("handleSubcategoryDeletion",`Action necunoscut\u0103: ${n}`),!1}catch(i){return $r("handleSubcategoryDeletion exception",i),!1}},async getAvailableSubcategoriesForMigration(e,t,r){try{if(!e||!t||!r)return $r("getAvailableSubcategoriesForMigration","Parametri insuficien\u021bi"),[];const n=await this.getUserCategories(e);if(!n||!Array.isArray(n.categories))return[];const a=n.categories.find((e=>e.name===t));return a&&Array.isArray(a.subcategories)?a.subcategories.filter((e=>!!e&&"string"===typeof e.name)).map((e=>e.name)).filter((e=>e!==r)):[]}catch(n){return $r("getAvailableSubcategoriesForMigration exception",n),[]}},async checkForDuplicateSubcategory(e,t,r){try{if(!e||!t||!r)return!1;const n=r.trim().toLowerCase();if(!n)return!1;const a=await this.getUserCategories(e);if(!a||!Array.isArray(a.categories))return!1;const i=a.categories.find((e=>e.name===t));return!(!i||!Array.isArray(i.subcategories))&&i.subcategories.some((e=>e&&"string"===typeof e.name&&e.name.trim().toLowerCase()===n))}catch(n){return $r("checkForDuplicateSubcategory exception",n),!1}}},Ur=(0,Tr.v)()((0,Lr.Zr)(((e,t)=>({categories:[],version:1,loading:!1,error:null,async loadUserCategories(t){if(t){e({loading:!0,error:null});try{const r=await zr.getUserCategories(t);r&&Array.isArray(r.categories)?(e({categories:r.categories,version:r.version||1,loading:!1,error:null}),console.log(`[categoryStore] ${r.categories.length} categorii \xeenc\u0103rcate cu succes`)):(e({categories:[],version:1,loading:!1,error:null}),console.log("[categoryStore] Nici o categorie nu a fost g\u0103sit\u0103, se \xeencepe cu lista goal\u0103"))}catch(r){console.error("[categoryStore] Eroare la \xeenc\u0103rcarea categoriilor:",r),e({loading:!1,error:"Nu s-au putut \xeenc\u0103rca categoriile. Verific\u0103 conexiunea."})}}else console.warn("[categoryStore] loadUserCategories: utilizator neautentificat")},async saveCategories(r,n){e({loading:!0,error:null});const a=await zr.saveUserCategories(r,{categories:n,version:t().version+1});e(a?{categories:n,version:t().version+1,loading:!1}:{loading:!1,error:"Eroare la salvarea categoriilor."})},async renameSubcategory(r,n,a,i){const s=t().categories.map((e=>e.name===n?{...e,subcategories:e.subcategories.map((e=>e.name===a?{...e,name:i}:e))}:e));return await zr.saveUserCategories(r,{categories:s,version:t().version+1}),await zr.updateTransactionsForSubcategoryRename(r,n,a,i),e({categories:s,version:t().version+1}),!0},async deleteSubcategory(r,n,a,i,s){const o=t().categories.map((e=>e.name===n?{...e,subcategories:e.subcategories.filter((e=>e.name!==a))}:e));return await zr.saveUserCategories(r,{categories:o,version:t().version+1}),await zr.handleSubcategoryDeletion(r,n,a,i,s),e({categories:o,version:t().version+1}),!0},mergeWithDefaults(r){const n=t().categories,a=r.map((e=>{const t=n.find((t=>t.name===e.name));if(t){const r=t.subcategories.map((e=>e.name));return{...e,subcategories:[...t.subcategories,...e.subcategories.filter((e=>!r.includes(e.name)))],isCustom:t.isCustom}}return e})),i=n.filter((e=>!r.some((t=>t.name===e.name))));e({categories:[...a,...i]})},getSubcategoryCount:(e,t)=>Pr.getState().transactions.filter((r=>r.category===e&&r.subcategory===t)).length})),{name:"category-store",partialize:e=>({categories:e.categories,version:e.version})}));function Mr(e){return w.C[e]||e}const Fr=t=>{let{onSave:r,onCancel:n}=t;const{form:a,error:i,success:d,loading:h,setField:f,handleSubmit:p,resetForm:m}=Ir(),g=(0,e.useCallback)((e=>{const{name:t,value:r,type:n}=e.target,a="checkbox"===n,i=a?e.target.checked:void 0;f(t,a?i:r),"recurring"===t&&a&&!1===i&&f("frequency",""),"type"===t&&(f("category",""),f("subcategory","")),"category"===t&&f("subcategory","")}),[f]),v=(0,e.useCallback)((async e=>{e.preventDefault(),await p(),null===r||void 0===r||r(a),m()}),[p,m,a,r]),y=Ur((e=>e.categories)),b=e.useMemo((()=>{if(!a.type)return[];const e=(t=a.type,Cr[t]||[]);var t;return e.length?y.filter((t=>e.includes(t.name))):[]}),[a.type,y]),w=e.useMemo((()=>b.map((e=>({value:e.name,label:e.name.charAt(0)+e.name.slice(1).toLowerCase().replace(/_/g," ")+(e.isCustom?" \u27a1\ufe0f":"")})))),[b]),N=e.useMemo((()=>{if(!a.category)return[];const e=y.find((e=>e.name===a.category));return e?e.subcategories.map((e=>({value:e.name,label:e.name+(e.isCustom?" \u27a1\ufe0f":""),customStyle:e.isCustom?"text-blue-600":void 0}))):[]}),[a.category,y]);return(0,s.jsxs)("form",{"aria-label":A,onSubmit:v,className:"flex flex-wrap gap-3 mb-6 items-end","data-testid":"transaction-form",children:[(0,s.jsx)(u,{name:"type",label:_+"*:",value:a.type,onChange:g,"aria-label":_,options:W.TYPE,className:"ml-2",placeholder:I,"data-testid":"type-select"}),(0,s.jsx)(l,{name:"amount",type:"number",label:k+"*:",value:a.amount,onChange:g,"aria-label":k,placeholder:L,className:"ml-2","data-testid":"amount-input"}),(0,s.jsx)(u,{name:"category",label:x+"*:",value:a.category,onChange:g,"aria-label":x,options:w,className:"ml-2",disabled:!a.type||0===w.length,placeholder:I,"data-testid":"category-select"}),(0,s.jsx)(u,{name:"subcategory",label:S,value:a.subcategory,onChange:g,"aria-label":S,options:N,className:"ml-2",disabled:!a.category||0===N.length,placeholder:I,"data-testid":"subcategory-select"}),(0,s.jsx)(l,{name:"date",type:"date",label:E+"*:",value:a.date,onChange:g,"aria-label":E,placeholder:$,className:"ml-2","data-testid":"date-input"}),(0,s.jsx)(c,{name:"recurring",label:C+"?",checked:a.recurring,onChange:g,"aria-label":C,"data-testid":"recurring-checkbox"}),(0,s.jsx)(u,{name:"frequency",label:T,value:a.frequency,onChange:g,"aria-label":T,options:W.FREQUENCY,className:"ml-2",disabled:!a.recurring,placeholder:I,"data-testid":"frequency-select"}),(0,s.jsx)(o,{type:"submit",disabled:!!h,className:"ml-2","data-testid":"add-transaction-button","aria-label":D,children:D}),(0,s.jsx)(o,{type:"button",className:"ml-2","data-testid":"cancel-btn",onClick:()=>{m(),null===n||void 0===n||n()},children:z}),i&&(0,s.jsx)("span",{"data-testid":"error-message",role:"alert","aria-label":"error message",className:"text-error block mt-2",children:Mr(i)}),d&&(0,s.jsx)("span",{"data-testid":"success-message",role:"alert","aria-label":"success message",className:"text-success block mt-2",children:Mr(d)})]})},Zr=e=>{let{offset:t,limit:r,onPageChange:n}=e;console.log("\ud83d\udd03 TransactionTable render");const a=Pr((e=>e.transactions)),i=Pr((e=>e.loading)),l=Pr((e=>e.total));return(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("table",{className:"w-full border-collapse rounded-lg overflow-hidden shadow-sm bg-white","data-testid":"transaction-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-secondary-50 text-secondary-700",children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:Z.HEADERS.TYPE}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:Z.HEADERS.AMOUNT}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:Z.HEADERS.CATEGORY}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:Z.HEADERS.SUBCATEGORY}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:Z.HEADERS.DATE}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:Z.HEADERS.RECURRING}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold",children:Z.HEADERS.FREQUENCY})]})}),(0,s.jsx)("tbody",{children:i?(0,s.jsx)("tr",{"data-testid":"transaction-table-loading",children:(0,s.jsx)("td",{colSpan:7,className:"text-center py-6 text-secondary-500",children:Z.LOADING})}):a&&0!==a.length?a.map(((e,t)=>(0,s.jsxs)("tr",{className:"border-b last:border-b-0 hover:bg-secondary-100","data-testid":`transaction-item-${e.id||t}`,children:[(0,s.jsx)("td",{className:"px-3 py-2",children:e.type||""}),(0,s.jsx)("td",{className:"px-3 py-2",children:void 0!==e.amount&&null!==e.amount?String(e.amount):""}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.category||""}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.subcategory||""}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.date||""}),(0,s.jsx)("td",{className:"px-3 py-2",children:!0===e.recurring?Z.BOOL.YES:Z.BOOL.NO}),(0,s.jsx)("td",{className:"px-3 py-2",children:!0===e.recurring&&e.frequency?e.frequency:""})]},e.id||t))):(0,s.jsx)("tr",{"data-testid":"transaction-table-empty",children:(0,s.jsx)("td",{colSpan:7,className:"text-center py-6 text-secondary-400",children:Z.EMPTY})})})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-2 items-center justify-center",children:[(0,s.jsx)(o,{variant:"secondary",onClick:()=>n(Math.max(0,t-r)),disabled:0===t,children:F}),(0,s.jsx)("span",{className:"text-sm text-secondary-600",children:Z.PAGE_INFO.replace("{current}",String(Math.floor(t/r)+1)).replace("{total}",String(Math.ceil(l/r)||1))}),(0,s.jsx)(o,{variant:"secondary",onClick:()=>n(t+r),disabled:t+r>=l||t>=l,children:M})]})]})},Br=t=>{let{type:r="",category:n="",onTypeChange:a=()=>{},onCategoryChange:i=()=>{}}=t;const l=W.TYPE,c=Ur((e=>e.categories)),d=e.useMemo((()=>c.map((e=>({value:e.name,label:e.name.charAt(0)+e.name.slice(1).toLowerCase().replace(/_/g," ")+(e.isCustom?" \u27a1\ufe0f":"")})))),[c]);return(0,s.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,s.jsx)(u,{name:"type-filter",label:N,value:r||"","data-testid":"type-filter",onChange:e=>{const t=e.target.value;console.log("[TransactionFilters] onTypeChange fired with:",t),a(t)},options:l,className:"ml-2",placeholder:I+" tipul"}),(0,s.jsx)(u,{name:"category-filter",label:j,value:n||"","data-testid":"category-filter",onChange:e=>i(e.target.value),options:d,className:"ml-2",placeholder:I+" categoria"}),(0,s.jsx)(o,{variant:"secondary",onClick:()=>{a(""),i("")},children:"Reseteaz\u0103 filtre"})]})},Vr=(0,Tr.v)(((e,t)=>({filterType:"",filterCategory:"",limit:d,offset:h,sort:f,totalItems:0,setFilterType:t=>e({filterType:t,offset:0}),setFilterCategory:t=>e({filterCategory:t,offset:0}),setLimit:t=>e({limit:t}),setOffset:t=>e({offset:t}),setSort:t=>e({sort:t}),setTotalItems:t=>e({totalItems:t}),resetFilters:()=>e({filterType:"",filterCategory:"",limit:d,offset:h,sort:f}),nextPage:()=>{const{offset:r,limit:n,totalItems:a}=t(),i=r+n;i<a&&e({offset:i})},prevPage:()=>{const{offset:r,limit:n}=t(),a=Math.max(0,r-n);e({offset:a})},goToPage:r=>{const{limit:n,totalItems:a}=t(),i=Math.ceil(a/n)||1,s=Math.max(1,Math.min(r,i));e({offset:(s-1)*n})},getCurrentPage:()=>{const{offset:e,limit:r}=t();return Math.floor(e/r)+1},getTotalPages:()=>{const{totalItems:e,limit:r}=t();return Math.ceil(e/r)||1},getQueryParams:()=>{const{filterType:e,filterCategory:r,limit:n,offset:a,sort:i}=t();return{type:e,category:r,limit:n,offset:a,sort:i}}}))),qr=()=>{const t=Pr((e=>e.currentQueryParams)),r=Pr((e=>e.setQueryParams)),n=t.limit||10,a=t.offset||0,i=(Math.floor(a/n),Vr((e=>e.filterType))||""),o=Vr((e=>e.filterCategory))||"",l=Vr((e=>e.setFilterType)),u=Vr((e=>e.setFilterCategory)),c=e.useCallback((e=>{r({...t,offset:(e-1)*n})}),[t,n,r]),d=e.useRef({type:"",category:"",offset:0,limit:10});e.useEffect((()=>{if(d.current.type!==i||d.current.category!==o||d.current.offset!==a||d.current.limit!==n){console.log(`Filters changed, fetching transactions with: type=${i}, category=${o}, offset=${a}, limit=${n}`),d.current={type:i,category:o,offset:a,limit:n};const e=Pr.getState();e.setQueryParams({...e.currentQueryParams,type:i,category:o,offset:a,limit:n,month:void 0,year:void 0,includeAdjacentDays:void 0}),e.fetchTransactions(!0)}}),[i,o,a,n]),e.useEffect((()=>{const e=Pr.getState();e.currentQueryParams.month||e.currentQueryParams.year?(console.log("Resetting LunarGrid specific params"),e.setQueryParams({...e.currentQueryParams,month:void 0,year:void 0,includeAdjacentDays:void 0}),e.fetchTransactions(!0)):0!==e.transactions.length||e.loading||(console.log("Initial fetch for TransactionsPage - no transactions found"),e.fetchTransactions())}),[]);const h=Pr((e=>e.error)),f=e.useCallback((e=>c(Math.floor(e/n)+1)),[c,n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6","data-testid":"transactions-title",children:O}),(0,s.jsx)(Fr,{}),(0,s.jsx)(Br,{type:i,category:o,onTypeChange:e=>l(e),onCategoryChange:e=>u(e)}),(0,s.jsx)(Zr,{offset:a,limit:n,onPageChange:f}),h&&(0,s.jsx)("div",{className:"mt-4 p-2 bg-red-100 text-red-700 rounded","data-testid":"fetch-error",children:h})]})},Wr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,r)=>r?r.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Hr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t)).join(" ").trim()},Gr=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Kr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qr=(0,e.forwardRef)(((t,r)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...c}=t;return(0,e.createElement)("svg",{ref:r,...Kr,width:a,height:a,stroke:n,strokeWidth:s?24*Number(i)/Number(a):i,className:Hr("lucide",o),...!l&&!Gr(c)&&{"aria-hidden":"true"},...c},[...u.map((t=>{let[r,n]=t;return(0,e.createElement)(r,n)})),...Array.isArray(l)?l:[l]])})),Jr=(t,r)=>{const n=(0,e.forwardRef)(((n,a)=>{let{className:i,...s}=n;return(0,e.createElement)(Qr,{ref:a,iconNode:r,className:Hr(`lucide-${o=Wr(t),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,i),...s});var o}));return n.displayName=Wr(t),n},Yr=Jr("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Xr=Jr("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),en=Jr("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),tn=Jr("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),rn=t=>{let{initialAmount:r,day:n,month:a,year:i,category:d,subcategory:h,type:f,onSave:p,onCancel:m,anchorRef:g}=t;const[v,y]=e.useState(r||""),[b,w]=e.useState(!1),[_,x]=e.useState(""),S=(0,e.useRef)(null),E=(0,e.useCallback)((()=>{v&&!isNaN(Number(v))&&p({amount:v,recurring:b,frequency:_})}),[v,b,_,p]);return(0,e.useEffect)((()=>{var e;null===(e=S.current)||void 0===e||e.focus()}),[]),(0,e.useEffect)((()=>{function e(e){if(document.activeElement!==S.current){var t;if(e.key>="0"&&e.key<="9")y((t=>"0"===t?e.key:t+e.key)),null===(t=S.current)||void 0===t||t.focus(),e.preventDefault();"Enter"===e.key&&(E(),e.preventDefault()),"Escape"===e.key&&(m(),e.preventDefault())}}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[m,E]),(0,s.jsxs)("div",{className:"bg-white rounded shadow-lg p-4 flex flex-col gap-2 z-50","data-testid":"cell-transaction-popover",children:[(0,s.jsxs)("label",{htmlFor:"amount-input",className:"font-medium",children:[k,"*"]}),(0,s.jsx)(l,{id:"amount-input",name:"amount",type:"number",value:v,onChange:e=>y(e.target.value),placeholder:L,"data-testid":"cell-amount-input",min:.01,step:"0.01",maxLength:12,autoFocus:!0,inputRef:S}),(0,s.jsx)(c,{name:"recurring",checked:b,onChange:e=>w(e.target.checked),label:C,"data-testid":"cell-recurring-checkbox"}),b&&(0,s.jsx)(u,{name:"frequency",value:_,onChange:e=>x(e.target.value),options:W.FREQUENCY,placeholder:I,"data-testid":"cell-frequency-select"}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)(o,{type:"button",onClick:E,"data-testid":"cell-save-btn",className:"bg-primary text-white px-4 py-1 rounded",children:D}),(0,s.jsx)(o,{type:"button",onClick:m,"data-testid":"cell-cancel-btn",className:"bg-gray-200 px-4 py-1 rounded",children:z})]})]})},nn=t=>{let{categoryKey:r,subcategories:n,transactions:a,days:i,popover:o,handleCellClick:l,handleCellDoubleClick:u,handleSavePopover:c,handleClosePopover:d,handleEditSubcategory:h,handleDeleteSubcategory:f,isCustomSubcategory:p,user:m,addingCategory:g,onStartAddSubcategory:v,onAddSubcategory:y,onCancelAddSubcategory:b}=t;const{renameSubcategory:_}=Ur(),[k,x]=(0,e.useState)(""),[S,E]=(0,e.useState)(null),[C,T]=(0,e.useState)("");return(0,s.jsxs)(s.Fragment,{children:[n.map((e=>S===e?(0,s.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,s.jsx)("td",{className:"sticky left-0 bg-white z-10 px-4 py-2 pl-8",children:(0,s.jsxs)("div",{className:"flex items-center w-full",children:[(0,s.jsx)("input",{className:"w-full border border-gray-300 px-2 py-1 rounded",value:C,onChange:e=>T(e.target.value),onKeyDown:async t=>{"Enter"===t.key&&(await _(m.id||m,r,e,C.trim()),E(null)),"Escape"===t.key&&E(null)},autoFocus:!0,"data-testid":`edit-subcat-input-${e}`}),(0,s.jsx)("button",{className:"ml-2 text-green-600 hover:text-green-800",onClick:async()=>{await _(m.id||m,r,e,C.trim()),E(null)},"data-testid":`confirm-rename-${e}`,children:U}),(0,s.jsx)("button",{className:"ml-2 text-red-600 hover:text-red-800",onClick:()=>E(null),"data-testid":`cancel-rename-${e}`,children:z})]})}),i.map((e=>(0,s.jsx)("td",{},e)))]},`edit-${e}`):(0,s.jsxs)("tr",{className:"group hover:bg-gray-100 border-t border-gray-200","data-testid":`subcategory-row-${r}-${e}`,children:[(0,s.jsxs)("td",{className:"sticky left-0 bg-white z-10 px-4 py-2 pl-8","data-testid":`subcat-${e}`,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-0 border-t border-gray-400 mr-2"}),(0,s.jsxs)("span",{"data-testid":`subcat-label-${e}`,children:[e," ",p(r,e)&&(0,s.jsx)("span",{className:"text-blue-600 text-sm ml-1",children:"\u27a1\ufe0f"})]})]}),m&&(0,s.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 mr-2 hidden [.group:hover_&]:!flex gap-2",children:p(r,e)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"p-1 text-gray-500 hover:text-blue-600 focus:outline-none",onClick:t=>{t.stopPropagation(),E(e),T(e)},title:"Editeaz\u0103 subcategorie","data-testid":`edit-subcat-${r}-${e}`,children:(0,s.jsx)(en,{size:14})}),(0,s.jsx)("button",{className:"p-1 text-gray-500 hover:text-red-600 focus:outline-none",onClick:t=>{t.stopPropagation(),window.confirm(w.C.CONFIRMARE_STERGERE)&&f(r,e)},title:"\u0218terge subcategorie","data-testid":`delete-subcat-${r}-${e}`,children:(0,s.jsx)(tn,{size:14})})]}):(0,s.jsx)("button",{className:"p-1 text-gray-400 hover:text-blue-600 focus:outline-none",onClick:t=>{t.stopPropagation(),E(e),T(e)},title:"Redenume\u0219te subcategoria","data-testid":`rename-subcat-${r}-${e}`,children:(0,s.jsx)(en,{size:14})})})]}),i.map((t=>{var n,i;const h=a.filter((n=>n.category===r&&n.subcategory===e&&new Date(n.date).getDate()===t)).reduce(((e,t)=>e+("COMPLETED"===t.status&&"number"===typeof t.actualAmount?t.actualAmount:t.amount)),0);return(0,s.jsxs)("td",{className:"px-4 py-2 text-right "+(0!==h?h>0?"text-green-600 font-medium":"text-red-600 font-medium":"text-gray-500"),"data-testid":`cell-${r}-${e}-${t}`,tabIndex:0,onClick:n=>l(n,r,e,t,0!==h?String(h):"",""),onDoubleClick:n=>u(n,r,e,t,0!==h?String(h):""),children:[0!==h?h.toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2}):"\u2014",o&&o.category===r&&o.subcategory===e&&o.day===t&&(0,s.jsx)("div",{style:{position:"absolute",left:(null===(n=o.anchorRect)||void 0===n?void 0:n.left)||0,top:((null===(i=o.anchorRect)||void 0===i?void 0:i.top)||0)+40,zIndex:100},"data-testid":`popover-cell-${r}-${e}-${t}`,children:(0,s.jsx)(rn,{initialAmount:o.initialAmount,day:o.day,month:o.day,year:o.day,category:o.category,subcategory:o.subcategory,type:o.type,onSave:c,onCancel:d})})]},t)}))]},`${r}-${e}`))),!g&&v&&(0,s.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,s.jsx)("td",{className:"sticky left-0 bg-white z-10 px-4 py-2 pl-8",children:(0,s.jsx)("button",{className:"text-blue-600 hover:text-blue-800",onClick:()=>v(r),"data-testid":`start-add-${r}`,children:"Adaug\u0103 subcategorie"})}),i.map((e=>(0,s.jsx)("td",{},`empty-${e}`)))]},"start-add-row"),g===r&&(0,s.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,s.jsx)("td",{className:"sticky left-0 bg-white z-10 px-4 py-2 pl-8",children:(0,s.jsxs)("div",{className:"flex items-center w-full",children:[(0,s.jsx)("input",{className:"w-full border border-gray-300 px-2 py-1 rounded",placeholder:"Nume subcategorie","data-testid":"add-subcat-input",value:k,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(null===y||void 0===y||y(r,k)),"Escape"===e.key&&(null===b||void 0===b||b())}}),(0,s.jsx)("button",{className:"ml-2 text-green-600 hover:text-green-800",onClick:()=>null===y||void 0===y?void 0:y(r,k),"data-testid":`confirm-add-${r}`,children:"Done"}),(0,s.jsx)("button",{className:"ml-2 text-red-600 hover:text-red-800",onClick:()=>null===b||void 0===b?void 0:b(),"data-testid":`cancel-add-${r}`,children:"Cancel"})]})}),i.map((e=>(0,s.jsx)("td",{},e)))]},"add-row")]})};function an(e){return 0===e?"RON 0.00":`RON ${Math.abs(e).toLocaleString("ro-RO",{minimumFractionDigits:2,maximumFractionDigits:2})}`}const sn="budget-app-category-expand",on=t=>{let{year:r,month:n}=t;const[a,i]=e.useState(null),o=Ur((e=>e.categories)),l=(Ur((e=>e.loadUserCategories)),Ur((e=>e.mergeWithDefaults)),Ur((e=>e.deleteSubcategory))),u="Extinde toate categoriile",c="Colapseaz\u0103 toate categoriile",d=((e,t)=>{const r=new Date(e,t,0);return Array.from({length:r.getDate()},((e,t)=>t+1))})(r,n),{transactions:h}=function(t,r){const n=Pr(),a=e.useRef({year:t,month:r});e.useEffect((()=>{a.current.year===t&&a.current.month===r||(console.log(`Parameters changed: ${a.current.year}-${a.current.month} -> ${t}-${r}`),a.current={year:t,month:r},console.log(`Invalidating cache for ${t}-${r}`),n._invalidateMonthCache(t,r))}),[r,t,n]);const i=e.useMemo((()=>{new Date(t,r-1,1),new Date(t,r,0);const e=1===r?t-1:t,a=1===r?12:r-1,i=new Date(e,a,0).getDate()-5,s=12===r?t+1:t,o=12===r?1:r+1;console.log(`Filtering transactions for ${t}-${r} + adjacent days`),console.log(`Total transactions before filtering: ${n.transactions.length}`);const l=n.transactions.filter((n=>{try{if(!n.date||"string"!==typeof n.date)return!1;const l=new Date(n.date);if(isNaN(l.getTime()))return console.warn(`Invalid date found in transaction: ${n.id}, date: ${n.date}`),!1;const u=l.getDate(),c=l.getMonth()+1,d=l.getFullYear();return d===t&&c===r||d===e&&c===a&&u>=i||d===s&&c===o&&u<=6}catch(l){return console.error("Error filtering transaction:",l,n),!1}}));return console.log(`Filtered transactions: ${l.length}`),l}),[n.transactions,t,r]);return{transactions:i}}(r,n),[f,p]=e.useState((()=>{try{const e=localStorage.getItem(sn);return e?JSON.parse(e):{}}catch(e){return console.error("Error loading expanded categories from localStorage:",e),{}}})),m=e.useCallback((()=>{const e={};o.forEach((t=>{e[t.name]=!0})),p(e);try{localStorage.setItem(sn,JSON.stringify(e))}catch{}}),[o]),y=e.useCallback((()=>{const e={};o.forEach((t=>{e[t.name]=!1})),p(e);try{localStorage.setItem(sn,JSON.stringify(e))}catch{}}),[o]),b=e.useMemo((()=>{const e={};return o.forEach((t=>{e[t.name]=function(e,t){const r={};return e.forEach((e=>{if(e.category===t){const t=new Date(e.date).getDate(),n=e.status===v.COMPLETED&&"number"===typeof e.actualAmount?e.actualAmount:e.amount;r[t]=(r[t]||0)+n}})),r}(h,t.name)})),e}),[h,o]),w=e.useRef(null),_=e.useCallback((()=>{console.log(" Marking transaction added for subtle refresh..."),w.current={timestamp:Date.now(),processed:!1},setTimeout((()=>{w.current&&(w.current.processed=!0),setTimeout((()=>{Pr.getState()._invalidateMonthCache(r,n),Pr.getState().fetchTransactions(!0)}),100)}),100)}),[r,n]),k=e.useMemo((()=>d.reduce(((e,t)=>(e[t]=function(e,t){return e.filter((e=>new Date(e.date).getDate()===t)).reduce(((e,t)=>{const r=t.status===v.COMPLETED&&"number"===typeof t.actualAmount?t.actualAmount:t.amount;return t.type===g.INCOME?e+r:e-Math.abs(r)}),0)}(h,t),e)),{})),[d,h]),x=e=>0===e?"text-gray-500":e>0?"text-green-600 font-medium":"text-red-600 font-medium",[S,E]=e.useState(null),C=e=>"VENITURI"===e?g.INCOME:"ECONOMII"===e?g.SAVING:g.EXPENSE,T=(e,t,r,n,a,i)=>{if(S&&S.category===t&&S.subcategory===r&&S.day===n)return;const s=C(t);E({category:t,subcategory:r,day:n,anchorRect:e.currentTarget.getBoundingClientRect(),initialAmount:a,type:s})},N=Pr(),j=e.useCallback(((e,t,a,i,s)=>{e.preventDefault();const o=C(t),l=window.prompt(q.ENTER_AMOUNT,s.replace(/[^0-9.-]/g,""));if(!l)return;if(isNaN(Number(l)))return void alert("Suma introdus\u0103 nu este valid\u0103!");const u=new Date(r,n-1,i);N.saveTransaction({amount:Number(l),category:t,subcategory:a,type:o,date:u.toISOString().slice(0,10),recurring:!1,frequency:void 0,currency:"RON"}).then((()=>{console.log(`Tranzac\u021bie salvat\u0103 cu success: ${t} / ${a} / ${i} = ${l} RON`),console.log(" Invalidating cache after save (double click)..."),N._invalidateMonthCache(r,n),_()})).catch((e=>{console.error("Eroare la salvare tranzac\u021bie:",e)}))}),[n,r,N]),A=async e=>{if(S){console.log("Saving transaction with data:",e);try{const{category:t,subcategory:a,day:i,type:s}=S,{amount:o,recurring:l,frequency:u}=e,c=new Date(r,n-1,i),d={amount:Number(o),category:t,subcategory:a,type:s,date:c.toISOString().slice(0,10),recurring:l,frequency:u||void 0,currency:"RON"};console.log("Sending transaction data:",d),await N.saveTransaction(d),console.log(" Invalidating cache after save (popover)..."),N._invalidateMonthCache(r,n),_()}catch(t){console.error("Error saving transaction:",t)}finally{E(null)}}},O=()=>E(null),{user:R}=(0,Rr.useAuthStore)(),P=e.useCallback(((e,t)=>{R&&l(R.id,e,t,"delete")}),[l,R]),I=(e,t)=>{const r=o.find((t=>t.name===e));if(!r)return!1;const n=r.subcategories.find((e=>e.name===t));return(null===n||void 0===n?void 0:n.isCustom)||!1},[L,$]=e.useState(null),{categories:D,saveCategories:z}=Ur();return(0,s.jsxs)(e.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-end space-x-2 mb-2",children:[(0,s.jsx)("button",{onClick:m,className:"px-2 py-1 bg-gray-200 rounded hover:bg-gray-300","data-testid":"expand-all-btn",children:u}),(0,s.jsx)("button",{onClick:y,className:"px-2 py-1 bg-gray-200 rounded hover:bg-gray-300","data-testid":"collapse-all-btn",children:c})]}),(0,s.jsx)("div",{className:"overflow-x-auto rounded-lg shadow bg-white",children:(0,s.jsxs)("table",{className:"min-w-full text-sm align-middle border-separate border-spacing-0","data-testid":"lunar-grid-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("th",{className:"sticky left-0 z-20 bg-gray-50 px-4 py-2 text-left",style:{minWidth:180},children:B.LUNA}),d.map((e=>(0,s.jsx)("th",{className:"px-4 py-2 text-right",children:e},e)))]})}),(0,s.jsxs)("tbody",{children:[o.map((t=>{const r=t.name,n=t.subcategories.map((e=>e.name)),a=!!f[r],o=b[r]||{};return(0,s.jsxs)(e.Fragment,{children:[(0,s.jsxs)("tr",{className:"bg-teal-100 hover:bg-teal-200 cursor-pointer",onClick:()=>(e=>{p((t=>{const r={...t,[e]:!t[e]};try{localStorage.setItem(sn,JSON.stringify(r))}catch(n){console.error("Error saving to localStorage:",n)}return r}))})(r),"data-testid":`category-row-${r}`,children:[(0,s.jsxs)("td",{className:"sticky left-0 bg-teal-100 hover:bg-teal-200 z-10 font-semibold px-4 py-2 flex items-center","data-testid":`category-header-${r}`,children:[a?(0,s.jsx)(Yr,{size:16,className:"mr-1","data-testid":`category-expanded-${r}`}):(0,s.jsx)(Xr,{size:16,className:"mr-1","data-testid":`category-collapsed-${r}`}),r]}),d.map((e=>{const t=o[e]||0;return(0,s.jsx)("td",{className:`px-4 py-2 text-right ${x(t)}`,"data-testid":`category-total-${r}-${e}`,children:0!==t?an(t):"\u2014"},e)}))]}),a&&(0,s.jsx)(nn,{categoryKey:r,subcategories:n,transactions:h,days:d,popover:S,handleCellClick:T,handleCellDoubleClick:j,handleSavePopover:A,handleClosePopover:O,handleEditSubcategory:(e,t)=>{i({category:e,subcategory:t,mode:"edit"})},handleDeleteSubcategory:P,isCustomSubcategory:I,user:R,addingCategory:L,onAddSubcategory:async(e,t)=>{if(!R||!t.trim())return;const r=D.find((t=>t.name===e));if(!r||r.subcategories.some((e=>e.name.toLowerCase()===t.trim().toLowerCase())))return;const n=D.map((r=>r.name===e?{...r,subcategories:[...r.subcategories,{name:t.trim(),isCustom:!0}]}:r));await z(R.id,n),$(null)},onCancelAddSubcategory:()=>$(null),onStartAddSubcategory:e=>$(e)})]},r)})),(0,s.jsxs)("tr",{className:"bg-gray-100 font-bold border-t-2",children:[(0,s.jsx)("td",{className:"sticky left-0 bg-gray-100 z-10 px-4 py-2","data-testid":"sold-label",children:B.SOLD}),d.map((e=>{const t=k[e];return(0,s.jsx)("td",{className:`px-4 py-2 text-right ${x(t)}`,"data-testid":`sold-day-${e}`,children:an(t)},e)}))]})]})]})})]})},ln=()=>{const[t,r]=e.useState((()=>(new Date).getFullYear())),[n,a]=e.useState((()=>(new Date).getMonth()+1)),i=Pr((e=>e.fetchTransactions)),o=Pr((e=>e.loading)),{user:l}=(0,Rr.useAuthStore)(),u=Ur((e=>e.loadUserCategories)),c=Ur((e=>e.mergeWithDefaults)),d=e.useRef(!1);e.useEffect((()=>{if(d.current)return;if(!l)return;(async()=>{try{console.log("LunarGridPage: Ini\u021bializare categorii personalizate"),await u(l.id);const e=Object.entries(Er).map((e=>{let[t,r]=e;return{name:t,subcategories:Object.values(r).flat().map((e=>({name:e,isCustom:!1}))),isCustom:!1}}));c(e),d.current=!0,console.log("LunarGridPage: Categorii ini\u021bializate cu succes")}catch(e){console.error("Eroare la ini\u021bializarea categoriilor:",e)}})()}),[l,u,c]);const h=e.useRef(null);e.useEffect((()=>{var e,r;if((null===(e=h.current)||void 0===e?void 0:e.year)===t&&(null===(r=h.current)||void 0===r?void 0:r.month)===n)return;h.current={year:t,month:n};const a=Pr.getState();setTimeout((()=>{a.setQueryParams({...a.currentQueryParams,year:t,month:n,includeAdjacentDays:!0}),setTimeout((()=>{a.fetchTransactions(!0)}),0)}),0);const i=new URLSearchParams(window.location.search);i.set("month",`${t}-${n.toString().padStart(2,"0")}`);const s=window.location.hash,o=`${window.location.pathname}?${i}${s}`;window.history.replaceState({},"",o),console.log(`LunarGridPage: Set query params for ${t}-${n}`)}),[t,n]),e.useEffect((()=>{Pr.getState().transactions.length>0||(console.log("LunarGridPage: Initial fetch - no transactions found"),i())}),[i]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold","data-testid":"lunar-grid-title",children:R}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("a",{href:"#options",className:"text-sm text-blue-600 underline","data-testid":"manage-categories-link",onClick:e=>{e.preventDefault();const t=`${window.location.pathname}#options`;window.history.replaceState({},"",t),window.dispatchEvent(new HashChangeEvent("hashchange"))},children:Q})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>{1===n?(a(12),r(t-1)):a(n-1)},className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300","data-testid":"prev-month-btn",children:"\u2190"}),(0,s.jsxs)("span",{className:"text-lg font-medium","data-testid":"current-month",children:[(e=>["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"][e-1])(n)," ",t]}),(0,s.jsx)("button",{onClick:()=>{12===n?(a(1),r(t+1)):a(n+1)},className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300","data-testid":"next-month-btn",children:"\u2192"})]})]}),o?(0,s.jsx)("div",{className:"text-center py-8","data-testid":"loading-indicator",children:V}):(0,s.jsx)(on,{year:t,month:n})]})},un=t=>{var r;let{open:n,onClose:a,userId:i,initialCategory:o,initialSubcategory:l,initialMode:u="add"}=t;const{categories:c,saveCategories:d,renameSubcategory:h,deleteSubcategory:f,getSubcategoryCount:p}=Ur(),[m,g]=(0,e.useState)(o||null),[v,y]=(0,e.useState)(o&&l&&"edit"===u?{cat:o,subcat:l}:null),[b,w]=(0,e.useState)(l||""),[_,k]=(0,e.useState)(o&&l&&"delete"===u?{cat:o,subcat:l}:null),[x,S]=(0,e.useState)("delete"===u&&!!o&&!!l),[E,C]=(0,e.useState)(""),[T,N]=(0,e.useState)(null);if((0,e.useEffect)((()=>{n&&o&&l&&(g(o),"edit"===u?(y({cat:o,subcat:l}),w(l),k(null),S(!1)):"delete"===u?(S(!0),y(null),k({cat:o,subcat:l})):"add"===u&&(y(null),k(null),S(!1),setTimeout((()=>{const e=document.querySelector('[data-testid="add-subcat-input"]');e instanceof HTMLInputElement&&e.focus()}),100)))}),[n,o,l,u]),!n)return null;const j=(e,t)=>{const r=p(e,t);return r>0?(0,s.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-gray-200 text-xs rounded","data-testid":`subcat-count-${e}-${t}`,children:r}):null},A=async e=>{if(!E.trim())return N("Numele nu poate fi gol");if(e.subcategories.some((e=>e.name.toLowerCase()===E.trim().toLowerCase())))return N("Exist\u0103 deja o subcategorie cu acest nume");const t=c.map((t=>t.name===e.name?{...t,subcategories:[...t.subcategories,{name:E.trim(),isCustom:!0}]}:t));await d(i,t),C(""),N(null)},O=async(e,t,r)=>{var n;return r.trim()?null!==(n=c.find((t=>t.name===e)))&&void 0!==n&&n.subcategories.some((e=>e.name.toLowerCase()===r.trim().toLowerCase()))?N("Exist\u0103 deja o subcategorie cu acest nume"):(await h(i,e,t,r.trim()),y(null),void N(null)):N("Numele nu poate fi gol")},R=t=>{let{cat:r,subcat:n}=t;(0,e.useEffect)((()=>{const e=c.find((e=>e.name===r)),t=null===e||void 0===e?void 0:e.subcategories.find((e=>e.name===n));t&&!t.isCustom&&(N("Nu se pot \u0219terge subcategoriile predefinite, doar cele personalizate."),S(!1),k(null))}),[r,n,c]);const o=p(r,n);return(0,s.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4","data-testid":`delete-confirm-${r}-${n}`,children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Confirmare \u0219tergere"}),(0,s.jsxs)("p",{className:"mb-2",children:["E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi subcategoria ",(0,s.jsx)("strong",{children:n})," din ",(0,s.jsx)("strong",{children:r}),"?"]}),o>0&&(0,s.jsxs)("p",{className:"mb-2 text-red-600","data-testid":`delete-warning-${r}-${n}`,children:["Aten\u021bie: Exist\u0103 ",(0,s.jsx)("strong",{children:o})," tranzac\u021bii care folosesc aceast\u0103 subcategorie. Acestea vor fi mutate \xeen categoria principal\u0103."]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,s.jsx)("button",{onClick:async()=>{try{await f(i,r,n,"delete"),S(!1),k(null),y(null),"delete"===u&&a(),N(null)}catch(e){N("Eroare la \u0219tergerea subcategoriei"),console.error("Error deleting subcategory:",e)}},className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700","data-testid":`confirm-delete-${r}-${n}`,children:"Confirm\u0103 \u0219tergerea"}),(0,s.jsx)("button",{onClick:()=>{S(!1),k(null),"delete"===u&&a()},className:"border border-gray-300 px-4 py-1 rounded hover:bg-gray-100","data-testid":`cancel-delete-${r}-${n}`,children:"Anuleaz\u0103"})]})]})};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50","data-testid":"category-editor-modal",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-2xl relative",children:[(0,s.jsx)("button",{className:"absolute top-2 right-2",onClick:a,"data-testid":"close-editor",children:"\u2715"}),(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Gestionare Subcategorii"}),T&&(0,s.jsx)("div",{className:"text-red-500 mb-2","data-testid":"error-msg",children:T}),(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsxs)("div",{className:"w-1/3 border-r pr-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Categorii"}),(0,s.jsx)("ul",{children:c.map((e=>(0,s.jsx)("li",{className:"mb-2 "+(m===e.name?"font-bold text-blue-600":""),children:(0,s.jsx)("button",{onClick:()=>g(e.name),"data-testid":`cat-select-${e.name}`,children:e.name})},e.name)))})]}),(0,s.jsxs)("div",{className:"flex-1",children:[x&&_&&(0,s.jsx)(R,{cat:_.cat,subcat:_.subcat}),m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h3",{className:"font-semibold mb-2",children:["Subcategorii pentru ",(0,s.jsx)("span",{className:"text-blue-600",children:m})]}),(0,s.jsx)("ul",{children:null===(r=c.find((e=>e.name===m)))||void 0===r?void 0:r.subcategories.map((e=>(0,s.jsx)("li",{className:"flex items-center gap-2 mb-1",children:(null===v||void 0===v?void 0:v.cat)===m&&v.subcat===e.name?(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:b,onChange:e=>w(e.target.value),onKeyDown:t=>{"Enter"===t.key&&(O(m,e.name,b.trim()),y(null)),"Escape"===t.key&&y(null)},className:"border px-2 py-1 rounded",autoFocus:!0,"data-testid":`edit-subcat-input-${e.name}`}),(0,s.jsx)("button",{onClick:()=>{O(m,e.name,b.trim()),y(null)},className:"text-xs text-green-600","data-testid":`confirm-rename-${e.name}`,children:U}),(0,s.jsx)("button",{onClick:()=>y(null),className:"text-xs text-gray-500","data-testid":`cancel-rename-${e.name}`,children:z})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:e.name}),e.isCustom&&(0,s.jsx)("span",{className:"ml-1 text-green-600 text-xs","data-testid":`custom-flag-${e.name}`,children:"custom"}),j(m,e.name),(0,s.jsx)("button",{onClick:()=>{y({cat:m,subcat:e.name}),w(e.name)},className:"ml-2 text-blue-600 text-xs","data-testid":`edit-subcat-btn-${e.name}`,children:"Redenume\u0219te"}),e.isCustom&&(0,s.jsx)("button",{onClick:()=>(async(e,t)=>{const r=c.find((t=>t.name===e)),n=null===r||void 0===r?void 0:r.subcategories.find((e=>e.name===t));null!==n&&void 0!==n&&n.isCustom?(y(null),k({cat:e,subcat:t}),S(!0)):N("Nu se pot \u0219terge subcategoriile predefinite, doar cele personalizate.")})(m,e.name),className:"ml-1 text-red-600 text-xs","data-testid":`delete-subcat-btn-${e.name}`,children:"\u0218terge"})]})},e.name)))}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,s.jsx)("input",{type:"text",value:E,onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"===e.key&&A(c.find((e=>e.name===m))),"Escape"===e.key&&C("")},placeholder:"Adaug\u0103 subcategorie nou\u0103",className:"border px-2 py-1 rounded flex-1","data-testid":"add-subcat-input"}),(0,s.jsx)("button",{onClick:()=>A(c.find((e=>e.name===m))),className:"bg-blue-600 text-white px-3 py-1 rounded","data-testid":"add-subcat-btn",children:"Adaug\u0103"})]})]}):(0,s.jsx)("div",{className:"text-gray-500",children:"Selecteaz\u0103 o categorie pentru a vedea \u0219i edita subcategoriile."})]})]})]})})},cn=()=>{const{user:t}=(0,Rr.useAuthStore)(),[r,n]=(Ur(),e.useState(!1)),a=e.useRef(r);return t?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8","data-testid":"options-page",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:H||"Op\u021biuni"}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:G||"Gestionare categorii"}),(0,s.jsx)("p",{className:"mb-4",children:K||"Personaliza\u021bi categoriile \u0219i subcategoriile pentru a se potrivi nevoilor dvs. specifice de bugetare."}),(0,s.jsx)("button",{onClick:()=>n(!0),className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded","data-testid":"open-category-editor-btn",children:Q||"Gestionare categorii"})]}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:J||"Op\u021biuni de afi\u0219are"}),(0,s.jsx)("p",{className:"text-gray-500",children:X||"\xcen cur\xe2nd"})]}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:Y||"Export date"}),(0,s.jsx)("p",{className:"text-gray-500",children:X||"\xcen cur\xe2nd"})]}),(0,s.jsx)(un,{open:r,onClose:()=>{a.current=r,n(!1),console.log("[OptionsPage] Notificarea componentelor despre schimb\u0103ri \xeen categorii");const e=Date.now();localStorage.setItem("budget-app-last-category-update",e.toString()),console.log("[OptionsPage] Timestamp salvat:",new Date(e).toISOString())},userId:t.id})]}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8","data-testid":"options-page-not-logged",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:H||"Op\u021biuni"}),(0,s.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",role:"alert",children:(0,s.jsx)("p",{children:ee||"Trebuie s\u0103 fi\u021bi autentificat pentru a accesa aceast\u0103 pagin\u0103."})})]})};let dn={data:""},hn=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||dn,fn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pn=/\/\*[^]*?\*\/|  +/g,mn=/\n+/g,gn=(e,t)=>{let r="",n="",a="";for(let i in e){let s=e[i];"@"==i[0]?"i"==i[1]?r=i+" "+s+";":n+="f"==i[1]?gn(s,i):i+"{"+gn(s,"k"==i[1]?"":t)+"}":"object"==typeof s?n+=gn(s,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=s&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=gn.p?gn.p(i,s):i+":"+s+";")}return r+(t&&a?t+"{"+a+"}":a)+n},vn={},yn=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+yn(e[r]);return t}return e},bn=(e,t,r,n,a)=>{let i=yn(e),s=vn[i]||(vn[i]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(i));if(!vn[s]){let t=i!==e?e:(e=>{let t,r,n=[{}];for(;t=fn.exec(e.replace(pn,""));)t[4]?n.shift():t[3]?(r=t[3].replace(mn," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(mn," ").trim();return n[0]})(e);vn[s]=gn(a?{["@keyframes "+s]:t}:t,r?"":"."+s)}let o=r&&vn.g?vn.g:null;return r&&(vn.g=vn[s]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(vn[s],t,n,o),s};function wn(e){let t=this||{},r=e.call?e(t.p):e;return bn(r.unshift?r.raw?((e,t,r)=>e.reduce(((e,n,a)=>{let i=t[a];if(i&&i.call){let e=i(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":gn(e,""):!1===e?"":e}return e+n+(null==i?"":i)}),""))(r,[].slice.call(arguments,1),t.p):r.reduce(((e,r)=>Object.assign(e,r&&r.call?r(t.p):r)),{}):r,hn(t.target),t.g,t.o,t.k)}wn.bind({g:1});let _n,kn,xn,Sn=wn.bind({k:1});function En(e,t){let r=this||{};return function(){let n=arguments;function a(i,s){let o=Object.assign({},i),l=o.className||a.className;r.p=Object.assign({theme:kn&&kn()},o),r.o=/ *go\d+/.test(l),o.className=wn.apply(r,n)+(l?" "+l:""),t&&(o.ref=s);let u=e;return e[0]&&(u=o.as||e,delete o.as),xn&&u[0]&&xn(o),_n(u,o)}return t?t(a):a}}var Cn=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Tn=(()=>{let e=0;return()=>(++e).toString()})(),Nn=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jn=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:r}=t;return jn(e,{type:e.toasts.find((e=>e.id===r.id))?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+a})))}}},An=[],On={toasts:[],pausedAt:void 0},Rn=e=>{On=jn(On,e),An.forEach((e=>{e(On)}))},Pn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},In=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||Tn()}}(t,e,r);return Rn({type:2,toast:n}),n.id},Ln=(e,t)=>In("blank")(e,t);Ln.error=In("error"),Ln.success=In("success"),Ln.loading=In("loading"),Ln.custom=In("custom"),Ln.dismiss=e=>{Rn({type:3,toastId:e})},Ln.remove=e=>Rn({type:4,toastId:e}),Ln.promise=(e,t,r)=>{let n=Ln.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let a=t.success?Cn(t.success,e):void 0;return a?Ln.success(a,{id:n,...r,...null==r?void 0:r.success}):Ln.dismiss(n),e})).catch((e=>{let a=t.error?Cn(t.error,e):void 0;a?Ln.error(a,{id:n,...r,...null==r?void 0:r.error}):Ln.dismiss(n)})),e};var $n=(e,t)=>{Rn({type:1,toast:{id:e,height:t}})},Dn=()=>{Rn({type:5,time:Date.now()})},zn=new Map,Un=t=>{let{toasts:r,pausedAt:n}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[r,n]=(0,e.useState)(On),a=(0,e.useRef)(On);(0,e.useEffect)((()=>(a.current!==On&&n(On),An.push(n),()=>{let e=An.indexOf(n);e>-1&&An.splice(e,1)})),[]);let i=r.toasts.map((e=>{var r,n,a;return{...t,...t[e.type],...e,removeDelay:e.removeDelay||(null==(r=t[e.type])?void 0:r.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(n=t[e.type])?void 0:n.duration)||(null==t?void 0:t.duration)||Pn[e.type],style:{...t.style,...null==(a=t[e.type])?void 0:a.style,...e.style}}}));return{...r,toasts:i}}(t);(0,e.useEffect)((()=>{if(n)return;let e=Date.now(),t=r.map((t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout((()=>Ln.dismiss(t.id)),r);t.visible&&Ln.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[r,n]);let a=(0,e.useCallback)((()=>{n&&Rn({type:6,time:Date.now()})}),[n]),i=(0,e.useCallback)(((e,t)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:i}=t||{},s=r.filter((t=>(t.position||i)===(e.position||i)&&t.height)),o=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<o&&e.visible)).length;return s.filter((e=>e.visible)).slice(...n?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[r]);return(0,e.useEffect)((()=>{r.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(zn.has(e))return;let r=setTimeout((()=>{zn.delete(e),Rn({type:4,toastId:e})}),t);zn.set(e,r)}(e.id,e.removeDelay);else{let t=zn.get(e.id);t&&(clearTimeout(t),zn.delete(e.id))}}))}),[r]),{toasts:r,handlers:{updateHeight:$n,startPause:Dn,endPause:a,calculateOffset:i}}},Mn=Sn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Fn=Sn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Zn=Sn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Bn=En("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Mn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Fn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Zn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Vn=Sn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qn=En("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Vn} 1s linear infinite;
`,Wn=Sn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Hn=Sn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Gn=En("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Hn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Kn=En("div")`
  position: absolute;
`,Qn=En("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Jn=Sn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yn=En("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Jn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Xn=t=>{let{toast:r}=t,{icon:n,type:a,iconTheme:i}=r;return void 0!==n?"string"==typeof n?e.createElement(Yn,null,n):n:"blank"===a?null:e.createElement(Qn,null,e.createElement(qn,{...i}),"loading"!==a&&e.createElement(Kn,null,"error"===a?e.createElement(Bn,{...i}):e.createElement(Gn,{...i})))},ea=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ta=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,ra=En("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,na=En("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aa=e.memo((t=>{let{toast:r,position:n,style:a,children:i}=t,s=r.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,a]=Nn()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ea(r),ta(r)];return{animation:t?`${Sn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Sn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(r.position||n||"top-center",r.visible):{opacity:0},o=e.createElement(Xn,{toast:r}),l=e.createElement(na,{...r.ariaProps},Cn(r.message,r));return e.createElement(ra,{className:r.className,style:{...s,...a,...r.style}},"function"==typeof i?i({icon:o,message:l}):e.createElement(e.Fragment,null,o,l))}));!function(e,t,r,n){gn.p=t,_n=e,kn=r,xn=n}(e.createElement);var ia=t=>{let{id:r,className:n,style:a,onHeightUpdate:i,children:s}=t,o=e.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;i(r,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[r,i]);return e.createElement("div",{ref:o,className:n,style:a},s)},sa=wn`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,oa=t=>{let{reverseOrder:r,position:n="top-center",toastOptions:a,gutter:i,children:s,containerStyle:o,containerClassName:l}=t,{toasts:u,handlers:c}=Un(a);return e.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map((t=>{let a=t.position||n,o=((e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Nn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}})(a,c.calculateOffset(t,{reverseOrder:r,gutter:i,defaultPosition:n}));return e.createElement(ia,{id:t.id,key:t.id,onHeightUpdate:c.updateHeight,className:t.visible?sa:"",style:o},"custom"===t.type?Cn(t.message,t):s?s(t):e.createElement(aa,{toast:t,position:a}))})))},la=Ln;const ua=t=>{let{onSwitchToRegister:r}=t;const[n,a]=(0,e.useState)(""),[i,o]=(0,e.useState)(""),{login:l,logout:u,loading:c,error:d,errorType:h,user:f}=(0,Rr.useAuthStore)();return(0,s.jsxs)("form",{className:"max-w-sm mx-auto mt-12 p-6 bg-white rounded shadow",onSubmit:async e=>{e.preventDefault(),await l(n,i);const{error:t}=Rr.useAuthStore.getState();if(t){let e=t;switch(h){case"INVALID_CREDENTIALS":e=w.C.EROARE_AUTENTIFICARE||"Date de autentificare incorecte.";break;case"RLS_DENIED":e=w.C.EROARE_RLS||"Acces interzis (RLS).";break;case"NETWORK":e=w.C.EROARE_RETEA||"Eroare de re\u021bea. \xcencearc\u0103 din nou.";break;default:e=t||w.C.LOGIN_ERROR}la.error(e)}else la.success(w.C.LOGIN_SUCCES)},"data-testid":"login-form",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-center",children:"Autentificare"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block mb-1 font-medium",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",value:n,onChange:e=>a(e.target.value),className:"w-full border px-3 py-2 rounded",required:!0,"data-testid":"login-email"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block mb-1 font-medium",children:"Parol\u0103"}),(0,s.jsx)("input",{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),className:"w-full border px-3 py-2 rounded",required:!0,"data-testid":"login-password"})]}),d&&(0,s.jsx)("div",{className:"mb-2 text-red-600 text-center","data-testid":"login-error",children:(()=>{switch(h){case"INVALID_CREDENTIALS":return"Date de autentificare incorecte.";case"RLS_DENIED":return"Acces interzis (RLS).";case"NETWORK":return"Eroare de re\u021bea. \xcencearc\u0103 din nou.";default:return d}})()}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition disabled:opacity-60",disabled:c,"data-testid":"login-submit",children:c?"Se autentific\u0103...":"Autentificare"}),r&&(0,s.jsx)("button",{type:"button",className:"w-full mt-2 text-green-600 underline text-sm",onClick:r,"data-testid":"switch-to-register",children:"Nu ai cont? Creeaz\u0103 unul!"}),f&&(0,s.jsx)("button",{type:"button",className:"w-full mt-2 text-red-600 underline text-sm",onClick:async()=>{await u(),la.success(w.C.LOGOUT_SUCCES)},"data-testid":"logout-btn",children:"Logout"})]})},ca=t=>{let{onSwitchToLogin:r}=t;const[n,a]=(0,e.useState)(""),[i,o]=(0,e.useState)(""),[l,u]=(0,e.useState)(""),{register:c,loading:d,error:h,errorType:f}=(0,Rr.useAuthStore)(),[p,m]=(0,e.useState)(null);return(0,s.jsxs)("form",{className:"max-w-sm mx-auto mt-12 p-6 bg-white rounded shadow",onSubmit:async e=>{if(e.preventDefault(),m(null),i!==l)return m(null),void la.error(w.C.PAROLE_NECORESPUNZATOARE);await c(n,i);const{error:t}=Rr.useAuthStore.getState();if(t){let e=t;switch(f){case"PASSWORD_WEAK":e=w.C.PAROLA_PREA_SLABA||"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.";break;case"NETWORK":e="Eroare de re\u021bea. \xcencearc\u0103 din nou.";break;default:e=t||w.C.REGISTER_ERROR}la.error(e)}else m(w.C.REGISTER_SUCCES),la.success(w.C.REGISTER_SUCCES)},"data-testid":"register-form",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-center",children:"\xcenregistrare"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"register-email",className:"block mb-1 font-medium",children:"Email"}),(0,s.jsx)("input",{id:"register-email",type:"email",value:n,onChange:e=>a(e.target.value),className:"w-full border px-3 py-2 rounded",required:!0,"data-testid":"register-email"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"register-password",className:"block mb-1 font-medium",children:"Parol\u0103"}),(0,s.jsx)("input",{id:"register-password",type:"password",value:i,onChange:e=>o(e.target.value),className:"w-full border px-3 py-2 rounded",required:!0,"data-testid":"register-password"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"register-confirm",className:"block mb-1 font-medium",children:"Confirm\u0103 parola"}),(0,s.jsx)("input",{id:"register-confirm",type:"password",value:l,onChange:e=>u(e.target.value),className:"w-full border px-3 py-2 rounded",required:!0,"data-testid":"register-confirm"})]}),h&&(0,s.jsx)("div",{className:"mb-2 text-red-600 text-center","data-testid":"register-error",children:(()=>{switch(f){case"PASSWORD_WEAK":return"Parola trebuie s\u0103 aib\u0103 minim 8 caractere, liter\u0103 mare, mic\u0103, cifr\u0103 \u0219i simbol.";case"NETWORK":return"Eroare de re\u021bea. \xcencearc\u0103 din nou.";default:return h}})()}),p&&(0,s.jsx)("div",{className:"mb-2 text-green-600 text-center","data-testid":"register-success",children:p}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition disabled:opacity-60",disabled:d,"data-testid":"register-submit",children:d?"Se creeaz\u0103...":"Creeaz\u0103 cont"}),r&&(0,s.jsx)("button",{type:"button",className:"w-full mt-2 text-blue-600 underline text-sm",onClick:r,"data-testid":"switch-to-login",children:"Ai deja cont? Autentific\u0103-te!"})]})},da=e=>{let{size:t=40}=e;return(0,s.jsx)("div",{className:"flex justify-center items-center","data-testid":"spinner",children:(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"animate-spin",children:[(0,s.jsx)("circle",{cx:"22",cy:"22",r:"20",className:"stroke-primary-500",strokeWidth:"4",fill:"none",opacity:"0.2"}),(0,s.jsx)("path",{d:"M42 22c0-11.046-8.954-20-20-20",className:"stroke-primary-500",strokeWidth:"4",strokeLinecap:"round"})]})})},ha=()=>{console.log("\ud83d\udd1c App render"),e.useEffect((()=>{Rr.useAuthStore.getState().checkUser()}),[]);const[t,r]=e.useState((()=>{const e=window.location.hash.replace("#","");return"lunar-grid"===e||"options"===e?e:"transactions"}));(0,e.useEffect)((()=>{const e=()=>{const e=window.location.hash.replace("#","");r("lunar-grid"===e||"options"===e?e:"transactions")};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}}),[]);const{user:n,loading:a}=(0,Rr.useAuthStore)(),[i,o]=e.useState(!1);return n||a?a?(0,s.jsx)("div",{className:"fixed inset-0 bg-white/60 flex items-center justify-center z-50",children:(0,s.jsx)(da,{size:60})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(oa,{position:"top-right",toastOptions:{duration:3500}}),(0,s.jsxs)("div",{className:"max-w-[1200px] mx-auto my-8 font-sans",children:[(0,s.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,s.jsx)("button",{className:"py-2 px-4 font-medium "+("transactions"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>{r("transactions"),window.location.hash="transactions"},"data-testid":"transactions-tab",children:O}),(0,s.jsx)("button",{className:"py-2 px-4 font-medium "+("lunar-grid"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>{r("lunar-grid"),window.location.hash="lunar-grid"},"data-testid":"lunar-grid-tab",children:R}),(0,s.jsx)("button",{className:"py-2 px-4 font-medium "+("options"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>{r("options"),window.location.hash="options"},"data-testid":"options-tab",children:P||"Op\u021biuni"})]}),"transactions"===t&&(0,s.jsx)(qr,{}),"lunar-grid"===t&&(0,s.jsx)(ln,{}),"options"===t&&(0,s.jsx)(cn,{})]})]}):i?(0,s.jsx)(ca,{onSwitchToLogin:()=>o(!1)}):(0,s.jsx)(ua,{onSwitchToRegister:()=>o(!0)})};class fa extends e.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught:",e,t)}render(){var e;return this.state.hasError?(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-6 my-8 text-center",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-red-700 mb-2",children:w.C.EROARE_TITLU}),(0,s.jsx)("p",{className:"text-red-600",children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||w.C.EROARE_GENERALA})]}):this.props.children}}const pa=fa;t.createRoot(document.getElementById("root")).render((0,s.jsx)(e.StrictMode,{children:(0,s.jsx)(pa,{children:(0,s.jsx)(ha,{})})}))})()})();
//# sourceMappingURL=main.e0f49b05.js.map