import{r as a}from"./index-CA872eiw.js";const c=i=>new Intl.NumberFormat("ro-RO",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(i),y=i=>{const[m,o]=a.useState({}),[d,l]=a.useState(!1),[n,f]=a.useState({amount:"",description:"",recurring:!1,frequency:void 0}),s=a.useCallback(e=>{if(!e||e.trim()==="")return"Suma este obligatorie";const t=Number(e);if(isNaN(t))return"Suma trebuie să fie un număr valid";if(t<=0)return"Suma trebuie să fie pozitivă"},[]),u=a.useCallback(e=>{if(e&&e.length>255)return"Descrierea nu poate depăși 255 de caractere"},[]),v=a.useCallback(()=>{const e={},t=s(n.amount);t&&(e.amount=t);const r=u(n.description);return r&&(e.description=r),n.recurring&&!n.frequency&&(e.frequency="Frecvența este obligatorie pentru tranzacții recurente"),o(e),Object.keys(e).length===0},[n,s,u]),p=a.useCallback(e=>{f(t=>({...t,...e})),o(t=>{const r={...t};return e.amount!==void 0&&r.amount&&delete r.amount,e.description!==void 0&&r.description&&delete r.description,e.frequency!==void 0&&r.frequency&&delete r.frequency,r})},[]),b=a.useCallback(e=>{const t=new Date(i.year,i.month-1,i.day);return{amount:c(e),date:t,isPositive:e>0}},[i]);return{form:{data:n,updateData:p,validate:v},validation:{errors:m,setErrors:o,validateAmount:s,validateDescription:u},loading:{isLoading:d,setIsLoading:l},calculations:{formatMoney:c,calculateFinancialImpact:b}}};export{y as u};
